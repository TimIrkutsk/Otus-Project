
<!doctype html>
<html lang="ru" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>Print Site - Проект "Инвентаризация, автозаказ, контроль сроков хранения"</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2a3383ac.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
    <script>__md_scope=new URL("/",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  
        <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function () {
            remove_material_navigation();remove_mkdocs_theme_navigation();generate_toc();
        })
        </script>
        </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#section-1" class="md-skip">
          Перейти к содержанию
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Верхний колонтитул">
    <a href=".." title="Проект &#34;Инвентаризация, автозаказ, контроль сроков хранения&#34;" class="md-header__button md-logo" aria-label="Проект "Инвентаризация, автозаказ, контроль сроков хранения"" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Проект "Инвентаризация, автозаказ, контроль сроков хранения"
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Print Site
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Поиск" placeholder="Поиск" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Поиск">
        
        <button type="reset" class="md-search__icon md-icon" title="Очистить" aria-label="Очистить" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Инициализация поиска
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Вкладки" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href=".." class="md-tabs__link">
          
  
  
  Домашняя страница

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../page_2/" class="md-tabs__link">
          
  
  
  Документация проекта

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../object_characteristics/" class="md-tabs__link">
          
  
  
  Документация подсистемы

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../api_robots/" class="md-tabs__link">
          
  
  
  API

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../task/" class="md-tabs__link">
          
  
  
  Задачи

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../test_case/" class="md-tabs__link">
          
  
  
  Тест-кейсы

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="./" class="md-tabs__link">
        
  
  
    
  
  Print Site

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Навигация" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Проект &#34;Инвентаризация, автозаказ, контроль сроков хранения&#34;" class="md-nav__button md-logo" aria-label="Проект "Инвентаризация, автозаказ, контроль сроков хранения"" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Проект "Инвентаризация, автозаказ, контроль сроков хранения"
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Домашняя страница
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Домашняя страница
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    О проектной работе
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Документация проекта
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Документация проекта
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../page_2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Глоссарий
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../general_info/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Общие сведения
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../project_goals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Паспорт проекта
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../goals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Назначение и цели создания системы
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../system_requirements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Нефункциональные требования
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Документация подсистемы
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Документация подсистемы
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../object_characteristics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Характеристика объекта автоматизации
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../business_processes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Описание бизнес-процессов
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../subsystem_func_requirements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Функциональные требования к подсистеме
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../subsystem_requirements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Варианты использования и порядок их реализации
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../User_story/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Пользовательские истории (User Story) и порядок их реализации
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../information_model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Информационная модель
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../C4_model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Компонентная архитектура
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Seq_diagram/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Интеграционное взаимодействие
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../UI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Демонстрация UI макета
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_robots/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API для интеграции с роботизированной линией
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_logict/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API для интеграции с логистическими центрами
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_mobile_task/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API для мобильного приложения оператора линии
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_shelf_life_control/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API для контроля сроков годности партий полуфабрикатов
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_stock_management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API для управления складскими запасами
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API для получения прогнозов продаж
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_auto_order/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API для автоматического расчета и управления заказами полуфабрикатов
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_operational_stock/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API для управления оперативным запасом роботизированных линий
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Задачи
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Задачи
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../task/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Постановки на разработку по UserStory
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../task_UC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Постановки на разработку по Use Case
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Тест-кейсы
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Тест-кейсы
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test_case/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Тест кейсы для UserStory MVP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test_case_release/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Тест кейсы для UserStory первого релиза
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test_case_UC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Тест кейсы для UC MVP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test_case_UC_release/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Тест кейсы для UC первого релиза
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Print Site
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Print Site
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Содержание">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Содержание
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#section-1" class="md-nav__link">
    <span class="md-ellipsis">
      1 Домашняя страница
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-2" class="md-nav__link">
    <span class="md-ellipsis">
      2 Документация проекта
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2 Документация проекта">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#page_2" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Глоссарий
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#general_info" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Общие сведения
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#project_goals" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 Паспорт проекта
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#goals" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 Назначение и цели создания системы
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system_requirements" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 Нефункциональные требования
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-3" class="md-nav__link">
    <span class="md-ellipsis">
      3 Документация подсистемы
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3 Документация подсистемы">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#object_characteristics" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Характеристика объекта автоматизации
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#business_processes" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Описание бизнес-процессов
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subsystem_func_requirements" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 Функциональные требования к подсистеме
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subsystem_requirements" class="md-nav__link">
    <span class="md-ellipsis">
      3.4 Варианты использования и порядок их реализации
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user_story" class="md-nav__link">
    <span class="md-ellipsis">
      3.5 Пользовательские истории (User Story) и порядок их реализации
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#information_model" class="md-nav__link">
    <span class="md-ellipsis">
      3.6 Информационная модель
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#c4_model" class="md-nav__link">
    <span class="md-ellipsis">
      3.7 Компонентная архитектура
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#seq_diagram" class="md-nav__link">
    <span class="md-ellipsis">
      3.8 Интеграционное взаимодействие
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ui" class="md-nav__link">
    <span class="md-ellipsis">
      3.9 Демонстрация UI макета
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-4" class="md-nav__link">
    <span class="md-ellipsis">
      4 API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4 API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#api_robots" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 API для интеграции с роботизированной линией
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api_logict" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 API для интеграции с логистическими центрами
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api_mobile_task" class="md-nav__link">
    <span class="md-ellipsis">
      4.3 API для мобильного приложения оператора линии
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api_shelf_life_control" class="md-nav__link">
    <span class="md-ellipsis">
      4.4 API для контроля сроков годности партий полуфабрикатов
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api_stock_management" class="md-nav__link">
    <span class="md-ellipsis">
      4.5 API для управления складскими запасами
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api" class="md-nav__link">
    <span class="md-ellipsis">
      4.6 API для получения прогнозов продаж
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api_auto_order" class="md-nav__link">
    <span class="md-ellipsis">
      4.7 API для автоматического расчета и управления заказами полуфабрикатов
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api_operational_stock" class="md-nav__link">
    <span class="md-ellipsis">
      4.8 API для управления оперативным запасом роботизированных линий
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-5" class="md-nav__link">
    <span class="md-ellipsis">
      5 Задачи
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5 Задачи">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#task" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 Постановки на разработку по UserStory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#task_uc" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 Постановки на разработку по Use Case
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-6" class="md-nav__link">
    <span class="md-ellipsis">
      6 Тест-кейсы
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6 Тест-кейсы">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#test_case" class="md-nav__link">
    <span class="md-ellipsis">
      6.1 Тест кейсы для UserStory MVP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test_case_release" class="md-nav__link">
    <span class="md-ellipsis">
      6.2 Тест кейсы для UserStory первого релиза
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test_case_uc" class="md-nav__link">
    <span class="md-ellipsis">
      6.3 Тест кейсы для UC MVP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test_case_uc_release" class="md-nav__link">
    <span class="md-ellipsis">
      6.4 Тест кейсы для UC первого релиза
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<div id="print-site-page" class="print-site-enumerate-headings print-site-enumerate-figures">
        <section id="print-site-cover-page">
            
<div>

    
        <h1>Проект "Инвентаризация, автозаказ, контроль сроков хранения"</h1>
    

</div>


<table>

    

    

    

    
    <tr>
        <td>Copyright</td>
        <td>&copy; 2025 <a href="https://github.com/TimIrkutsk/Otus-Project"  target="_blank" rel="noopener">Тимохин Антон</a></td>
    </tr>
    

</table>





        </section>
        
        <section class="print-page">
            <div id="print-page-toc" data-toc-depth="2">
                <nav role='navigation' class='print-page-toc-nav'>
                <h1 class='print-page-toc-title'>Table of Contents</h1>
                </nav>
            </div>
        </section>
        
                    <section class='print-page md-section' id='section-1' heading-number='1'>
                        <h1>Домашняя страница<a class='headerlink' href='#section-1' title='Permanent link'></a>
                        </h1>
                    </section>
                    <section class='print-page md-section' id='section-2' heading-number='2'>
                        <h1>Документация проекта<a class='headerlink' href='#section-2' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="page_2" heading-number="2.1"><h1 id="page_2-_1">Глоссарий</h1>
<!-- Тут будут все сокращения и аббревиатуры -->
<ul>
<li>Стандартный заказ - заказ, в котором отсутствует блюдо "Комбо-бургер";</li>
<li>"Комбо-бургер" - блюдо, состав которого создан клиентом;</li>
<li>Клиент - внешний пользователь системы, посетитель ресторана;</li>
<li>API (от англ. Application Programming Interface) — это программный интерфейс приложений, набор инструкций, который позволяет разным приложениям общаться между собой;</li>
<li>ОС - операционная система;</li>
<li>СУБД -  система управления базами данных;</li>
<li>Windows - ОС от компании Microsoft;</li>
<li>MVP - (от англ. Minimum Viable Product, «минимально жизнеспособный продукт») — это тестовая версия сервиса с минимальным набором функций;</li>
<li>МП - мобильное приложение;</li>
<li>ТСО - Терминал самообслуживания;</li>
<li>FEFO (First Expire, First Out) — логистический метод ротации грузов, при котором в первую очередь отгружаются товары с ближайшим сроком годности, независимо от даты их поступления на склад;</li>
<li>ЛЦ - Логистический центр, центральный склад полуфабрикатов;</li>
<li>Immutable Log — это цифровые записи, которые нельзя модифицировать, удалять или изменять после создания;</li>
<li>SLA - (от англ. Service Level Agreement) - соглашение об уровне обслуживания;</li>
<li>CQRS - (от англ. Command Query Responsibility Segregation) - «разделение обязанностей команд и запросов» - архитектурный паттерн, который разделяет операции изменения данных (команды) и чтения данных (запросы);</li>
<li>Event Sourcing (источники событий, регистрация событий, генерация событий) — архитектурный паттерн, при котором все изменения в состоянии приложения сохраняются в той последовательности, в которой они были выполнены;</li>
<li>Spring Boot - основной фреймворк для реализации бизнес-логики;</li>
<li>Spring Data JPA - абстракция для работы с базой данных;</li>
<li>Feign Client - декларативный REST клиент для межсервисного взаимодействия;</li>
<li>Drools Engine - движок бизнес-правил для сложной логики расчетов;</li>
<li>Spring Kafka - интеграция с брокером сообщений Kafka для событийной архитектуры;</li>
<li>PostgreSQL - надежная реляционная БД для транзакционных данных;</li>
<li>gRPC - система удалённого вызова процедур (RPC) с открытым исходным кодом, разработанная компанией Google;</li>
<li>JDBC - JDBC (Java Database Connectivity) — стандартный API для взаимодействия Java-приложений с реляционными базами данных;</li>
<li>Kafka - распределённая платформа для обмена сообщениями, предназначенная для обработки потоков данных в реальном времени;</li>
<li>ClickHouse - колоночная система управления базами данных;</li>
<li>Redis - (от англ. Remote Dictionary Server — «удалённый серверный словарь») — нереляционная резидентная система управления базами данных класса NoSQL;</li>
<li>Redis Protocol - протокол для коммуникации между клиентами и сервером Redis;</li>
<li>WebSocket - сетевой протокол обмена информацией между веб-приложениями и сервером в онлайн-режиме;</li>
<li>SOAP - (от англ. Simple Object Access Protocol) — это протокол обмена структурированными сообщениями в распределённой вычислительной среде, использует XML;</li>
<li>REST - (от англ. Representational State Transfer) — архитектурный стиль взаимодействия между клиентом и сервером через HTTP;</li>
<li>HTTPS - (от англ. HyperText Transfer Protocol Secure) — протокол защищённой передачи данных;</li>
<li>JWT - JSON Web Token (JWT) — это открытый стандарт (RFC 7519) для создания токенов доступа, основанный на формате JSON;</li>
<li>JSON - (от англ. JavaScript Object Notation) — текстовый формат обмена данными, основанный на синтаксисе JavaScript;</li>
<li>XML - (от англ. eXtensible Markup Language — расширяемый язык разметки) — это язык программирования для создания логической структуры данных;</li>
<li>JPA - спецификация Java для управления объектно-реляционным отображением (ORM) в Java. Она позволяет сопоставлять классы Java (сущности) с таблицами базы данных и управлять данными с помощью простых API, а не сложного SQL.</li>
<li>RBAC (от англ. Role-Based Access Control) — это управление доступом на основе ролей (или контроль доступа на основе ролей) — методология управления правами доступа в информационных системах. Вместо назначения прав каждому пользователю точечно, права доступа группируются по ролям, а пользователи получают доступ к ресурсам уже в зависимости от своей роли</li>
</ul></section><section class="print-page" id="general_info" heading-number="2.2"><h1 id="general_info-_1">Общие сведения</h1>
<p>ООО “Рога и копыта” специализируется на ресторанном бизнесе, владеет сетью ресторанов быстрого питания и занимает лидирующие позиции на рынке.</p>
<h2 id="general_info-_2">Возможности бизнеса</h2>
<p>В рамках компании сложилась инициативная команда, которая смотрит в будущее и хочет запустить полностью автоматизированный ресторан. Для этих целей компания уже приобрела две роботизированные производственные линии для приготовления блюд.</p>
<h2 id="general_info-_3">Исходные данные</h2>
<h3 id="general_info-_4">О потребителе и ресторане</h3>
<ul>
<li>Клиенты ресторана - физические лица разных возрастных и потребительских групп.</li>
<li>Местоположение ресторана: спальный район.</li>
<li>Период высоких продаж в течение дня (часы): 8-10, 13-15, 18-21. Час-пик в обед - количество заказов увеличивается 200 заказов/час.<a href="#general_info-до 200 заказов-час" id="ПериодПродаж"></a> Утром и вечером спрос ниже.</li>
<li>У ресторана в среднем 2000 заказов в сутки.</li>
</ul>
<h3 id="general_info-_5">О производственной линии</h3>
<ul>
<li>Технологическое окно производственной линии - 2 часа ночью.</li>
<li>На начало проекта закуплено 2 производственных линии.</li>
<li>Каждая производственная линия имеет максимальную производительность 5000 в день.</li>
</ul>
<h3 id="general_info-_6">О существующей информационной системе</h3>
<ul>
<li>
<p>Сейчас существуют отдельные системы компании:</p>
<ul>
<li>Система для оформления доставки полуфабрикатов с центральных складов компании;</li>
<li>Система обработки заказов;</li>
<li>Система кассовых аппаратов;</li>
<li>Система бухгалтерии.</li>
</ul>
</li>
<li>
<p>Сейчас нет интеграции между системами.</p>
</li>
<li>Обмен выполняется файлами (ручная выгрузка/загрузка).</li>
</ul></section><section class="print-page" id="project_goals" heading-number="2.3"><h1 id="project_goals-_1">Паспорт проекта</h1>
<h2 id="project_goals-_2">Обоснования проекта</h2>
<p>Инициативная группа считает, что автоматизированный ресторан быстрого питания может предоставить уникальный опыт для своих клиентов. Использование инновационных технологий для принятия заказов и приготовления блюд позволит им гарантировать быстрый и точный сервис.</p>
<p>С этой целью была приобретена роботизированная производственная линия приготовления блюд и появилась необходимость интеграции этой линии в существующую информационную систему компании.</p>
<p>В результате реализации проекта инициативная группа ожидает получить следующие конкурентные преимущества:</p>
<ul>
<li><strong>Быстрота:</strong>
    Благодаря использованию технологии ресторан сможет готовить блюда быстрее, чем традиционные рестораны быстрого питания.</li>
<li><strong>Точность:</strong>
    Система сможет автоматически обрабатывать заказы, что уменьшит количество ошибок и сократит время ожидания клиентов.</li>
<li><strong>Эффективность:</strong>
    Автоматизированный процесс приготовления блюд позволит компании использовать ресурсы более эффективно - уменьшить количество отходов и сократить затраты на производственный персонал.</li>
</ul>
<h2 id="project_goals--">Бизнес - цели проекта</h2>
<ul>
<li>Интегрировать систему управления роботизированным производством с системой оформления заказа.</li>
<li>Автоматизировать процесс обработки заказа и передачи его на производство.</li>
<li>Реализовать возможность оформления заказа через мобильное приложение.</li>
<li>Автоматизировать оплату заказа по безналичному расчету.</li>
<li>Автоматизировать учет сроков хранения полуфабрикатов.</li>
<li>Снижение потерь от списания просроченных полуфабрикатов.</li>
<li>Повышение качества готовой продукции за счет использования только свежего сырья.</li>
<li>Снижение операционных издержек за счет сокращения ручных операций по учету и заказу.</li>
<li>Сократить издержи на персонал на 30%.</li>
<li>(Дополнительная цель) Реализовать возможность оплаты заказа бонусами.</li>
<li>(Необязательная цель) Настроить интеграцию с системами производства полуфабрикатов и бухгалтерии.</li>
<li>(Необязательная цель) Автоматизировать оплату заказа через наличный расчет.</li>
</ul>
<h2 id="project_goals-_3">Критерии успеха проекта</h2>
<ul>
<li>через 6 месяцев после начала проекта предоставлен MVP.</li>
<li>через 12 месяцев после начала проекта предоставлен первый релиз системы.</li>
<li>реализована автоматическая обработка заказа и передача его в производство.</li>
<li>реализован пользовательский интерфейс для контроля роботов на производстве и модификации технологических карт.</li>
<li>настроен учет сроков хранения и запасов полуфабрикатов с возможностью автозаказа.</li>
<li>скорость обработки заказов соответствует заявленным требованиям.</li>
<li>есть возможность масштабирования на всю сеть ресторанов.</li>
<li>издержки на персонал сокращены на 30%.</li>
</ul>
<h2 id="project_goals-_4">Этапы реализации</h2>
<ol>
<li>Сначала можно автоматизировать процесс оформления, обработки и передачи заказа.</li>
<li>Переход на роботизированную линию производства должен быть выполнен одномоментно, после тщательного тестирования.</li>
</ol>
<h2 id="project_goals-_5">Границы и ограничения проекта</h2>
<ul>
<li>Срок реализации проекта: 12 месяцев (включая 2-3 месяца на тестирование).Через год будет приниматься решение об успехе/неуспехе проекта.</li>
<li>Бюджет проекта: 100 млн. рублей. В рамках бюджета можно покупать другие лицензии для программного обеспечения.</li>
<li>В рамках проекта система автоматизации внедряется на один ресторан.</li>
<li>Можно использовать существующую кассовую систему.</li>
<li>Необходимо ориентироваться на существующие мощности оборудования.</li>
</ul>
<h2 id="project_goals--_1">Описание бизнес-процессов</h2>
<p>В рамках проекта должны быть автоматизированы следующие бизнес-процессы:</p>
<ul>
<li>процесс оформления, обработки, оплаты заказа.</li>
<li>процесс передачи заказа на роботизированную производственную линию.</li>
<li>процесс инвентаризации и управления запасами и сроками хранения полуфабрикатов.</li>
</ul></section><section class="print-page" id="goals" heading-number="2.4"><h1 id="goals-_1">Назначение и цели создания системы</h1>
<h2 id="goals-_2">Назначение</h2>
<p>Система автоматизированного ресторана предназначена для:</p>
<ul>
<li>автоматизации принятия, оформления и оплаты заказа;</li>
<li>автоматизации передачи заказа на роботизированную линию приготовления блюд;</li>
<li>отслеживания статуса заказа, отмены заказа и возврата оплаты;</li>
<li>создания/редактирования технологических карт для роботизированной линии;</li>
<li>отслеживания сроков хранения и запасов полуфабрикатов на роботизированной линии производства.</li>
</ul>
<p>Системой можно будет пользоваться через:</p>
<ul>
<li>веб-приложение,</li>
<li>мобильное приложение (далее - МП),</li>
<li>через терминал в ресторане (далее - ТСО).</li>
</ul>
<h2 id="goals-_3">Цели разработки</h2>
<ol>
<li>Создать систему автоматизированного ресторана, которая включает в себя:<ol>
<li>Возможность оформление заказа через веб-приложение, МП и ТСО.</li>
<li>Управление роботизированной линией через API (предоставляется производителем линии).</li>
<li>Создание/редактирование технологических карт для производственной линии.</li>
<li>Инвентаризацию запасов, учет сроков хранения и автозаказа полуфабрикатов.</li>
<li>Возможность оплаты через ТСО.</li>
</ol>
</li>
<li>Обеспечить интеграцию систем оформления заказа, управления производством, инвентаризации заказов, оплат между собой.</li>
<li>Выпустить MVP через 6 месяцев после начала проекта.</li>
<li>Выпустить первый релиз через 12 месяцев после начала проекта.</li>
<li>Обеспечить возможность кратного масштабирования системы на другие рестораны компании.</li>
</ol></section><section class="print-page" id="system_requirements" heading-number="2.5"><h1 id="system_requirements-_1">Нефункциональные требования</h1>
<h2 id="system_requirements-performance">Производительность (Performance)</h2>
<table>
<thead>
<tr>
<th style="text-align: left;">ID</th>
<th style="text-align: left;">Требование</th>
<th style="text-align: left;">Метрика</th>
<th style="text-align: left;">Обоснование / Пояснение</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>PER1</strong></td>
<td style="text-align: left;">Обработка пиковой нагрузки</td>
<td style="text-align: left;">Система должна обрабатывать до <strong>200 подтвержденных и оплаченных заказов в час</strong>.</td>
<td style="text-align: left;">Прямое бизнес-требование для работы в часы-пик (13-15).</td>
</tr>
<tr>
<td style="text-align: left;"><strong>PER2</strong></td>
<td style="text-align: left;">Время отклика системы</td>
<td style="text-align: left;">Время от подтверждения оплаты заказа до его попадания в очередь на роботизированную линию не должно превышать <strong>5 секунд (95-й процентиль)</strong>.</td>
<td style="text-align: left;">Обеспечивает отсутствие задержек между оплатой и началом приготовления.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>PER3</strong></td>
<td style="text-align: left;">Управление производительностью линий</td>
<td style="text-align: left;">Система должна эффективно распределять заказы, чтобы не превышать <strong>максимальную производительность линии в 5000 единиц</strong>.</td>
<td style="text-align: left;">Предотвращение перегрузки аппаратной части (роботов).</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="system_requirements-scalability">Масштабируемость (Scalability)</h2>
<table>
<thead>
<tr>
<th style="text-align: left;">ID</th>
<th style="text-align: left;">Требование</th>
<th style="text-align: left;">Метрика</th>
<th style="text-align: left;">Обоснование / Пояснение</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>SCA1</strong></td>
<td style="text-align: left;">Горизонтальное масштабирование</td>
<td style="text-align: left;">Архитектура системы должна позволять добавлять новые рестораны в сеть <strong>без изменения ядра системы</strong> и с минимальными доработками конфигурации.</td>
<td style="text-align: left;">Прямое бизнес-требование на расширение.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>SCA2</strong></td>
<td style="text-align: left;">Обработка роста нагрузки</td>
<td style="text-align: left;">Система должна быть спроектирована так, чтобы увеличение количества заказов или добавление новых линий/ресторанов не требовало полного пересмотра архитектуры.</td>
<td style="text-align: left;">Обеспечение долгосрочной жизнеспособности решения.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="system_requirements-reliability-availability">Надежность и Доступность (Reliability &amp; Availability)</h2>
<table>
<thead>
<tr>
<th style="text-align: left;">ID</th>
<th style="text-align: left;">Требование</th>
<th style="text-align: left;">Метрика</th>
<th style="text-align: left;">Обоснование / Пояснение</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>REL1</strong></td>
<td style="text-align: left;">Время безотказной работы (Uptime)</td>
<td style="text-align: left;">Система должна быть доступна <strong>не менее 99.5%</strong> в течение рабочего дня ресторана (с 8:00 до 21:00).</td>
<td style="text-align: left;">Критически важно для непрерывности процесса продаж и производства.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>REL2</strong></td>
<td style="text-align: left;">Восстанавливаемость (Recoverability)</td>
<td style="text-align: left;">Время на восстановление работы системы после сбоя не должно превышать <strong>15 минут</strong>.</td>
<td style="text-align: left;">Минимизация простоя и финансовых потерь.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>REL3</strong></td>
<td style="text-align: left;">Отказоустойчивость</td>
<td style="text-align: left;">Сбой в работе одного из модулей системы (кроме модуля работы с роботами) не должен приводить к полной остановке работы всего комплекса.</td>
<td style="text-align: left;">Повышение общей стабильности работы ресторана.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="system_requirements-security">Безопасность (Security)</h2>
<table>
<thead>
<tr>
<th style="text-align: left;">ID</th>
<th style="text-align: left;">Требование</th>
<th style="text-align: left;">Метрика</th>
<th style="text-align: left;">Обоснование / Пояснение</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>SEC1</strong></td>
<td style="text-align: left;">Следование бизнес-правилу</td>
<td style="text-align: left;">Приготовление заказа должно начинаться <strong>строго после получения из финансовой системы подтверждения факта его оплаты</strong>.</td>
<td style="text-align: left;">Критически важное правило для предотвращения финансовых потерь.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>SEC2</strong></td>
<td style="text-align: left;">Контроль доступа (RBAC)</td>
<td style="text-align: left;">Система должна реализовывать ролевую модель доступа (кассир, оператор линии, администратор, техник) для разграничения права.</td>
<td style="text-align: left;">Защита от несанкционированных действий.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>SEC3</strong></td>
<td style="text-align: left;">Безопасность данных</td>
<td style="text-align: left;">Данные о заказах и транзакциях должны быть защищены от несанкционированного доступа и изменения.</td>
<td style="text-align: left;">Соответствие стандартам обработки платежных данных.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="system_requirements-maintainability">Сопровождаемость (Maintainability)</h2>
<table>
<thead>
<tr>
<th style="text-align: left;">ID</th>
<th style="text-align: left;">Требование</th>
<th style="text-align: left;">Метрика</th>
<th style="text-align: left;">Обоснование / Пояснение</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>MAI1</strong></td>
<td style="text-align: left;">Модульность архитектуры</td>
<td style="text-align: left;">Система должна быть построена по модульному принципу для возможности <strong>независимого развертывания и обновления</strong> компонентов.</td>
<td style="text-align: left;">Прямое требование из условий для этапного внедрения.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>MAI2</strong></td>
<td style="text-align: left;">Качество кода и тестируемость</td>
<td style="text-align: left;">Код должен сопровождаться автоматическими тестами. Особое внимание должно быть уделено <strong>тестированию модуля интеграции с API роботов</strong>.</td>
<td style="text-align: left;">Снижение рисков, отмеченных СТО. Позволяет уверенно вносить изменения.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>MAI3</strong></td>
<td style="text-align: left;">Ведение логов</td>
<td style="text-align: left;">Система должна вести детальные логи работы, особенно всех взаимодействий с API роботов, для оперативного анализа и устранения сбоев.</td>
<td style="text-align: left;">Критически важно для отладки в момент внедрения и последующей эксплуатации.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="system_requirements-compatibility">Совместимость (Compatibility)</h2>
<table>
<thead>
<tr>
<th style="text-align: left;">ID</th>
<th style="text-align: left;">Требование</th>
<th style="text-align: left;">Метрика</th>
<th style="text-align: left;">Обоснование / Пояснение</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>COM1</strong></td>
<td style="text-align: left;">Интеграция с API роботов</td>
<td style="text-align: left;">Система должна быть реализована с учетом специфики <strong>API, предоставляемого вендором роботов</strong>. Должна быть реализована устойчивая к сбоям связь.</td>
<td style="text-align: left;">Ключевой технический риск проекта, требующий особого внимания.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>COM2</strong></td>
<td style="text-align: left;">Интеграция с существующими системами</td>
<td style="text-align: left;">Приоритетной является <strong>интеграция с финансовой/платежной системой</strong>. Интеграция с другими системами является опциональной.</td>
<td style="text-align: left;">Прямое указание из условий.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>COM3</strong></td>
<td style="text-align: left;">Платформа</td>
<td style="text-align: left;">Система должна работать под управлением <strong>ОС Windows</strong>. Выбор СУБД не критичен, но должен быть обоснован.</td>
<td style="text-align: left;">Ограничение по инфраструктуре.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="system_requirements-usability">Удобство использования (Usability)</h2>
<table>
<thead>
<tr>
<th style="text-align: left;">ID</th>
<th style="text-align: left;">Требование</th>
<th style="text-align: left;">Метрика</th>
<th style="text-align: left;">Обоснование / Пояснение</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>USA1</strong></td>
<td style="text-align: left;">Система оповещений</td>
<td style="text-align: left;">Оперативная отправка уведомления о сбоях в работе системы/остановке, о том, из-за чего могла случиться авария и какие компоненты затронуты.</td>
<td style="text-align: left;">Требование для обеспечения качества продукции и скорости обслуживания.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>USA2</strong></td>
<td style="text-align: left;">Эффективность интерфейсов</td>
<td style="text-align: left;">Частота ошибок пользователей, заполняющие реквизиты на странице справочников или на странице оформления заказа, не должна превышать 10%.</td>
<td style="text-align: left;">Снижение нагрузки на персонал и минимизация ошибок.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="system_requirements-constraints">Прочие Ограничения (Constraints)</h2>
<table>
<thead>
<tr>
<th style="text-align: left;">ID</th>
<th style="text-align: left;">Требование</th>
<th style="text-align: left;">Обоснование / Пояснение</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>CON1</strong></td>
<td style="text-align: left;">Этапность внедрения</td>
<td style="text-align: left;">Внедрение должно быть поэтапным: <strong>первый этап — зона обслуживания</strong>, второй этап — <strong>полная и одномоментная замена зоны производства</strong>.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>CON2</strong></td>
<td style="text-align: left;">Сохранение качества продукции</td>
<td style="text-align: left;">Внедрение системы <strong>не должно приводить к снижению качества</strong> готовой продукции.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>CON3</strong></td>
<td style="text-align: left;">Бюджетное ограничение</td>
<td style="text-align: left;">Реализация дополнительных интеграций является опциональной и зависит от приоритетов в рамках выделенного бюджета.</td>
</tr>
</tbody>
</table></section></section>
                    <section class='print-page md-section' id='section-3' heading-number='3'>
                        <h1>Документация подсистемы<a class='headerlink' href='#section-3' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="object_characteristics" heading-number="3.1"><h1 id="object_characteristics-_1">Характеристика объекта автоматизации</h1>
<h2 id="object_characteristics-_2">Предмет разработки</h2>
<p>Система управления складскими остатками для сети ресторанов быстрого питания, обеспечивающей бесперебойную работу роботизированных линий за счет:</p>
<ul>
<li>Исключения дефицита ключевых полуфабрикатов.</li>
<li>Полного контроля сроков годности по принципу FEFO.</li>
<li>Минимизации ручного труда и человеческого фактора в процессе заказа.</li>
</ul>
<h2 id="object_characteristics-_3">Сведения о пользователях системы</h2>
<p>Пользователи проектируемой системы являются:</p>
<ul>
<li>Оператор линии - следит за работой роботов, реагирует на сообщения от системы роботизированной линии и пополняет операционный запас полуфабрикатов для роботов.</li>
<li>Технолог - разрабатывает технологические карты приготовления блюд, заполняет сроки хранения полуфабрикатов на складе и в цехе после вскрытия упаковки.</li>
<li>Администратор системы - имеет полный доступ к системе инвентаризации.</li>
</ul>
<h2 id="object_characteristics-_4">Сведения о заинтересованных лицах</h2>
<ul>
<li>Технолог</li>
</ul></section><section class="print-page" id="business_processes" heading-number="3.2"><h1 id="business_processes--">Описание бизнес-процессов</h1>
<p>Пользователь взаимодействует с системой управления складскими остатками при проведении инвентаризации</p>
<h2 id="business_processes-_1">Процесс инвентаризации и автозаказа</h2>
<p><img alt="" src="../assets/Inventory_control.png" /></p>
<h2 id="business_processes-_2">Процесс пополнения оперативного запаса</h2>
<p><img alt="" src="../assets/robot_line_supply.png" /></p>
<h2 id="business_processes-_3">Процесс контроля сроков годности партий</h2>
<p><img alt="" src="../assets/Expiration_date_control.png" /></p></section><section class="print-page" id="subsystem_func_requirements" heading-number="3.3"><h1 id="subsystem_func_requirements-_1">Функциональные требования к подсистеме</h1>
<h2 id="subsystem_func_requirements-_2"><strong>Управление данными и номенклатурой</strong></h2>
<ul>
<li><strong>FR1.1:</strong> Система должна предоставлять интерфейс для ведения справочника <strong>полуфабрикатов</strong> с атрибутами: ID, название, единица измерения (шт/кг), категория.</li>
<li><strong>FR1.2:</strong> Система должна предоставлять интерфейс для ведения справочника <strong>складских зон/ячеек</strong> с атрибутами: ID, название, тип (холодильник, морозильник, оперативный запас линии).</li>
<li><strong>FR1.3:</strong> Система должна предоставлять интерфейс для ведения справочника <strong>поставщиков</strong> (логистических центров).</li>
<li><strong>FR1.4:</strong> Система должна поддерживать учет остатков на уровне <strong>партий</strong> с атрибутами: ID (штрихкод), привязка к полуфабрикату, дата производства, срок годности, дата поступления, текущее количество, статус (активна, заблокирована, утилизирована).</li>
</ul>
<h2 id="subsystem_func_requirements-_3"><strong>Инвентаризация</strong></h2>
<ul>
<li><strong>FR2.1:</strong> Система должна позволять формировать <strong>задание на инвентаризацию</strong> (сплошную или выборочную) с передачей списка зон/номенклатуры на мобильное устройство оператора.</li>
<li><strong>FR2.2:</strong> Система должна предоставлять <strong>мобильный интерфейс</strong> с возможностью сканирования штрих-кодов партий и внесения фактического количества/веса.</li>
<li><strong>FR2.3:</strong> Система должна автоматически <strong>сверять внесенные фактические данные с системными остатками</strong>.</li>
<li><strong>FR2.4:</strong> Система должна автоматически <strong>формировать акт инвентаризации</strong> с расчетом расхождений и проводить автоматическую коррекцию остатков в системе при подтверждении.</li>
</ul>
<h2 id="subsystem_func_requirements-_4"><strong>Автозаказ полуфабрикатов</strong></h2>
<ul>
<li><strong>FR3.1:</strong> Система должна предоставлять интерфейс для <strong>настройки правил автозаказа</strong> для каждого полуфабриката: минимальный/максимальный запас на складе, точка заказа, кратность партии, учет сезонности/прогноза продаж (опционально).</li>
<li><strong>FR3.2:</strong> Система должна <strong>запускать алгоритм расчета заказа</strong> ежедневно на основе актуальных остатков и настроенных правил.</li>
<li><strong>FR3.3:</strong> Система должна <strong>формировать черновик заказа</strong> и предоставлять возможность его ручной корректировки (на будущее).</li>
<li><strong>FR3.4:</strong> Система должна <strong>автоматически утверждать и передавать</strong> сформированный заказ в систему логистического центра (ЛЦ) через API.</li>
</ul>
<h2 id="subsystem_func_requirements-_5"><strong>Пополнение оперативного запаса линии</strong></h2>
<ul>
<li><strong>FR4.1:</strong> Система должна <strong>отслеживать остаток полуфабрикатов в оперативном запасе</strong> роботизированной линии.</li>
<li><strong>FR4.2:</strong> Система должна <strong>автоматически формировать задание для оператора</strong> на пополнение оперативного запаса при достижении минимального порога (по событию от робота).</li>
<li><strong>FR4.3:</strong> В задании оператору система должна <strong>указывать конкретный штрихкод партии</strong> со склада, отобранной по алгоритму <strong>FEFO</strong> (First Expired, First Out).</li>
<li><strong>FR4.4:</strong> Система должна <strong>подтверждать перемещение</strong> после сканирования оператором штрих-кода зоны "Оперативный запас": списывать количество со складской партии и добавлять к виртуальной "партии" оперативного запаса.</li>
</ul>
<h2 id="subsystem_func_requirements-_6"><strong>Контроль сроков годности и утилизация</strong></h2>
<ul>
<li><strong>FR5.1:</strong> Система должна по расписанию (настраиваемому) <strong>проверять все партии</strong> (складские и оперативные) на предмет истечения срока годности.</li>
<li><strong>FR5.2:</strong> Система должна <strong>выявлять партии</strong>, срок годности которых истекает в течение X часов (X – настраиваемый параметр).</li>
<li><strong>FR5.3:</strong> Система должна <strong>автоматически блокировать</strong> выявленные партии, подлежащие утилизации, исключая их использование для пополнения или приготовления.</li>
<li><strong>FR5.4:</strong> Система должна <strong>формировать и отправлять оператору задание на утилизацию</strong> с указанием локации и штрих-кода партии.</li>
<li><strong>FR5.5:</strong> Система должна <strong>снимать блокировку и списывать</strong> партию только после <strong>подтверждения оператором</strong> факта утилизации через мобильный интерфейс.</li>
</ul>
<h2 id="subsystem_func_requirements-api"><strong>Интеграции (API)</strong></h2>
<ul>
<li>
<p><strong>FR6.1:</strong> Система должна предоставлять <strong>API для роботизированной линии</strong> для:</p>
<ul>
<li>Запроса разрешения на использование полуфабриката из оперативного запаса (с возвратом статуса и срока годности).</li>
<li>Передачи данных о списании каждой единицы.</li>
</ul>
</li>
<li>
<p><strong>FR6.2:</strong> Система должна предоставлять <strong>API для обмена данными с системой Логистического Центра</strong> для:</p>
<ul>
<li>Получения данных о партиях (по штрих-коду) при их приемке.</li>
<li>Передачи сформированных заказов.</li>
</ul>
</li>
<li>
<p><strong>FR6.3:</strong> Система должна предоставлять <strong>API для получения данных о продажах</strong> из CRM-системы ресторана для уточнения прогноза в алгоритме автозаказа (опционально).</p>
</li>
</ul>
<h2 id="subsystem_func_requirements-_7"><strong>Управление доступом (ролевая модель)</strong></h2>
<ul>
<li>
<p><strong>FR7.1:</strong> Система должна предоставлять <strong>Оператору линии</strong> права на:</p>
<ul>
<li>Выполнение заданий по инвентаризации.</li>
<li>Пополнение оперативного запаса робота.  </li>
<li>Контроль работы робота.</li>
<li>Выполнение заданий по утилизации просроченных полуфабрикатов.</li>
<li>Подтверждение корректировки остатков при инвентаризации.</li>
<li>Подтверждение утилизации с указанием причины.</li>
</ul>
</li>
<li>
<p><strong>FR7.2:</strong> Система должна предоставлять <strong>Технологу</strong> права на:</p>
<ul>
<li>Заполнение справочников.</li>
<li>Составление технологических карт.</li>
<li>Утверждение утилизации.</li>
<li>Утверждение автозаказа.</li>
<li>Контроль срока годности полуфабрикатов по отчету.</li>
<li>Настройку правил автозаказа (минимальный/максимальный запас, точка заказа).</li>
<li>Настройку параметров контроля сроков годности.</li>
</ul>
</li>
<li>
<p><strong>FR7.3:</strong> Система должна предоставлять <strong>Администратору</strong> системы полные права без ограничений на все функции системы.</p>
</li>
</ul></section><section class="print-page" id="subsystem_requirements" heading-number="3.4"><h1 id="subsystem_requirements-_1">Варианты использования и порядок их реализации</h1>
<h2 id="subsystem_requirements-_2">Диаграмма вариантов использования</h2>
<p>На снимке ниже представлены все варианты использования, которые будут реализованы в системе (нотация UML):
<img alt="use case" src="../assets/UseCase_diagram.png" /></p>
<h2 id="subsystem_requirements-_3">Диаграмма статусов</h2>
<p>Партии полуфабрикатов имеют статусы, показанные на снимке:
<img alt="status_model" src="../diagrams/out/StatusDiagram.svg" /></p>
<p>Реализацию вариантов использования необходимо разделить на два этапа - MVP и Первая поставка:</p>
<h2 id="subsystem_requirements-use-case-mvp">Описание Use Case, реализуемых в рамках MVP</h2>
<h3 id="subsystem_requirements-uc1">UC1. Сформировать отчет по сроку годности</h3>
<p><strong>1. Краткое описание:</strong> Этот Use Case описывает процесс формирования пользователем (Оператором или Технологом) отчета, который отображает актуальные остатки полуфабрикатов с детализацией по партиям и их срокам годности. Отчет позволяет визуально идентифицировать партии, требующие внимания: с истекшим или близким к истечению сроком.</p>
<p><strong>2. Акторы:</strong></p>
<ul>
<li><strong>Основной:</strong> Оператор роботизированной линии.</li>
<li><strong>Основной:</strong> Технолог.</li>
</ul>
<p><strong>3. Предусловия:</strong></p>
<ul>
<li>Пользователь авторизован в системе.</li>
<li>В системе проведена как минимум одна инвентаризация (UC4), обеспечивающая актуальность остатков.</li>
<li>В системе внесены данные о сроках годности по партиям (через инвентаризацию).</li>
</ul>
<p><strong>4.Триггер:</strong></p>
<ul>
<li>Пользователь выбирает опцию «Сформировать отчет по срокам годности».</li>
</ul>
<p><strong>5. Основной поток событий:</strong></p>
<table>
<thead>
<tr>
<th style="text-align: left;">Шаг</th>
<th style="text-align: left;">Действие Актора</th>
<th style="text-align: left;">Ответ Системы</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система отображает форму для настройки параметров отчета.</td>
</tr>
<tr>
<td style="text-align: left;">2</td>
<td style="text-align: left;">Пользователь задает <strong>параметры отчета</strong> (опционально): <br> - <strong>Зона хранения</strong>.<br> - <strong>Группа товаров</strong> .<br> - <strong>Статус срока годности</strong>.<br> - <strong>Формат вывода</strong>.</td>
<td style="text-align: left;">Система сохраняет предыдущие настройки пользователя по умолчанию.</td>
</tr>
<tr>
<td style="text-align: left;">3</td>
<td style="text-align: left;">Пользователь нажимает кнопку <strong>"Сформировать"</strong>.</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">4</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система выполняет запрос к базе данных, выбирая актуальные остатки по партиям, фильтруя и сортируя их согласно заданным параметрам.</td>
</tr>
<tr>
<td style="text-align: left;">5</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система <strong>формирует и отображает отчет</strong> в виде таблицы.</td>
</tr>
<tr>
<td style="text-align: left;">6</td>
<td style="text-align: left;">Пользователь <strong>анализирует отчет</strong>. Он ищет партии с статусом <strong>"Просрочен"</strong> или <strong>"Истекает сегодня"</strong>.</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">7</td>
<td style="text-align: left;">Пользователь <strong>принимает решение</strong> на основе отчета: <br> - Сообщает Технологу.<br> - Инициирует процесс утилизации (UC2-MVP).<br> - Переносит партию на более видное место для скорейшего использования (FIFO/FEFO).</td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>
<p><strong>6. Альтернативные потоки:</strong></p>
<ul>
<li><strong>А1: Автоматическое формирование отчета по расписанию.</strong></li>
<li>Технолог может настроить автоматическую генерацию отчета (например, каждое утро в 7:00) и отправку его на email. В этом случае система является инициатором Use Case.</li>
<li><strong>А2: Детализация партии.</strong></li>
<li>На шаге 5: Пользователь может кликнуть на строку с партией в отчете, чтобы просмотреть детальную информацию: дату поступления, первоначальное количество, историю движений.</li>
<li><strong>А3: Печать отчета для бумажного аудита.</strong></li>
<li>Пользователь выбирает формат вывода "PDF", распечатывает отчет и подшивает его в журнал утилизаций.</li>
</ul>
<p><strong>7. Постусловия:</strong></p>
<ul>
<li>Сформирован отчет, отвечающий заданным параметрам.</li>
<li>Пользователь проинформирован о состоянии запасов и сроках годности.</li>
<li>На основе отчета могут быть инициированы действия: утилизация, перемещение, заказ, пополнение роботизированной линии.</li>
</ul>
<p><strong>8. Особые требования (NFR) для MVP:</strong></p>
<ul>
<li><strong>Производительность:</strong> Формирование отчета на экран не должно занимать более <strong>5-7 секунд</strong>.</li>
<li><strong>Удобство использования:</strong> Это критичное требование для MVP. Отчет должен быть интуитивно понятным:</li>
<li><strong>Визуальная цветовая индикация:</strong> Строки с просроченными партиями подсвечиваются <strong>красным</strong>, истекающие сегодня — <strong>желтым</strong>, истекающие завтра — <strong>оранжевым</strong>, партии со статусом "Заблокирована" — <strong>серым</strong>. Остальные — <strong>белым/зеленым</strong>.</li>
<li><strong>Сортировка по умолчанию:</strong> Отчет автоматически сортируется по полю "Срок годности" (по возрастанию), чтобы самые проблемные партии были вверху.</li>
<li><strong>Важные колонки:</strong> В отчете обязательно должны быть колонки: <em>Штрих-код, Наименование, Партия, Срок годности, Остаток, Локация, Статус</em>.</li>
<li><strong>Доступность:</strong> Отчет должен быть доступен для просмотра на веб-интерфейсе.</li>
<li><strong>Консистентность:</strong> Данные в отчете должны строго соответствовать данным на момент его формирования. Последующие изменения остатков не должны менять уже сформированный отчет (если он не сформирован заново).</li>
</ul>
<h3 id="subsystem_requirements-uc2-mvp">UC2-MVP. Утилизировать партию по отчету</h3>
<p><strong>1. Краткое описание:</strong> Этот Use Case описывает процесс, в котором Оператор линии вручную находит в системе партии, подлежащие утилизации (на основе отчета), физически изымает их и подтверждает факт утилизации в системе. Это упрощенная версия процесса без автоматических заданий для реализации на этапе MVP.</p>
<p><strong>2. Акторы:</strong></p>
<ul>
<li><strong>Основной:</strong> Оператор линии.</li>
</ul>
<p><strong>3. Предусловия:</strong></p>
<ul>
<li>Оператор авторизован в системе.</li>
<li>В системе сформировать <strong>отчет "По сроку годности"</strong> (UC1).</li>
<li>Оператор получил устное или письменное задание от Технолога на проведение утилизации.</li>
</ul>
<p><strong>4. Триггер:</strong></p>
<ul>
<li>Оператор открывает отчет «По сроку годности».</li>
</ul>
<p><strong>5 Основной поток событий:</strong></p>
<table>
<thead>
<tr>
<th style="text-align: left;">Шаг</th>
<th style="text-align: left;">Действие Актора</th>
<th style="text-align: left;">Ответ Системы</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система отображает список партий с истекшим или истекающим сроком годности.</td>
</tr>
<tr>
<td style="text-align: left;">2</td>
<td style="text-align: left;">Оператор просматривает отчет, определяет партию для утилизации и запоминает ее локацию и штрихкод.</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">3</td>
<td style="text-align: left;">Оператор следует к указанной локации на складе, находит партию по штрих-коду.</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">4</td>
<td style="text-align: left;">Оператор сканирует штрих-код партии с помощью мобильного устройства.</td>
<td style="text-align: left;">Система распознает партию, отображает ее данные и <strong>подтверждает, что она находится в отчете "к утилизации"</strong>.</td>
</tr>
<tr>
<td style="text-align: left;">5</td>
<td style="text-align: left;">Оператор физически изымает партию и перемещает ее в зону утилизации.</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">6</td>
<td style="text-align: left;">Оператор в мобильном приложении нажимает кнопку <strong>"Подтвердить утилизацию"</strong>.</td>
<td style="text-align: left;">Система запрашивает подтверждение действия.</td>
</tr>
<tr>
<td style="text-align: left;">7</td>
<td style="text-align: left;">Оператор подтверждает свое намерение.</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">8</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система выполняет следующие действия:<br> 1. <strong>Списывает</strong> остаток данной партии до нуля.<br> 2. Изменяет статус партии на <strong>"Утилизирована"</strong> (снимая блокировку, если она была). 3. <strong>Фиксирует</strong> акт списания в базе данных с указанием причины "Утилизация по сроку годности", даты и ответственного.<br> 4. <strong>Обновляет</strong> остатки на складе в реальном времени.<br> 5. <strong>Исключает</strong> партию из отчета "к утилизации".</td>
</tr>
<tr>
<td style="text-align: left;">9</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система отображает на терминале оператора сообщение об успехе.</td>
</tr>
</tbody>
</table>
<p><strong>6. Альтернативные потоки:</strong></p>
<ul>
<li><strong>А1: Партия не найдена в отчете.</strong></li>
<li>На шаге 4: Если оператор сканирует партию, которой нет в отчете, система показывает предупреждение: "Данная партия не значится в отчете к утилизации". Процесс утилизации прерывается и начинается шаг 2.</li>
<li><strong>А2: Ручной ввод.</strong></li>
<li>На шаге 4: Если штрих-код поврежден, оператор может вручную найти партию в отчете и выбрать ее.</li>
</ul>
<p><strong>7. Постусловия:</strong></p>
<ul>
<li>Партия физически утилизирована.</li>
<li>Остатки партии в системе равны 0.</li>
<li>В системе зафиксирован акт списания.</li>
<li>Партия удалена из отчета "к утилизации".</li>
</ul>
<p><strong>8. Особые требования (NFR) для MVP:</strong></p>
<ul>
<li><strong>Актуальность:</strong> Отчет должен формироваться по требованию.</li>
<li><strong>Доступность:</strong> Оператор должен иметь быстрый доступ к отчету с web-приложения.</li>
</ul>
<h3 id="subsystem_requirements-uc3-mvp">UC3-MVP. Пополнить оперативный запас у робота по отчету</h3>
<p><strong>1. Краткое описание:</strong> Этот Use Case описывает процесс, в котором Оператор роботизированной линии вручную проверяет в системе отчет об остатках на линии, самостоятельно принимает решение о необходимости пополнения, находит на складе подходящую партию (руководствуясь принципом FEFO) и фиксирует факт перемещения в системе.</p>
<p><strong>2. Акторы:</strong></p>
<ul>
<li><strong>Основной:</strong> Оператор линии.</li>
<li><strong>Вторичный:</strong> Технолог (может дать устное указание на пополнение).</li>
</ul>
<p><strong>3. Предусловия:</strong></p>
<ul>
<li>Оператор авторизован в системе.</li>
<li>В системе существует"Сроки годности" (UC1).</li>
</ul>
<p><strong>4. Триггер:</strong></p>
<ul>
<li>Оператор визуально видит, что запас одного полуфабрикатов на производственной линии заканчивается.</li>
</ul>
<p><strong>5. Основной поток событий:</strong></p>
<table>
<thead>
<tr>
<th style="text-align: left;">Шаг</th>
<th style="text-align: left;">Действие Актора</th>
<th style="text-align: left;">Ответ Системы</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Оператор открывает "Сроки годности" (UC1) для полуфабриката, который заканчивается.</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">2</td>
<td style="text-align: left;">Оператор визуально определяет, что остаток одного из полуфабрикатов низкий.</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">3</td>
<td style="text-align: left;">Оператор открывает <strong>"Сроки годности" (UC1)</strong> для этого полуфабриката.</td>
<td style="text-align: left;">Система показывает список всех партий этого полуфабриката на складе, отсортированный по сроку годности (FEFO).</td>
</tr>
<tr>
<td style="text-align: left;">4</td>
<td style="text-align: left;">Оператор <strong>вручную выбирает партию</strong> для пополнения из верхней строки отчета (с самым близким сроком годности) и запоминает ее локацию и штрихкод.</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">5</td>
<td style="text-align: left;">Оператор следует к указанной <strong>складской ячейке</strong>, находит партию по штрих-коду.</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">6</td>
<td style="text-align: left;">Оператор сканирует штрих-код партии на складе.</td>
<td style="text-align: left;">Система распознает партию и отображает ее данные.</td>
</tr>
<tr>
<td style="text-align: left;">7</td>
<td style="text-align: left;">Оператор забирает необходимое количество (например, целую упаковку) и транспортирует его к линии.</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">8</td>
<td style="text-align: left;">Оператор физически пополняет <strong>оперативный запас</strong> линии.</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">9</td>
<td style="text-align: left;">Оператор в мобильном приложении выбирает функцию <strong>"Зафиксировать перемещение"</strong>.</td>
<td style="text-align: left;">Система предлагает ввести количество (значение по умолчанию = 1).</td>
</tr>
<tr>
<td style="text-align: left;">10</td>
<td style="text-align: left;">Оператор при необходимости изменяет количество.</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">11</td>
<td style="text-align: left;">Оператор нажимает <strong>"Подтвердить"</strong>.</td>
<td style="text-align: left;">Система выполняет проводку: списывает количество со складской партии и добавляет его к выбранному оперативному запасу.</td>
</tr>
<tr>
<td style="text-align: left;">12</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система отображает сообщение об успешном перемещении.</td>
</tr>
</tbody>
</table>
<p><strong>6. Альтернативные потоки:</strong></p>
<ul>
<li><strong>А1: Партия не найдена или недостаточно.</strong></li>
<li>На шаге 5-6: Если выбранной партии нет на месте или ее недостаточно, оператор выбирает следующую в отчете партию по FEFO.</li>
<li><strong>А2: Обнаружена просроченная партия.</strong></li>
<li>На шаге 6: При сканировании система может показать предупреждение, что срок годности партии истек. Оператор должен отказаться от ее использования и сообщить Технологу (инициируя процесс утилизации UC2-MVP).</li>
</ul>
<p><strong>7. Постусловия:</strong></p>
<ul>
<li>Оперативный запас линии пополнен.</li>
<li>Остатки на складе и на линии корректно обновлены в системе.</li>
<li>В системе зафиксирован акт внутреннего перемещения.</li>
</ul>
<p><strong>8. Особые требования (NFR) для MVP:</strong></p>
<ul>
<li><strong>Процесс вместо автоматизации:</strong> Основная цель — не автоматизировать, а обеспечить пользователя всеми данными для принятия правильного решения и простым инструментом для фиксации результата.</li>
<li><strong>Эффективность:</strong> Процесс фиксации перемещения (шаги 9-12) должен быть максимально упрощен и занимать не более 15-20 секунд.</li>
</ul>
<h3 id="subsystem_requirements-uc4">UC4. Провести инвентаризацию</h3>
<p><strong>1. Краткое описание:</strong> Этот Use Case описывает процесс сверки фактического наличия полуфабрикатов на складе и в оперативном запасе роботизированной линии с данными в системе. Оператор проводит подсчет, вносит данные через мобильное приложение, а система фиксирует расхождения, автоматически корректирует остатки и формирует отчет.</p>
<p><strong>2. Акторы:</strong></p>
<ul>
<li><strong>Основной:</strong> Оператор линии.</li>
<li><strong>Второстепенный:</strong> Система управления запасами (инициирует, обрабатывает данные).</li>
</ul>
<p><strong>3. Предусловия:</strong></p>
<ul>
<li>Оператор авторизован в системе.</li>
<li>Мобильное устройство оператора имеет соединение с системой (или может работать в автономном режиме).</li>
<li>Движение партий на складе и на линии сведено к минимуму (инвентаризация проводится в нерабочие часы или в специально отведенное время).</li>
</ul>
<p><strong>4. Триггер:</strong></p>
<ul>
<li>Система инициирует процесс по расписанию (ежедневно/еженедельно).</li>
</ul>
<p><strong>5. Основной поток событий:</strong></p>
<table>
<thead>
<tr>
<th style="text-align: left;">Шаг</th>
<th style="text-align: left;">Действие Актора</th>
<th style="text-align: left;">Ответ Системы</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Оператор получает <strong>задание "Провести инвентаризацию"</strong> на своем мобильном устройстве. Задание содержит: тип инвентаризации (сплошная/выборочная), перечень зон (склад, линия) или номенклатуры.</td>
<td style="text-align: left;"><strong>Триггер:</strong> Система инициирует процесс по расписанию (ежедневно/еженедельно).</td>
</tr>
<tr>
<td style="text-align: left;">2</td>
<td style="text-align: left;">Оператор выбирает зону для начала подсчета.</td>
<td style="text-align: left;">Система отображает схему зоны и список номенклатуры с ожидаемыми остатками.</td>
</tr>
<tr>
<td style="text-align: left;">3</td>
<td style="text-align: left;">Оператор последовательно сканирует штрих-код каждой <strong>партии</strong> в зоне и вносит <strong>фактическое количество/вес</strong> в приложение. Для зоны <strong>оперативного запаса</strong> оператор сканирует штрих-код контейнера и вносит фактический остаток.</td>
<td style="text-align: left;">Система в режиме реального времени проверяет штрих-код на валидность и отображает название полуфабриката для подтверждения.</td>
</tr>
<tr>
<td style="text-align: left;">4</td>
<td style="text-align: left;">Оператор завершает обход всех указанных зон и в приложении нажимает <strong>"Завершить инвентаризацию"</strong>.</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">5</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система автоматически выполняет сверку: сравнивает внесенные фактические данные с системными остатками по каждой позиции.</td>
</tr>
<tr>
<td style="text-align: left;">6</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система рассчитывает <strong>расхождения</strong> (излишки/недостачи) по каждой партии.</td>
</tr>
<tr>
<td style="text-align: left;">7</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Если расхождение ≤ порога → система автоматически корректирует остатки. Если расхождение &gt; порога → система блокирует позицию для разбирательства и уведомляет Технолога. <strong>Ключевой момент:</strong> Корректировка остатков оперативного запаса на линии <strong>не влияет на его виртуальный срок годности</strong>, так как меняется только количество, а не состав партий. Система не позволяет корректировать остатки по партиям со статусом 'Заблокирована'.</td>
</tr>
<tr>
<td style="text-align: left;">8</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система формирует <strong>электронный акт инвентаризации</strong> (отчет), в котором фиксируются: дата, время, зона, ответственный, все позиции с расхождениями и причина (если указана).</td>
</tr>
<tr>
<td style="text-align: left;">9</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система помечает задание как "Выполнено". Акт инвентаризации сохраняется в базе данных и становится доступным Технологу.</td>
</tr>
</tbody>
</table>
<p><strong>6. Альтернативные потоки:</strong></p>
<ul>
<li><strong>А1: Обнаружена партия, не учтенная в системе.</strong></li>
<li>На шаге 3: Оператор может добавить новую позицию через "Добавить партию вручную", указав штрих-код, наименование и количество. Система зафиксирует это как <strong>излишек</strong>.</li>
<li><strong>А2: Партия не имеет штрих-кода или он поврежден.</strong></li>
<li>На шаге 3: Оператор может найти полуфабрикат в списке номенклатуры вручную и внести данные.</li>
<li><strong>А3: Инвентаризация прервана.</strong></li>
<li>На любом шаге: Оператор может приостановить задание. Система сохранит все внесенные данные. Позже оператор может возобновить инвентаризацию с момента останова.</li>
<li><strong>А4: Значительное расхождение.</strong></li>
<li>На шаге 7: Если расхождение &gt; порога, система блокирует позицию и уведомляет Технолога. Технолог подтверждает коррекцию в системе.</li>
</ul>
<p><strong>7. Постусловия:</strong></p>
<ul>
<li>Фактические остатки полуфабрикатов на складе и на линии соответствуют данным в системе.</li>
<li>Сформирован и сохранен акт инвентаризации.</li>
<li>Все расхождения зафиксированы и учтены.</li>
<li>Данные для автозаказа и контроля сроков годности актуализированы.</li>
</ul>
<p><strong>8. Особые требования (NFR):</strong></p>
<ul>
<li><strong>Оффлайн-работа:</strong> Мобильное приложение должно обеспечивать <strong>полную оффлайн-функциональность</strong>. Все данные должны кэшироваться на устройстве, а после восстановления связи — автоматически синхронизироваться.</li>
<li><strong>Производительность:</strong> Внесение данных по одной партии (сканирование + ввод количества) должно занимать у оператора не более 3-5 секунд.</li>
<li><strong>Точность:</strong> Алгоритм сверки и корректировки остатков должен быть атомарным и гарантировать, что данные не будут потеряны даже при сбое.</li>
<li><strong>Удобство использования:</strong> Интерфейс должен быть оптимизирован для быстрого последовательного сканирования: после внесения одного значения фокус автоматически переходит на поле для сканирования следующего штрих-кода.</li>
</ul>
<h3 id="subsystem_requirements-uc5">UC5. Вести справочники</h3>
<p><strong>1. Краткое описание:</strong> Этот Use Case описывает процесс создания, редактирования основных данных системы: справочника полуфабрикатов (номенклатуры) с установкой для каждого индивидуальных сроков хранения и справочника складских зон.</p>
<p><strong>2. Акторы:</strong></p>
<ul>
<li><strong>Основной:</strong> Технолог.</li>
<li><strong>Второстепенный:</strong> Система управления запасами.</li>
</ul>
<p><strong>3. Предусловия:</strong></p>
<ul>
<li>Пользователь (Технолог) авторизован в системе и имеет <strong>административные права</strong> на редактирование справочников.</li>
<li>Пользователь работает с веб-интерфейсом.</li>
</ul>
<p><strong>4. Триггер</strong></p>
<ul>
<li>Технологу необходимо занести данные в систему.</li>
</ul>
<p><strong>5. Основной поток событий:</strong></p>
<table>
<thead>
<tr>
<th style="text-align: left;">Шаг</th>
<th style="text-align: left;">Действие Актора</th>
<th style="text-align: left;">Ответ Системы</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Технолог в основном меню системы выбирает раздел <strong>"Справочники"</strong> и подраздел <strong>"Номенклатура"</strong>.</td>
<td style="text-align: left;">Система отображает список всех существующих полуфабрикатов с возможностью сортировки и поиска.</td>
</tr>
<tr>
<td style="text-align: left;">2</td>
<td style="text-align: left;">Технолог нажимает кнопку <strong>"Добавить"</strong> для создания новой позиции.</td>
<td style="text-align: left;">Система открывает форму создания новой номенклатурной позиции.</td>
</tr>
<tr>
<td style="text-align: left;">3</td>
<td style="text-align: left;">Технолог заполняет обязательные атрибуты:<br> - <strong>Наименование</strong><br> - <strong>Единица измерения</strong> - выбирается из выпадающего списка.<br> - <strong>Категория</strong> - выбирается из отдельного справочника.<br> - <strong>Срок хранения (часов)</strong> – общий срок.<br> - Срок хранения открытой упаковки (часов).</td>
<td style="text-align: left;">Система проверяет уникальность наименования.</td>
</tr>
<tr>
<td style="text-align: left;">4</td>
<td style="text-align: left;">Технолог заполняет дополнительные атрибуты (опционально): штрих-код (для товара в целом), описание, фотография.</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">5</td>
<td style="text-align: left;">Технолог нажимает кнопку <strong>"Сохранить"</strong>.</td>
<td style="text-align: left;">Система проверяет данные. Если ошибок нет, создает новую запись в справочнике номенклатуры. Новая позиция становится сразу доступной для заказа, учета и инвентаризации.</td>
</tr>
<tr>
<td style="text-align: left;">6</td>
<td style="text-align: left;">Технолог переходит в подраздел "Типы зон" (отдельный справочник).</td>
<td style="text-align: left;">Система отображает список типов зон.</td>
</tr>
<tr>
<td style="text-align: left;">7</td>
<td style="text-align: left;">Технолог создает или редактирует типы зон. Сохраняет изменения</td>
<td style="text-align: left;">Система сохраняет типы зон.</td>
</tr>
<tr>
<td style="text-align: left;">6</td>
<td style="text-align: left;">Технолог переходит в подраздел <strong>"Складские зоны"</strong>.</td>
<td style="text-align: left;">Система отображает иерархический список зон (например, Склад -&gt; Холодильная камера -&gt; Стеллаж 1 -&gt; Полка 2).</td>
</tr>
<tr>
<td style="text-align: left;">7</td>
<td style="text-align: left;">Технолог создает или редактирует зоны, назначая им:<br> - <strong>Уникальный ID/Наименование</strong><br> - <strong>Тип зоны</strong> – выбирается из справочника типов зон.<br> - <strong>Штрих-код зоны</strong> (для сканирования оператором).</td>
<td style="text-align: left;">Система сохраняет изменения.</td>
</tr>
</tbody>
</table>
<p><strong>6. Альтернативные потоки:</strong></p>
<ul>
<li><strong>А1: Редактирование существующей позиции.</strong></li>
<li>На шаге 2: Технолог выбирает существующую позицию из списка и нажимает "Изменить". <strong>Важно:</strong> Изменение единицы измерения или срока хранения повлияет на все последующие операции. Система должна запросить подтверждение и показать предупреждение.</li>
<li><strong>А2: Деактивация/Архивация позиции.</strong></li>
<li>Технолог ставит галочку "Не активна" у позиции, которая более не используется. Система <strong>не позволяет удалить</strong> позицию, если по ней есть история операций (приход, движение, остатки). Такая позиция исключается из выпадающих списков для нового заказа, но остается в истории.</li>
</ul>
<p><strong>7. Постусловия:</strong></p>
<ul>
<li>Справочники номенклатуры и зон актуализированы.</li>
<li>Новые данные доступны для использования во всех процессах системы:</li>
<li>Для <strong>инвентаризации (UC4)</strong> появилась новая позиция для учета.</li>
<li>Для <strong>автозаказа (UC8)</strong> система может рассчитывать параметры для новой номенклатуры.</li>
<li>Для <strong>контроля сроков годности (UC11)</strong> система использует новый установленный срок хранения для расчета даты истечения срока годности.</li>
<li><strong>Робот</strong> может получать данные о новой номенклатуре через API.</li>
</ul>
<p><strong>8. Особые требования (NFR):</strong></p>
<ul>
<li><strong>Целостность данных:</strong> Система должна гарантировать <strong>ссылочную целостность</strong>. Нельзя удалить позицию из справочника, если она используется в каких-либо документах (приход, движение, остатки).</li>
<li><strong>Валидация:</strong> Система должна строго проверять вводимые данные. Например, "Срок хранения" должен быть положительным числом, "Единица измерения" - только из предопределенного списка.</li>
<li><strong>Производительность:</strong> Загрузка и отображение справочников должны быть быстрыми даже при большом объеме данных (тысячи позиций). Необходимо реализовать пагинацию и поиск.</li>
<li><strong>Безопасность:</strong> Доступ к редактированию справочников должен быть строго ограничен кругом ответственных лиц (ролевая модель).</li>
</ul>
<h3 id="subsystem_requirements-uc6">UC6. Скорректировать заказ</h3>
<p><strong>1. Краткое описание:</strong> Этот Use Case описывает процесс ручного просмотра, проверки и корректировки заказа на полуфабрикаты, автоматически сформированного системой, перед его окончательной отправкой в Логистический Центр (ЛЦ). Технолог может учесть дополнительные факторы, которые не заложены в алгоритме.</p>
<p><strong>2. Акторы:</strong></p>
<ul>
<li><strong>Основной:</strong> Технолог.</li>
<li><strong>Второстепенный:</strong> Система управления запасами (формирует черновик заказа).</li>
</ul>
<p><strong>3. Предусловия:</strong></p>
<ul>
<li>Пользователь авторизован в системе и имеет права на подтверждение/корректировку заказов.</li>
<li>Система автоматически выполнила <strong>UC8: "Рассчитать автозаказ"</strong> и сформировала черновик заказа (проект заказа).</li>
<li>Заказ находится в статусе "Черновик" или "На согласовании".</li>
</ul>
<p><strong>4. Триггер:</strong></p>
<p>Технолог получает уведомление о сформированном черновике.</p>
<p><strong>5. Основной поток событий:</strong></p>
<table>
<thead>
<tr>
<th style="text-align: left;">Шаг</th>
<th style="text-align: left;">Действие Актора</th>
<th style="text-align: left;">Ответ Системы</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Технолог получает <strong>уведомление</strong> о сформированном черновике заказа ИЛИ открывает раздел <strong>"Заказы"</strong> и выбирает заказ со статусом "Черновик".</td>
<td style="text-align: left;">Система отображает интерфейс просмотра заказа.</td>
</tr>
<tr>
<td style="text-align: left;">2</td>
<td style="text-align: left;">Технолог просматривает предложенные системой позиции, количества и общую сумму заказа.</td>
<td style="text-align: left;">Система предоставляет детализацию: по каждой позиции можно посмотреть <strong>обоснование</strong> (например: "Остаток: 5 кг, Точка заказа: 10 кг, Рекомендуется заказать: 20 кг (Max=25 кг)").</td>
</tr>
<tr>
<td style="text-align: left;">3</td>
<td style="text-align: left;">Технолог анализирует заказ. Решает, что корректировка не требуется.</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">4</td>
<td style="text-align: left;">Технолог нажимает кнопку <strong>"Утвердить и отправить"</strong>.</td>
<td style="text-align: left;">Система запрашивает подтверждение ("Вы уверены, что хотите отправить заказ в ЛЦ?").</td>
</tr>
<tr>
<td style="text-align: left;">5</td>
<td style="text-align: left;">Технолог подтверждает действие.</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">6</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система меняет статус заказа на "Отправлен в ЛЦ" и автоматически выполняет <strong>UC12: "Передать заказ в ЛЦ"</strong> через API.</td>
</tr>
</tbody>
</table>
<p><strong>6. Альтернативные потоки:</strong></p>
<ul>
<li><strong>А1: Корректировка количества или состава заказа.</strong></li>
<li>На шаге 3: Технолог видит необходимость изменить заказ.</li>
<li>Технолог <strong>редактирует количество</strong> вручную для определенных позиций (например, увеличивает количество из-за планируемой акции или уменьшает, зная о предстоящем простое).</li>
<li>Технолог <strong>добавляет новую позицию</strong> в заказ, которой нет в автозаказе (например, новый товар для теста).</li>
<li>Технолог <strong>удаляет позицию</strong> из заказа (например, зная, что на основном складе ЛЦ ее нет в наличии).</li>
<li>
<p>После внесения изменений Технолог нажимает "Сохранить черновик" или сразу "Утвердить и отправить". Система сохраняет изменения и следует основному потоку.</p>
</li>
<li>
<p><strong>А2: Отклонение заказа.</strong></p>
</li>
<li>На шаге 3: Технолог понимает, что заказ формировать не нужно (например, ресторан закрывается на санитарный день).</li>
<li>Технолог нажимает кнопку <strong>"Отклонить"</strong> и указывает причину.</li>
<li>
<p>Система меняет статус заказа на "Отклонен" и архивирует его. Уведомление не отправляется.</p>
</li>
<li>
<p><strong>А3: Запрос дополнительной информации.</strong></p>
</li>
<li>На шаге 3: Технолог может просмотреть <strong>отчет о продажах</strong> по конкретной позиции или <strong>график остатков</strong> за прошедшую неделю, чтобы принять более обоснованное решение. Система предоставляет эту аналитику в виде вкладок или всплывающих окон.</li>
</ul>
<p><strong>7. Постусловия:</strong></p>
<ul>
<li>Заказ либо отправлен в ЛЦ в исходном или отредактированном виде, либо отклонен.</li>
<li>Все действия Технолога (просмотр, корректировка, утверждение, отклонение) залогированы в системе для аудита.</li>
<li>Если заказ отправлен, система ожидает его подтверждения и выполнения от ЛЦ.</li>
</ul>
<p><strong>8. Особые требования (NFR):</strong></p>
<ul>
<li><strong>Аудит:</strong> Система должна вести базовое логирование изменений по каждому заказу. Это критично для анализа эффективности правил автозаказа.</li>
<li><strong>Валидация:</strong> При ручном изменении количества система должна проводить проверку: количество &gt; 0 и числовое значение.</li>
<li><strong>Производительность:</strong> Интерфейс просмотра и редактирования заказа должен загружаться быстро, даже если заказ содержит сотни позиций (необходимо использование пагинации, динамического списка).</li>
<li><strong>Уведомления</strong>: Система должна иметь механизм оповещения Технолога в интерфейсе системы о появлении нового черновика заказа (фиксированное время до крайнего срока).</li>
<li><strong>Визуализация:</strong> Для удобства Технолога позиции в заказе можно подсвечивать цветом: зеленый – рекомендовано системой, оранжевый – изменено Технологом.</li>
</ul>
<h3 id="subsystem_requirements-uc7">UC7. Заблокировать просроченную партию</h3>
<p><strong>1. Краткое описание:</strong> Этот Use Case описывает процесс автоматического перевода партии полуфабриката в статус "Заблокирована" при обнаружении системой истечения или скорого истечения срока ее годности. Блокировка предотвращает использование партии в любых операциях: пополнении линии, производстве. Это ключевая контрольная точка системы безопасности пищевых продуктов.</p>
<p><strong>2. Акторы:</strong></p>
<ul>
<li><strong>Основной:</strong> Система управления запасами.</li>
<li><strong>Вторичный:</strong> Оператор линии (получает уведомление/задание).</li>
</ul>
<p><strong>3. Предусловия:</strong></p>
<ul>
<li>В системе существуют партии полуфабрикатов с актуальными данными о сроках годности.</li>
<li>Для партии настроен атрибут "Статус" с возможностью значения "Заблокирована".</li>
</ul>
<p><strong>4. Триггер</strong></p>
<ul>
<li>Наступило время запуска фонового задания (фиксированное время).</li>
<li>Получен запрос от робота на проверку срока (UC11).</li>
</ul>
<p><strong>5. Основной поток событий:</strong></p>
<table>
<thead>
<tr>
<th style="text-align: left;">Шаг</th>
<th style="text-align: left;">Действие Актора</th>
<th style="text-align: left;">Ответ Системы</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Система <strong>запускает фоновую проверку сроков годности</strong></td>
<td style="text-align: left;">Система итерируется по всем активным партиям.</td>
</tr>
<tr>
<td style="text-align: left;">2</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система <strong>вычисляет</strong> для каждой партии время до истечения срока годности.</td>
</tr>
<tr>
<td style="text-align: left;">3</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система <strong>сравнивает</strong> это время с заданными критическими порогами.</td>
</tr>
<tr>
<td style="text-align: left;">4</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система <strong>находит партию</strong>, которая соответствует <strong>критериям блокировки</strong>:<br> - <strong>Критерий 1:</strong> <code>Текущая дата &gt;= Срок годности партии</code> (Просрочка).<br> - <strong>Критерий 2:</strong> <code>Текущая дата + X часов &gt;= Срок годности партии</code> (Скоро закончится срок годности).</td>
</tr>
<tr>
<td style="text-align: left;">5</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система <strong>автоматически меняет статус</strong> партии на <strong>"Заблокирована"</strong>.</td>
</tr>
<tr>
<td style="text-align: left;">6</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система <strong>вносит запись в журнал аудита</strong> (кто (система), когда, какую партию и по какой причине заблокировал).</td>
</tr>
<tr>
<td style="text-align: left;">7</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система <strong>распространяет информацию о блокировке</strong> по всем подсистемам: <br> - Исключает партию из алгоритмов <strong>пополнения (UC2)</strong> и <strong>автозаказа (UC8)</strong>.<br> - Сообщает <strong>роботу</strong> (если партия в оперативном запасе), что ее использование запрещено.</td>
</tr>
<tr>
<td style="text-align: left;">8</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система обновляет информацию в отчете UC1</td>
</tr>
</tbody>
</table>
<p><strong>6. Альтернативные потоки:</strong></p>
<ul>
<li><strong>А1: Ручная блокировка Технологом.</strong></li>
<li>Оператор может вручную заблокировать партию через интерфейс (например, при обнаружении визуального брака). Система выполняет те же шаги (5-9), но в журнале аудита указывает инициатора-оператора.</li>
<li><strong>А2: Партия уже заблокирована.</strong></li>
<li>Если партия уже имеет статус "Заблокирована", система пропускает ее.</li>
<li><strong>А3: Ошибка при блокировке.</strong></li>
<li>Если партия находится в процессе списания или перемещения, система временно не может изменить ее статус. Процесс блокировки повторяется через короткий интервал времени.</li>
</ul>
<p><strong>6. Постусловия:</strong></p>
<ul>
<li>Партия переведена в статус "Заблокирована".</li>
<li>Информация о блокировке актуальна во всех модулях системы.</li>
<li>Для партии создано задание на утилизацию (UC13).</li>
<li>Использование партии в производстве невозможно до разблокировки (которая может произойти только после проверки или ошибочного действия, что должно быть задокументировано).</li>
<li>Заблокированные партии исключаются из расчета автозаказа (UC8)</li>
</ul>
<p><strong>7. Особые требования (NFR):</strong></p>
<ul>
<li><strong>Производительность:</strong> Процесс проверки и блокировки должен быть быстрым. Проверка тысяч партий должна выполняться за <strong>десятки секунд</strong>.</li>
<li><strong>Надежность и атомарность:</strong> Изменение статуса и распространение этого изменения по системе должно быть <strong>транзакционным</strong>. Не допускается ситуация, когда статус изменен, но робот еще может использовать партию.</li>
<li><strong>Аудит:</strong> <strong>Журналирование всех действий по блокировке/разблокировке является обязательным</strong>. Каждая запись должна быть неизменяемой (immutable log).</li>
<li><strong>Настраиваемость:</strong> Параметр <code>X</code> (часы до истечения срока для блокировки) должен быть гибко настраиваемым для разных категорий полуфабрикатов через интерфейс <strong>UC5</strong>.</li>
<li><strong>Безопасность:</strong> Процесс <strong>обратной разблокировки</strong> (снятия статуса) должен быть максимально затруднен и требовать обязательного участия Технолога с указанием веской причины в журнале аудита (журнал регистрации).</li>
</ul>
<h3 id="subsystem_requirements-uc8">UC8. Рассчитать автозаказ</h3>
<p><strong>1. Краткое описание:</strong> Этот Use Case описывает процесс автоматического расчета количества полуфабрикатов для заказа в Логистический Центр (ЛЦ). Система на основе текущих остатков, предварительно настроенных правил, прогноза продаж и данных о поставках определяет, что, в каком количестве и когда нужно заказать для поддержания бесперебойной работы ресторана.</p>
<p><strong>2. Акторы:</strong></p>
<ul>
<li><strong>Основной:</strong> Система управления запасами.</li>
<li><strong>Вторичный:</strong> Технолог (может получать уведомления о результате расчета).</li>
</ul>
<p><strong>3. Предусловия:</strong></p>
<ul>
<li>В системе существуют и активированы <strong>Правила автозаказа (UC10)</strong> для номенклатурных позиций.</li>
<li>В системе есть актуальные данные об <strong>остатках</strong> на складе и в оперативном запасе.</li>
<li>В системе есть справочные данные о <strong>номенклатуре (UC5)</strong> и <strong>поставщиках (ЛЦ)</strong>.</li>
</ul>
<p><strong>4. Триггер:</strong></p>
<ul>
<li>Наступило время запуска по расписанию</li>
</ul>
<p><strong>5. Основной поток событий:</strong></p>
<table>
<thead>
<tr>
<th style="text-align: left;">Шаг</th>
<th style="text-align: left;">Действие Актора</th>
<th style="text-align: left;">Ответ Системы</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Система по расписанию <strong>запускает процедуру расчета автозаказа</strong>.</td>
<td style="text-align: left;">Система определяет список номенклатурных позиций, для которых настроены правила автозаказа.</td>
</tr>
<tr>
<td style="text-align: left;">2</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Для каждой позиции система <strong>собирает входные данные</strong>:<br> - <strong>Текущий остаток</strong> (на складе + на линии).<br> - <strong>Параметры правила</strong> из UC10 (Min, Max, Reorder Point, кратность и т.д.).<br> - <strong>Прогноз продаж</strong> на период поставки (если функция активирована).<br> - <strong>Срок поставки</strong> от ЛЦ (в днях).<br> - <strong>Незавершенные заказы</strong> (уже отправленные, но еще не полученные).</td>
</tr>
<tr>
<td style="text-align: left;">3</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система <strong>применяет алгоритм расчета</strong> для каждой позиции. <strong>Формула:</strong><br> <code>Рекомендуемый заказ = Максимальный запас (Max) - Текущий остаток - Незавершенные заказы + Прогноз продаж на срок поставки</code> (Прогноз продаж из модуля продаж через API)</td>
</tr>
<tr>
<td style="text-align: left;">4</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система <strong>накладывает ограничения правила</strong>:<br> - Если <code>Рекомендуемый заказ &lt; Минимальной партии</code> -&gt; <code>Заказ = 0</code> (заказывать невыгодно/невозможно).<br> - Если <code>Рекомендуемый заказ &gt; 0</code> -&gt; <strong>привести к кратности</strong> (округлить в большую сторону до значения, кратного параметру "Кратность").<br> - Если <code>Текущий остаток &gt; Точки заказа (Reorder Point)</code> -&gt; <code>Заказ = 0</code> (не время заказывать).</td>
</tr>
<tr>
<td style="text-align: left;">5</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система <strong>формирует черновик заказа</strong> (проект заказа), включающий все позиции с <code>Заказ &gt; 0</code>.</td>
</tr>
<tr>
<td style="text-align: left;">6</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система <strong>проводит финальную проверку</strong> черновика (валидация данных, отсутствие дубликатов).</td>
</tr>
<tr>
<td style="text-align: left;">7</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система <strong>сохраняет черновик заказа</strong> в базе данных со статусом "Рассчитан".</td>
</tr>
<tr>
<td style="text-align: left;">8</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система <strong>уведомляет Технолога</strong> в интерфейсе о готовности черновика заказа для проверки и корректировки (см. UC6).</td>
</tr>
</tbody>
</table>
<p><strong>6. Альтернативные потоки:</strong></p>
<ul>
<li><strong>А1: Срабатывание по триггеру (вне расписания).</strong></li>
<li>Use Case может быть запущен принудительно Технологом или по событию (например, после проведения крупной инвентаризации (UC4), выявившей значительные расхождения).</li>
<li><strong>А2: Рассчитать для одной позиции.</strong></li>
<li>Если остаток по конкретной позиции резко упал ниже <strong>Минимального запаса (Min)</strong>, система может немедленно рассчитать и включить ее в заказ вне общего расписания.</li>
<li><strong>А3: Отсутствие правила.</strong></li>
<li>Если для позиции нет активного правила, система пропускает ее и не включает в расчет.</li>
<li><strong>А4: Ошибка расчета.</strong></li>
<li>Если данные для расчета некорректны (например, отрицательный остаток), система помечает позицию в черновике особым статусом "Ошибка" и уведомляет Технолога.</li>
</ul>
<p><strong>8. Постусловия:</strong></p>
<ul>
<li>Сформирован черновик заказа со статусом "Рассчитан".</li>
<li>Черновик доступен Технологу для просмотра и корректировки (UC6).</li>
<li>Рассчитанные количества являются рекомендацией системы и могут быть изменены.</li>
</ul>
<p><strong>9. Особые требования (NFR):</strong></p>
<ul>
<li><strong>Производительность:</strong> Алгоритм расчета должен быть <strong>быстрым</strong>. Расчет заказа для нескольких сотен позиций должен выполняться не более чем за 1-2 минуты.</li>
<li><strong>Детерминированность:</strong> Расчет должен быть <strong>полностью предсказуемым и воспроизводимым</strong>. При одинаковых входных данных результат должен быть идентичным.</li>
<li><strong>Аудит:</strong> Система должна сохранять базовую информацию входных данных, использованных для расчета. Это необходимо для последующего анализа и отладки алгоритма.</li>
<li><strong>Масштабируемость:</strong> Алгоритм должен работать стабильно при росте объема данных (номенклатуры, истории продаж).</li>
<li><strong>Обоснованность:</strong> Система должна для каждой позиции в черновике заказа предоставлять детальное обоснование расчета.</li>
</ul>
<h2 id="subsystem_requirements-use-case">Описание Use Case реализуемых в рамках первого релиза</h2>
<h3 id="subsystem_requirements-uc2">UC2. Утилизировать партию</h3>
<p><strong>1. Краткое описание:</strong> Этот Use Case описывает процесс, в котором Оператор роботизированной линии физически изымает и утилизирует партию полуфабрикатов с истекшим или истекающим сроком годности на основании задания, сформированного системой. Система фиксирует факт утилизации и списывает партию с учета.</p>
<p><strong>2. Акторы:</strong></p>
<ul>
<li><strong>Основной:</strong> Оператор линии.</li>
<li><strong>Второстепенный:</strong> Система управления запасами (инициирует процесс, формируя задание).</li>
</ul>
<p><strong>3. Предусловия:</strong></p>
<ul>
<li>Система идентифицировала партию, подлежащую утилизации (срок годности истек или истекает в течение X часов).</li>
<li>Система изменила статус партии на <strong>"Заблокирована"</strong>.</li>
<li>Система сформировала и отправила задание на утилизацию на терминал Оператора.</li>
<li>Оператор авторизован в системе.</li>
<li>Мобильное устройство Оператора имеет соединение с системой.</li>
</ul>
<p><strong>4. Триггер:</strong></p>
<ul>
<li>Оператор получает <strong>задание "Утилизировать партию"</strong> на своем терминале. Задание содержит: наименование полуфабриката, штрих-код партии, локацию (складская ячейка или зона оперативного запаса), причину утилизации (например, "Срок годности истекает через 2 часа"). </li>
</ul>
<p><strong>5. Основной поток событий:</strong></p>
<table>
<thead>
<tr>
<th style="text-align: left;">Шаг</th>
<th style="text-align: left;">Действие Актора</th>
<th style="text-align: left;">Ответ Системы</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система отображает групповое задание в очереди с самым высоким приоритетом.</td>
</tr>
<tr>
<td style="text-align: left;">2</td>
<td style="text-align: left;">Оператор следует к указанной локации, находит партию по штрих-коду.</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">3</td>
<td style="text-align: left;">Оператор сканирует штрих-код партии с помощью мобильного устройства.</td>
<td style="text-align: left;">Система подтверждает, что штрих-код соответствует заданию, партия имеет статус "Заблокирована", и отображает детали партии (срок годности, количество).</td>
</tr>
<tr>
<td style="text-align: left;">4</td>
<td style="text-align: left;">Оператор физически изымает партию и перемещает ее в зону утилизации.</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">5</td>
<td style="text-align: left;">Оператор в мобильном приложении нажимает кнопку <strong>"Подтвердить утилизацию"</strong>.</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">6</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система запрашивает подтверждение действия (например, всплывающее окно "Вы уверены?").</td>
</tr>
<tr>
<td style="text-align: left;">7</td>
<td style="text-align: left;">Оператор подтверждает свое намерение.</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">8</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система выполняет следующие действия:<br> 1. <strong>Списывает</strong> остаток данной партии до нуля.<br> 2. <strong>Меняет статус</strong> партии с "Заблокирована" на "Утилизирована".<br> 3. <strong>Фиксирует</strong> акт списания в базе данных с указанием причины, даты, времени и ответственного оператора.<br> 4. <strong>Обновляет</strong> остатки на складе/линии в реальном времени.<br> 5. Обязательно уведомляет Технолога (интерфейс/Push/email).</td>
</tr>
<tr>
<td style="text-align: left;">9</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система отображает на терминале оператора сообщение об успешном завершении задания: "Партия [Штрих-код] утилизирована".</td>
</tr>
</tbody>
</table>
<p><strong>6. Альтернативные потоки:</strong></p>
<ul>
<li><strong>А1: Штрих-код не сканируется.</strong></li>
<li>На шаге 3: Если штрих-код поврежден и не сканируется, Оператор может вручную ввести ID партии в приложении.</li>
<li><strong>А2: Оператор обнаружил несоответствие.</strong></li>
<li>На шаге 2-3: Если фактическое количество или состояние партии не соответствует данным в системе (например, партия уже частично использована), Оператор может ввести <strong>фактическое количество</strong> к утилизации перед подтверждением.</li>
<li><strong>А3: Оператор отменяет действие.</strong></li>
<li>На шаге 6: Оператор может отменить действие. Задание остается в его очереди с статусом "В работе".</li>
</ul>
<p><strong>7. Постусловия:</strong></p>
<ul>
<li>Партия физически утилизирована.</li>
<li>Остатки партии в системе равны 0, статус изменен на "Утилизирована".</li>
<li>В системе зафиксирован акт списания с указанием причины "Утилизация по сроку годности".</li>
<li>Задание помечено как "Выполнено".</li>
<li>Если утилизирована партия из <strong>оперативного запаса</strong>, система автоматически инициирует <strong>UC3: "Пополнить оперативный запас"</strong>.</li>
</ul>
<p><strong>8. Особые требования (NFR):</strong></p>
<ul>
<li><strong>Производительность:</strong> Подтверждение утилизации и обновление остатков в системе должно происходить менее чем за 3 секунды.</li>
<li><strong>Удобство использования:</strong> Интерфейс мобильного приложения для утилизации должен быть простым и требовать не более 3-х касаний для завершения задания.</li>
<li><strong>Надежность:</strong> Данные об акте списания должны быть сохранены гарантированно, даже при разрыве соединения (с последующей синхронизацией).</li>
<li><strong>Безопасность:</strong> Подтвердить утилизацию может только авторизованный оператор. Для подтверждения достаточно логина/пароля (биометрическая аутентификация - опционально).</li>
</ul>
<h3 id="subsystem_requirements-uc3">UC3. Пополнить оперативный запас</h3>
<p><strong>1. Краткое описание:</strong> Этот Use Case описывает процесс пополнения расходуемого роботом оперативного запаса полуфабрикатов. Оператор по заданию системы находит на основном складе партию, отобранную по принципу FEFO, перемещает её к роботу и пополняет запас. Система фиксирует перемещение, обновляет остатки и пересчитывает "виртуальный" срок годности оперативного запаса.</p>
<p><strong>2. Акторы:</strong></p>
<ul>
<li><strong>Основной:</strong> Оператор линии.</li>
<li><strong>Второстепенный:</strong> Система управления запасами (инициирует процесс, отслеживает остатки).</li>
<li><strong>Внешний источник данных:</strong> Роботизированная линия (расходует запас, что является триггером для системы).</li>
</ul>
<p><strong>3. Предусловия:</strong></p>
<ul>
<li>Система в реальном времени <strong>отслеживает остаток каждого полуфабриката в оперативном запасе</strong> робота (на основе получения сообщений о списании от робота).</li>
<li>Остаток конкретного полуфабриката достиг <strong>точки пополнения</strong>. Эта точка &gt; 0 и рассчитывается так, чтобы запаса хватило на время выполнения задания пополнения.</li>
<li>На основном складе есть доступные партии данного полуфабриката.</li>
<li>Оператор авторизован в системе и свободен.</li>
<li>Система рассчитывает точку пополнения на основе прогноза продаж.</li>
</ul>
<p><strong>4. Триггер</strong></p>
<ul>
<li>Оператор получает <strong>задание "Пополнить оперативный запас [Наименование]"</strong> на своем мобильном устройстве. Задание имеет высокий приоритет. Задание содержит: наименование, штрих-код исходной партии, локацию на складе, <strong>количество для перемещения (равное ёмкости контейнера на линии)</strong>.</li>
<li>Система отследила, что остаток на линии упал ниже точки пополнения. Она автоматически сформировала задание, выбрав партию по <strong>FEFO</strong></li>
</ul>
<p><strong>5. Основной поток событий:</strong></p>
<table>
<thead>
<tr>
<th style="text-align: left;">Шаг</th>
<th style="text-align: left;">Действие Актора</th>
<th style="text-align: left;">Ответ Системы</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Оператор немедленно следует к указанной <strong>складской ячейке</strong>, находит партию по штрих-коду.</td>
<td style="text-align: left;">Система подсвечивает ячейку на схеме склада в приложении оператора.</td>
</tr>
<tr>
<td style="text-align: left;">2</td>
<td style="text-align: left;">Оператор сканирует штрих-код партии на складе.</td>
<td style="text-align: left;">Система подтверждает корректность выбора. <strong>Важно:</strong> Система проверяет: не заблокирована ли партия, соответствует ли полуфабрикат, достаточно ли количества(например, другим процессом утилизации).</td>
</tr>
<tr>
<td style="text-align: left;">3</td>
<td style="text-align: left;">Оператор забирает <strong>целую упаковку</strong> (или рассчитанное количество) и транспортирует ее к роботу.</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">4</td>
<td style="text-align: left;">Оператор вскрывает упаковку и <strong>перекладывает полуфабрикаты в контейнер оперативного запаса</strong> на линии.</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">5</td>
<td style="text-align: left;">Оператор сканирует <strong>штрих-код конкретного контейнера оперативного запаса</strong> на линии, который собирается пополнить.</td>
<td style="text-align: left;">Система понимает, <em>куда именно</em> было добавлено сырье.</td>
</tr>
<tr>
<td style="text-align: left;">6</td>
<td style="text-align: left;">Оператор в приложении нажимает <strong>"Подтвердить пополнение"</strong>.</td>
<td style="text-align: left;">Система всегда запрашивает подтверждение количества.</td>
</tr>
<tr>
<td style="text-align: left;">7</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система выполняет атомарные действия:<br> 1. <strong>Списывает</strong> перемещенное количество с исходной <strong>складской партии</strong>.<br> 2. <strong>Добавляет</strong> это количество к <strong>остатку оперативного запаса</strong> в указанном контейнере.<br> 3. <strong>Пересчитывает "виртуальный срок годности"</strong> всего содержимого контейнера. <strong>Формула:</strong> Если в контейнере уже был остаток (Y1 с сроком T1), и добавили новую партию (Y2 с сроком T2), новый срок рассчитывается как средневзвешенное: <code>(Y1*T1 + Y2*T2) / (Y1 + Y2)</code>. Это критически важно для последующего контроля роботом.<br> 4. Фиксирует акт перемещения.</td>
</tr>
<tr>
<td style="text-align: left;">8</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система отправляет <strong>подтверждение роботу</strong> через API, что запас пополнен и обновляет данные о сроке годности для этого контейнера.</td>
</tr>
<tr>
<td style="text-align: left;">9</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система уведомляет оператора: "Контейнер [X] пополнен. Новый срок годности: [дата]".</td>
</tr>
</tbody>
</table>
<p><strong>6. Альтернативные потоки:</strong></p>
<ul>
<li><strong>А1: Робот израсходовал запас до нуля до завершения пополнения.</strong></li>
<li>На любом шаге: Робот может отправить системе аварийное сообщение "Остановка: нет ингредиента X". Система переводит приоритет в 'КРИТИЧЕСКИЙ' при времени до полного исчерпания ≤10 минут, уведомляет Технолога. Оператор должен завершить пополнение в максимально сжатые сроки.</li>
<li>
<p>Система уведомляет Технолога через Push/SMS.</p>
</li>
<li>
<p><strong>А2: Вскрытая на линии упаковка оказалась бракованной.</strong></p>
</li>
<li>На шаге 4: Оператор отмечает в приложении "Брак". Система предписывает утилизировать эту партию (инициирует UC2) и немедленно сформирует новое задание на пополнение из другой партии.</li>
</ul>
<p><strong>7. Постусловия:</strong></p>
<ul>
<li>Оперативный запас робота пополнен до нормального уровня.</li>
<li>Данные об остатках на складе и на линии корректно обновлены.</li>
<li><strong>Рассчитан новый актуальный срок годности</strong> для содержимого контейнера оперативного запаса.</li>
<li>Робот имеет корректные данные о наличии и сроке годности ингредиента и может продолжать работу.</li>
<li>Задание помечено как "Выполнено".</li>
</ul>
<p><strong>8. Особые требования (NFR):</strong></p>
<ul>
<li><strong>Производительность (критично):</strong> Время от момента срабатывания триггера (низкий остаток) до появления задания у оператора — &lt; 10 секунд.</li>
<li><strong>Real-Time:</strong> Система должна отслеживать остатки на линии в режиме, близком к реальному времени (получая сообщения от робота о каждом списании).</li>
<li><strong>Надежность алгоритма:</strong> Алгоритм пересчета виртуального срока годности должен быть точным и консервативным. В случае добавления партии с более ранним сроком, чем текущий "виртуальный", система должна <strong>принять более ранний срок</strong>.</li>
</ul>
<h3 id="subsystem_requirements-uc9">UC9. Подтвердить списание</h3>
<p><strong>1. Краткое описание:</strong> Этот Use Case описывает процесс документального подтверждения и фиксации факта списания полуфабрикатов не в результате продажи или производства. Основные причины: утилизация просрочки, брак, бой, порча, хищение. Оператор подтверждает списание через мобильное приложение, а система фиксирует акт, списывает остатки и обновляет учетные данные.</p>
<p><strong>2. Акторы:</strong></p>
<ul>
<li><strong>Основной:</strong> Оператор линии или Технолог.</li>
<li><strong>Второстепенный:</strong> Система управления запасами (инициирует процесс для утилизации или предоставляет интерфейс).</li>
</ul>
<p><strong>3. Предусловия:</strong></p>
<ul>
<li>Оператор авторизован в системе и имеет права на подтверждение списания.</li>
<li>Обнаружены полуфабрикаты, подлежащие списанию (физически изъяты из оборота).</li>
<li>Для списания по причине "Утилизация" партия должна быть предварительно <strong>заблокирована</strong> системой.</li>
<li>Для списания в оффлайн-режиме партия не должна быть заблокирована</li>
</ul>
<p><strong>4. Триггер</strong></p>
<ul>
<li>Оператор физически изымает партию из оборота.</li>
<li>Оператор получает задание на утилизацию от системы (см. UC2).</li>
</ul>
<p><strong>5. Основной поток событий:</strong></p>
<table>
<thead>
<tr>
<th style="text-align: left;">Шаг</th>
<th style="text-align: left;">Действие Актора</th>
<th style="text-align: left;">Ответ Системы</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Оператор в мобильном приложении выбирает функцию <strong>"Зафиксировать списание"</strong>.</td>
<td style="text-align: left;">Система предлагает выбрать <strong>причину списания</strong> из фиксированного системного перечня.</td>
</tr>
<tr>
<td style="text-align: left;">2</td>
<td style="text-align: left;">Оператор выбирает причину списания.</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">3</td>
<td style="text-align: left;">Оператор сканирует <strong>штрих-код партии</strong>, подлежащей списанию.</td>
<td style="text-align: left;">Система распознает партию, отображает ее данные: наименование, текущий остаток, срок годности. <strong>Важно:</strong> Если причина "Просрочка", система проверяет, "Если причина 'Просрочка', система проверяет статус 'Заблокирована' и предотвращает списание в оффлайн-режиме".</td>
</tr>
<tr>
<td style="text-align: left;">4</td>
<td style="text-align: left;">Оператор вводит <strong>фактическое количество</strong> к списанию (по умолчанию предлагается весь остаток).</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">5</td>
<td style="text-align: left;">Оператор при необходимости добавляет <strong>комментарий</strong> (например, "упаковка вскрыта", "посторонний предмет").</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">6</td>
<td style="text-align: left;">Оператор нажимает кнопку <strong>"Подтвердить списание"</strong>.</td>
<td style="text-align: left;">Система запрашивает финальное подтверждение действия, указывая сумму списания.</td>
</tr>
<tr>
<td style="text-align: left;">7</td>
<td style="text-align: left;">Оператор подтверждает действие.</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">8</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система выполняет атомарные действия:<br> 1. <strong>Списывает</strong> указанное количество с остатка партии.<br> 2. <strong>Меняет статус</strong> партии (если списан весь остаток, статус меняется на "Утилизирована").<br> 3. <strong>Фиксирует акт списания</strong> в базе данных с обязательными реквизитами: дата, время, партия, причина, количество, ответственный, комментарий, фото.<br> 4. <strong>Обновляет</strong> отчетные данные и остатки в реальном времени.</td>
</tr>
<tr>
<td style="text-align: left;">9</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Если списание превышает лимит, система требует последующего подтверждения Технолога.</td>
</tr>
<tr>
<td style="text-align: left;">10</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система отображает сообщение об успехе: "Списание подтверждено".</td>
</tr>
</tbody>
</table>
<p><strong>6. Альтернативные потоки:</strong></p>
<ul>
<li><strong>А1: Списание по акту от Технолога.</strong></li>
<li>На шаге 1: Технолог может создать задание на списание из своей учетной записи. Оператор получает задание, в котором уже указаны номенклатура, причина и количество. Оператору остается только отсканировать партию для подтверждения и выполнить шаги 4-12.</li>
<li><strong>А2: Списание без штрих-кода (например, рассыпанные овощи).</strong></li>
<li>На шаге 4: Оператор может вручную выбрать номенклатуру из справочника и указать количество к списанию.</li>
<li><strong>А3: Попытка списать не заблокированную партию с нормальным сроком.</strong></li>
<li>На шаге 4: Если причина "Просрочка", но срок годности не истек и статус не "Заблокирована", система <strong>отклоняет запрос</strong> и требует дополнительного подтверждения от Технолога (ввод кода или push-уведомление Технологу). Это защита от ошибок и злоупотреблений. Система уведомляет Технолога через Push/email/SMS. </li>
</ul>
<p><strong>7. Постусловия:</strong></p>
<ul>
<li>Полуфабрикаты физически списаны (утилизированы).</li>
<li>Остатки партии в системе уменьшены на указанное количество.</li>
<li>В системе зафиксирован не редактируемый акт списания с полным аудитом (кто, что, когда, почему).</li>
<li>Данные для финансового и управленческого учета обновлены.</li>
<li>Если списание было инициировано заданием (UC13), задание помечается как "Выполнено".</li>
</ul>
<p><strong>8. Особые требования (NFR):</strong></p>
<ul>
<li><strong>Аудит и безопасность:</strong> Все акты списания должны храниться в неизменяемом виде. Должна быть реализована <strong>ролевая модель</strong>, запрещающая обычным операторам списывать товары без ограничений (только по заблокированным системой партиям или по утвержденным Технологом актам).Списание в оффлайн-режиме запрещено для заблокированных партий/</li>
<li><strong>Производительность:</strong> Процесс подтверждения списания (от сканирования до фиксации) должен занимать не более 10 секунд.</li>
<li><strong>Доступность:</strong> Полная оффлайн-функциональность с синхронизацией при появлении сети. </li>
<li><strong>Синхронизация:</strong> При синхронизации действия Технолога имеют приоритет.</li>
</ul>
<h3 id="subsystem_requirements-uc10">UC10. Настроить правила автозаказа</h3>
<p><strong>1. Идентификатор и Название:</strong></p>
<p><strong>1. Краткое описание:</strong> Этот Use Case описывает процесс определения и конфигурации бизнес-правил, по которым система будет автоматически формировать заявки на пополнение запасов полуфабрикатов с логистического центра (ЛЦ). Технолог устанавливает для каждой позиции параметры, минимизирующие риск дефицита и излишков.</p>
<p><strong>2. Акторы:</strong></p>
<ul>
<li><strong>Основной:</strong> Технолог.</li>
<li><strong>Второстепенный:</strong> Система управления запасами.</li>
</ul>
<p><strong>3. Предусловия:</strong></p>
<ul>
<li>Пользователь авторизован в системе и имеет права на изменение правил.</li>
<li>В системе существует номенклатура полуфабрикатов (UC5), для которых настраиваются правила.</li>
<li>Известны ключевые параметры поставок от ЛЦ: минимальная партия заказа, кратность паллеты/упаковки, дни и время поставок.</li>
</ul>
<p><strong>4. Триггер</strong></p>
<ul>
<li>Необходимо внести настройки для автоматической работы системы.</li>
</ul>
<p><strong>5. Основной поток событий:</strong></p>
<table>
<thead>
<tr>
<th style="text-align: left;">Шаг</th>
<th style="text-align: left;">Действие Актора</th>
<th style="text-align: left;">Ответ Системы</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Технолог в меню системы выбирает раздел <strong>"Закупки"</strong> -&gt; <strong>"Правила автозаказа"</strong>.</td>
<td style="text-align: left;">Система отображает таблицу со списком всех полуфабрикатов и текущими значениями правил для каждого.</td>
</tr>
<tr>
<td style="text-align: left;">2</td>
<td style="text-align: left;">Технолог выбирает позицию из списка или использует поиск.</td>
<td style="text-align: left;">Система отображает детальную карточку настройки правил для выбранной позиции.</td>
</tr>
<tr>
<td style="text-align: left;">3</td>
<td style="text-align: left;">Технолог настраивает параметры правила. <strong>Минимальный запас (Min Stock):</strong><br> Стоп-уровень, при достижении которого система НЕМЕДЛЕННО создаст заказ. <br><strong>Максимальный запас (Max Stock):</strong><br> Целевой уровень, ДО которого система будет пытаться пополнить запасы. <br><strong>Точка заказа (Reorder Point):</strong><br> Уровень, при достижении которого система инициирует плановый заказ в рамках регулярного цикла.</td>
<td style="text-align: left;">Система отображает визуальную подсказку в виде графика.</td>
</tr>
<tr>
<td style="text-align: left;">4</td>
<td style="text-align: left;">Технолог настраивает параметры, связанные с поставщиком (ЛЦ): <br> - <strong>Минимальная партия заказа</strong> (например, 10 кг). <br> - <strong>Кратность</strong> (например, можно заказывать только кратно 5 кг – 5, 10, 15...). <br> - <strong>Срок поставки (в днях)</strong> – время от момента заказа до получения.</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">5</td>
<td style="text-align: left;">Технолог настраивает <strong>коэффициенты потребления</strong>: <br> - <strong>Сезонность</strong> (помесячные коэффициенты с выбором шаблона). <br> - <strong>Прогноз на основе продаж</strong> (вкл/выкл) - обязательная функция с жестко прописанными формулами.</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">6</td>
<td style="text-align: left;">Технолог нажимает кнопку <strong>"Сохранить правило"</strong>.</td>
<td style="text-align: left;">Система проводит <strong>валидацию</strong> правил: проверяет, что Min &lt; Reorder Point &lt; Max, минимальная партия ≤ Max запас.</td>
</tr>
<tr>
<td style="text-align: left;">7</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система сохраняет правило и применяет его ко всем последующим запускам алгоритма автозаказа (UC8).</td>
</tr>
</tbody>
</table>
<p><strong>6. Альтернативные потоки:</strong></p>
<ul>
<li><strong>А1: Массовая настройка правил для группы товаров.</strong></li>
<li>Технолог применяет фильтр к списку номенклатуры (например, все товары в категории "Овощи") и нажимает "Настроить для группы". Система система позволяет установить относительные изменения ко всем параметрам. Система проводит валидацию для каждой позиции.</li>
<li><strong>А2: Настройка правила по шаблону.</strong></li>
<li>Технолог создает шаблон как копию действующего правила и может применить его к позиции, лишь скорректировав значения.</li>
<li><strong>А3: Валидация не пройдена.</strong></li>
<li>На шаге 6: Если система обнаружила ошибку (например, Min &gt; Max), она подсвечивает невалидные поля и не позволяет сохранить правило до исправления.</li>
</ul>
<p><strong>7. Постусловия:</strong></p>
<ul>
<li>Для номенклатурной позиции создано или обновлено правило автозаказа.</li>
<li>Правило активно и будет использоваться алгоритмом <strong>UC8: "Рассчитать автозаказ"</strong> при следующем запуске.</li>
<li>Система будет автоматически формировать заказы в ЛЦ, руководствуясь этим правилом и текущими остатками.</li>
</ul>
<p><strong>8. Особые требования (NFR):</strong></p>
<ul>
<li><strong>Валидация (критично):</strong> Система должна предотвращать сохранение некорректных правил, которые могут привести к переполнению склада или дефициту (например, точка заказа ниже минимального запаса).</li>
<li><strong>Визуализация:</strong> Интерфейс настройки должен интуитивно показывать, как будут работать правила. Идеально – использовать <strong>график уровня запасов</strong> с линиями Min, Reorder Point и Max.</li>
<li><strong>Аудит:</strong> Система ведет логирование изменений правил (кто, когда и какие значения изменил). Это критично для анализа работы системы.</li>
<li><strong>Производительность:</strong> Алгоритм применения групповых изменений должен работать эффективно, не вызывая задержек в интерфейсе.</li>
<li><strong>Обучение:</strong> Система может предоставлять подсказки и рекомендуемые значения на основе анализа истории потребления (например, "На основе данных за последний месяц, рекомендуемая точка заказа для этого товара – 50 кг").</li>
</ul>
<h3 id="subsystem_requirements-uc11">UC11. Проверить срок годности</h3>
<p><strong>1. Краткое описание:</strong> Этот Use Case описывает процесс проверки системой срока годности конкретной партии полуфабриката по запросу роботизированной линии перед его использованием в приготовлении блюда. Система возвращает роботу вердикт: разрешить или запретить использование. Это последний барьер для предотвращения использования просроченного сырья.</p>
<p><strong>2. Акторы:</strong></p>
<ul>
<li><strong>Основной:</strong> Роботизированная линия (Инициатор запроса).</li>
<li><strong>Основной:</strong> Система управления запасами (Обработчик запроса).</li>
</ul>
<p><strong>3. Предусловия:</strong></p>
<ul>
<li>Роботизированная линия интегрирована с системой управления запасами через API.</li>
<li>Полуфабрикат в оперативном запасе линии имеет актуальный "виртуальный срок годности", рассчитанный системой.</li>
<li>Система и линия имеют устойчивое соединение.</li>
</ul>
<p><strong>4. Триггер</strong></p>
<ul>
<li>Роботу на производственной линии нужно взять порцию полуфабриката.</li>
</ul>
<p><strong>5. Основной поток событий:</strong></p>
<table>
<thead>
<tr>
<th style="text-align: left;">Шаг</th>
<th style="text-align: left;">Действие Актора</th>
<th style="text-align: left;">Ответ Системы</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Робот формирует и отправляет системе <strong>запрос через API</strong>. Запрос содержит:<br> - ID линии/контейнера.<br> - ID полуфабриката.<br> - Количество для списания.</td>
<td style="text-align: left;">Система принимает запрос.</td>
</tr>
<tr>
<td style="text-align: left;">2</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система <strong>идентифицирует</strong> "виртуальную партию" оперативного запаса для указанного контейнера и полуфабриката.</td>
</tr>
<tr>
<td style="text-align: left;">3</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система <strong>проверяет статус</strong> партии.</td>
</tr>
<tr>
<td style="text-align: left;">4</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система <strong>проверяет срок годности</strong> партии.</td>
</tr>
<tr>
<td style="text-align: left;">5</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система <strong>сравнивает</strong> текущее время с рассчитанным сроком годности.</td>
</tr>
<tr>
<td style="text-align: left;">6</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система <strong>принимает решение</strong> на основе проверки.</td>
</tr>
<tr>
<td style="text-align: left;">7</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система <strong>формирует и отправляет ответ</strong> роботу.</td>
</tr>
<tr>
<td style="text-align: left;">8</td>
<td style="text-align: left;">Робот <strong>получает ответ</strong> от системы.</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">9</td>
<td style="text-align: left;">Робот выполняет действие на основе ответа.</td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>
<p><strong>6. Альтернативные потоки:</strong></p>
<ul>
<li><strong>А1: Партия заблокирована.</strong></li>
<li>На шаге 4: Если статус партии = "Заблокирована", система немедленно возвращает ответ. Робот останавливает работу и уведомляет оператора.</li>
<li><strong>А2: Срок годности истек.</strong></li>
<li>На шаге 7: Если текущая дата и время превышают расчетный срок годности, система возвращает ответ. Робот останавливает работу.</li>
<li><strong>А3: Срок годности истекает в течение периода готовки.</strong></li>
<li>На шаге 7: Система может быть настроена на проверку "с запасом". Если срок годности истекает раньше, чем истечет срок реализации готового блюда (период готовки настраивается технологом для блюда в целом), система может вернуть ответ-предупреждение. Робот может либо продолжить работу, либо также остановиться для решения оператора.</li>
<li><strong>А4: Система недоступна.</strong>
  Робот использует кэшированные данные за последний час</li>
</ul>
<p><strong>7. Постусловия:</strong></p>
<ul>
<li><strong>В случае Успеха:</strong> Робот использует полуфабрикат, отправляет системе подтверждение о списании, и система уменьшает остаток оперативного запаса.</li>
<li><strong>В случае Неудачи (Блокировка/Просрочка):</strong> Использование полуфабриката предотвращено. Работа линии приостановлена. Инициируются процессы <strong>UC9</strong> и <strong>UC8</strong> (если не были запущены ранее) и уведомляется оператор (<strong>UC2</strong>).</li>
</ul>
<p><strong>8. Особые требования (NFR):</strong></p>
<ul>
<li><strong>Производительность (Критично):</strong> Время от момента отправки запроса роботом до получения ответа должно быть <strong>минимальным (&lt; 100 мс)</strong>. Любая задержка напрямую влияет на скорость работы линии.</li>
<li><strong>Доступность (Критично):</strong> Сервис проверки должен иметь <strong>доступность 99.99%</strong>. Его простои недопустимы, так как останавливают всю линию.</li>
<li><strong>Масштабируемость:</strong> Сервис должен выдерживать пиковые нагрузки, обрабатывая сотни запросов в минуту от множества линий одновременно. Сервис должен выдерживать нагрузку на 50-75% выше текущей.</li>
<li><strong>Безопасность:</strong> API-endpoint должен быть защищен от несанкционированного доступа (аутентификация и авторизация запросов от робота).</li>
<li><strong>Журналирование:</strong> Система логирует только запросы с ошибками. При остановке робота система отправляет SMS технологу и оператору.</li>
</ul>
<h3 id="subsystem_requirements-uc12">UC12. Передать заказ в ЛЦ</h3>
<p><strong>1. Краткое описание:</strong> Этот Use Case описывает процесс автоматической отправки утвержденного заказа на полуфабрикаты из системы управления запасами ресторана в систему Логистического Центра (ЛЦ). Цель — обеспечить безошибочную и своевременную передачу данных без ручного вмешательства.</p>
<p><strong>2. Акторы:</strong></p>
<ul>
<li><strong>Основной:</strong> Система управления запасами (Инициатор отправки).</li>
<li><strong>Основной:</strong> Логистический центр (Получатель заказа).</li>
</ul>
<p><strong>3. Предусловия:</strong></p>
<ul>
<li>Заказ находится в статусе <strong>"Утвержден"</strong> (после успешного выполнения UC7: "Скорректировать заказ" или автоматического утверждения).</li>
<li>Настроена и активна <strong>интеграция</strong> с системой ЛЦ (API, FTP-обмен и т.д.).</li>
<li>Известны и валидны учетные данные для доступа к API ЛЦ.</li>
<li>Заказ содержит как минимум одну позицию с количеством &gt; 0.</li>
</ul>
<p><strong>4. Триггер</strong></p>
<ul>
<li>Есть заказ, готовый к отправке</li>
</ul>
<p><strong>5. Основной поток событий:</strong></p>
<table>
<thead>
<tr>
<th style="text-align: left;">Шаг</th>
<th style="text-align: left;">Действие Актора</th>
<th style="text-align: left;">Ответ Системы</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система помечает заказ как "В процессе отправки".</td>
</tr>
<tr>
<td style="text-align: left;">2</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система <strong>формирует исходящее сообщение</strong> в формате, автоматически определяемом для конкретного ЛЦ. Сообщение содержит:<br> - ID заказа из внутренней системы.<br> - ID ресторана-отправителя.<br> - Желаемую дату и время поставки.<br> - Список позиций (артикул товара в системе ЛЦ, количество, единица измерения).</td>
</tr>
<tr>
<td style="text-align: left;">3</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система <strong>выполняет вызов API</strong> ЛЦ (HTTP POST запрос) и передает сформированное сообщение.</td>
</tr>
<tr>
<td style="text-align: left;">4</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система <strong>получает ответ</strong> от API ЛЦ.</td>
</tr>
<tr>
<td style="text-align: left;">5</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система <strong>анализирует ответ</strong>.</td>
</tr>
<tr>
<td style="text-align: left;">6</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система <strong>обрабатывает успешный ответ</strong>. Если ЛЦ изменил количество, система автоматически корректирует заказ.</td>
</tr>
<tr>
<td style="text-align: left;">7</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система <strong>фиксирует факт успешной отправки</strong>.</td>
</tr>
</tbody>
</table>
<p><strong>5. Альтернативные потоки:</strong></p>
<ul>
<li><strong>А1: Ошибка интеграции (API недоступно).</strong></li>
<li>На шаге 4: Если система не получает ответа от API ЛЦ (таймаут, ошибка сети), она выполняет <strong>повторные попытки отправки</strong>  через 1 минуту. После исчерпания попыток заказ переводится в статус "Ошибка отправки", и Технолог получает уведомление через все каналы, SMS - только при критических ошибках.</li>
<li><strong>А2: Ошибка данных на стороне ЛЦ.</strong></li>
<li>На шаге 5: Если ЛЦ возвращает ошибку валидации (например, "Неизвестный артикул товара", "Неверное количество"), система переводит заказ в статус "Ошибка данных". <strong>Автоматическая отправка блокируется.</strong> Требуется обязательное вмешательство Технолога для исправления артикулов в справочнике (UC5) или ручного переформирования заказа.</li>
<li><strong>А3: Частичное подтверждение от ЛЦ.</strong></li>
<li>ЛЦ может подтвердить заказ, но изменить количество или дату поставки. Система должна зафиксировать этот факт в истории заказа и уведомить Технолога по email.</li>
</ul>
<p><strong>6. Постусловия:</strong></p>
<ul>
<li>Заказ переведен в статус "Передан в ЛЦ" или "Подтвержден ЛЦ".</li>
<li>В системе зафиксирован уникальный идентификатор заказа, присвоенный системой ЛЦ (если он был возвращен в ответе).</li>
<li>ЛЦ получил заказ и приступил к его комплектации.</li>
<li>Технолог видит актуальный статус заказа в системе.</li>
</ul>
<p><strong>7. Особые требования (NFR):</strong></p>
<ul>
<li><strong>Надежность:</strong> Процесс отправки должен быть <strong>идемпотентным</strong>. Повторная отправка одного и того же заказа не должна приводить к созданию дубликатов в системе ЛЦ. Для этого используется UUID для уникальности ID заказа из внутренней системы.</li>
<li><strong>Безопасность:</strong> Все взаимодействие с API ЛЦ должно быть защищено с использованием современных протоколов. Единый метод аутентификации для всех ЛЦ.</li>
<li><strong>Устойчивость к сбоям:</strong> Механизм отправки должен использовать <strong>очередь сообщений</strong> Kafka. Это гарантирует, что заказы не будут потеряны при кратковременной недоступности системы или ЛЦ.</li>
<li><strong>Мониторинг:</strong> Получение метрик Kafka по запросу.</li>
<li><strong>Производительность:</strong> Процесс отправки одного заказа не должен занимать более 10-15 секунд.</li>
</ul>
<h3 id="subsystem_requirements-uc13">UC13. Сформировать задание на утилизацию</h3>
<p><strong>1. Краткое описание:</strong> Этот Use Case описывает процесс автоматического создания системой задания для оператора на утилизацию партии полуфабрикатов. Задание формируется на основе предопределенных правил контроля сроков годности и результатов сканирования остатков. Это ключевой связующий элемент между контролем системы и физическим действием оператора.</p>
<p><strong>2. Акторы:</strong></p>
<ul>
<li><strong>Основной:</strong> Система управления запасами.</li>
<li><strong>Вторичный:</strong> Оператор линии (получатель задания).</li>
</ul>
<p><strong>3. Предусловия:</strong></p>
<ul>
<li>В системе настроены параметры контроля сроков годности (например, "Уведомлять об утилизации за X часов до истечения срока").</li>
<li>Система имеет актуальные данные о сроках годности всех партий (на складе и в оперативном запасе).</li>
<li>Процесс <strong>UC7: "Заблокировать просроченную партию"</strong> был выполнен и партия переведена в статус "Заблокирована".</li>
</ul>
<p><strong>4. Триггер</strong></p>
<ul>
<li>Наступает время запуска по расписанию</li>
</ul>
<p><strong>4. Основной поток событий:</strong></p>
<table>
<thead>
<tr>
<th style="text-align: left;">Шаг</th>
<th style="text-align: left;">Действие Актора</th>
<th style="text-align: left;">Ответ Системы</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Система <strong>запускает процедуру контроля сроков годности</strong>.</td>
<td style="text-align: left;">Система сканирует все партии в базе данных.</td>
</tr>
<tr>
<td style="text-align: left;">2</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система <strong>выявляет партии</strong>, которые подлежат утилизации по критериям:<br> - <strong>Критерий 1:</strong> Срок годности партии истек.<br> - <strong>Критерий 2:</strong> До истечения срока годности осталось менее X часов (где X - настраиваемый параметр).<br> - <strong>Критерий 3:</strong> Партия имеет статус "Заблокирована" (см. UC9).</td>
</tr>
<tr>
<td style="text-align: left;">3</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Для каждой выявленной партии система <strong>создает задание</strong> в базе данных с приоритетом "просроченные" важнее "истекающие сегодня". Задание содержит всю необходимую информацию для оператора:<br> - <strong>Тип задания:</strong> "Утилизировать партию"<br> - <strong>Приоритет:</strong> Высокий (рассчитывается на основе срочности: просроченные &gt; истекающие сегодня &gt; истекающие завтра).<br> - <strong>Локация:</strong> Точное местонахождение партии (номер стеллажа, холодильника, зоны оперативного запаса).<br> - <strong>Данные партии:</strong> Штрихкод, наименование полуфабриката, количество к утилизации (весь остаток).<br> - <strong>Причина:</strong> "Просрочка" или "Срок годности истекает через X часов".</td>
</tr>
<tr>
<td style="text-align: left;">4</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система <strong>отправляет задание на мобильное устройство оператора</strong> через отдельную очередь Kafka и FCM для Androidpush-уведомление.</td>
</tr>
<tr>
<td style="text-align: left;">5</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Система <strong>логирует</strong> факт создания задания (время, партия, причина).</td>
</tr>
</tbody>
</table>
<p><strong>6. Альтернативные потоки:</strong></p>
<ul>
<li><strong>А1: Обнаружена уже заблокированная партия.</strong><ul>
<li>Если система обнаруживает партию со статусом "Заблокирована", для которой уже существует активное задание на утилизацию, она <strong>не создает дубликат</strong>. Вместо этого может повысить приоритет существующего задания. Система проверяет дубликаты по ID партии.</li>
</ul>
</li>
<li><strong>А2: Партия уже частично использована.</strong><ul>
<li>При формировании задания система всегда указывает для утилизации <strong>текущий остаток</strong> партии, а не первоначальное количество.</li>
</ul>
</li>
<li><strong>А3: Массовое попадание под критерии.</strong><ul>
<li>Если в результате сканирования выявлено &gt;50% партий под утилизацию, система уведомляет Технолога по <strong>email или SMS-уведомление Технологу</strong> о критической ситуации.</li>
</ul>
</li>
</ul>
<p><strong>7. Постусловия:</strong></p>
<ul>
<li>В системе создано одно или несколько заданий типа "Утилизировать партию".</li>
<li>Задания доступны оператору в его мобильном приложении. </li>
<li>Партии, для которых созданы задания, имеют статус "Заблокирована", что предотвращает их использование в других процессах (пополнение линии, производство).</li>
<li>Задание имеет срок действия 1 час.</li>
<li>Задание считается доставленным после отправки в Kafka</li>
</ul>
<p><strong>8. Особые требования (NFR):</strong></p>
<ul>
<li><strong>Производительность:</strong> Процедура сканирования сроков и формирования заданий должна выполняться <strong>быстро</strong> (в течение 1-2 минут), чтобы минимизировать задержку между обнаружением проблемы и реакцией на нее.</li>
<li><strong>Надежность:</strong> Использование отдельной очереди Kafka для заданий.</li>
<li><strong>Масштабируемость:</strong> Алгоритм должен эффективно работать как с десятками, так и с тысячами партий.</li>
<li><strong>Конфигурируемость:</strong> Параметр X и периодичность запуска настраиваются технологом в UC5.</li>
</ul></section><section class="print-page" id="user_story" heading-number="3.5"><h1 id="user_story-user-story">Пользовательские истории (User Story) и порядок их реализации</h1>
<h2 id="user_story-mvp">Карта пользовательских историй, реализуемых в рамках MVP</h2>
<p><img alt="USM_MVP" src="../assets/USM_MVP.png" />
доступна по <a href="https://app.holst.so/share/b/7519e7e3-06ec-47d5-a09a-acd380b08a67">ссылке</a></p>
<h3 id="user_story-user-story-mvp">Описание User Story, реализуемых в рамках MVP</h3>
<p><strong>Эпик: Управление данными и справочниками</strong></p>
<ul>
<li><strong>US1.1:</strong> <strong>Я</strong>, как Технолог, <strong>хочу</strong> вносить и редактировать номенклатуру (название, единица измерения, категория), <strong>чтобы</strong> в системе был актуальный список всех полуфабрикатов.</li>
<li><strong>US1.2:</strong> <strong>Я</strong>, как Технолог, <strong>хочу</strong> указывать срок хранения (в часах) для каждого полуфабриката, <strong>чтобы</strong> система могла корректно рассчитывать и контролировать сроки годности.</li>
<li><strong>US1.3:</strong> <strong>Я</strong>, как Технолог, <strong>хочу</strong> добавлять и редактировать складские зоны (название, тип), <strong>чтобы</strong> правильно учитывать местонахождение остатков.</li>
</ul>
<p><strong>Эпик: Инвентаризация и учет остатков</strong></p>
<ul>
<li><strong>US2.1:</strong> <strong>Я</strong>,Как Оператор, <strong>хочу</strong> проводить инвентаризацию через мобильное приложение, сканируя штрих-коды партий и внося фактические остатки, <strong>чтобы</strong> обеспечить точность данных в системе.</li>
<li><strong>US2.2:</strong> <strong>Я</strong>, как Оператор, <strong>хочу</strong>, чтобы система автоматически сверяла внесенные данные с системными остатками и формировала отчет о расхождениях, <strong>чтобы</strong> быстро выявлять и устранять несоответствия.</li>
<li><strong>US2.3:</strong> Как Оператор, я хочу, чтобы система автоматически корректировала остатки после подтверждения инвентаризации, чтобы данные всегда были актуальными.</li>
</ul>
<p><strong>Эпик: Формирование заказов (Рекомендательная система)</strong></p>
<ul>
<li><strong>US3.1:</strong> <strong>Я</strong>, как Технолог, <strong>хочу</strong>, чтобы система ежедневно рассчитывала рекомендуемый заказ на основе текущих остатков и установленных правил (Min/Max), <strong>чтобы</strong> я мог принимать обоснованные решения о закупке.</li>
<li><strong>US3.2:</strong> <strong>Я</strong>, как Технолог, <strong>хочу</strong> просматривать сформированный черновик заказа с обоснованием по каждой позиции ("остаток X, точка заказа Y"), <strong>чтобы</strong> понимать логику расчета.</li>
<li><strong>US3.3:</strong> <strong>Я</strong>, как Технолог, <strong>хочу</strong> иметь возможность вручную откорректировать количество или удалить/добавить позиции в черновике заказа, <strong>чтобы</strong> учесть внешние факторы (акции, плановые отключения).</li>
<li><strong>US3.4:</strong> <strong>Я</strong>, как Технолог, <strong>хочу</strong> иметь возможность вручную отклонить заказ с указанием причины (например, "закрыто на мойку"), <strong>чтобы</strong> вести учет причин отсутствия заказов.</li>
</ul>
<p><strong>Эпик: Контроль сроков годности (Отчетность и ручные действия)</strong></p>
<ul>
<li><strong>US4.1:</strong> <strong>Я</strong>, как Оператор, <strong>хочу</strong> формировать отчет, который будет показывать просроченные и скоро просрочивающиеся партии, <strong>чтобы</strong> визуально идентифицировать проблемы.</li>
<li><strong>US4.2:</strong> <strong>Я</strong>, как Оператор, <strong>хочу</strong>, чтобы в отчете была цветовая индикация (красный - просрочка, желтый - истекает сегодня), <strong>чтобы</strong> быстро ориентироваться в списке.</li>
<li><strong>US4.3:</strong> <strong>Я</strong>, как Оператор, <strong>хочу</strong> сканировать партию из отчета и подтверждать ее утилизацию в мобильном приложении, <strong>чтобы</strong> система списала остатки и зафиксировала акт.</li>
<li><strong>US4.4:</strong> <strong>Я</strong>, как Оператор, <strong>хочу</strong> формировать отчет, <strong>чтобы</strong> видеть, какие полуфабрикаты нуждаются в пополнении.</li>
<li><strong>US4.5:</strong> <strong>Я</strong>, как Оператор, <strong>хочу</strong> формировать отчет, отсортированный по сроку годности (FEFO), <strong>чтобы</strong> выбрать правильную партию для пополнения линии.</li>
<li><strong>US4.6:</strong> <strong>Я</strong>, как Оператор, <strong>хочу</strong> вручную зафиксировать в системе перемещение полуфабриката со склада на линию, указав количество и отсканировав штрихкод, <strong>чтобы</strong> остатки обновлялись автоматически.</li>
</ul>
<p><strong>Эпик: Интерфейсы и доступность</strong></p>
<ul>
<li><strong>US5.1:</strong> <strong>Я</strong>, как Оператор, <strong>хочу</strong> иметь мобильное приложение с оффлайн-режимом для инвентаризации и утилизации, <strong>чтобы</strong> работать в зонах с плохим покрытием сети.</li>
<li><strong>US5.2:</strong> <strong>Я</strong>, как Технолог, <strong>хочу</strong> иметь веб-интерфейс для работы с отчетами, справочниками и заказами, <strong>чтобы</strong> удобно анализировать данные на большом экране.</li>
<li><strong>US5.3:</strong> <strong>Я</strong>, как Оператор, <strong>хочу</strong>, чтобы все отчеты на мобильном устройстве были простыми, с крупным шрифтом и минимальным количеством действий для достижения цели, <strong>чтобы</strong> быстро работать в условиях цеха.</li>
</ul>
<h2 id="user_story-_1">Карта пользовательских историй, реализуемых в рамках первого релиза</h2>
<p><img alt="USM_release1" src="../assets/USM_Release1.png" />
доступна по <a href="https://app.holst.so/share/b/7519e7e3-06ec-47d5-a09a-acd380b08a67">ссылке</a></p>
<h3 id="user_story-user-story_1">Описание User Story, реализуемых в рамках первого релиза</h3>
<p><strong>Эпик: Автоматизация контроля сроков годности</strong></p>
<ul>
<li><strong>US6.1:</strong> <strong>Я</strong>, как Система, <strong>хочу</strong> автоматически сканировать все партии каждые N минут и блокировать те, у которых истек или скоро истекает срок годности, <strong>чтобы</strong> исключить человеческий фактор и предотвратить любую возможность использования просрочки.</li>
<li><strong>US6.2:</strong> <strong>Я</strong>, как Система, <strong>хочу</strong> автоматически создавать задания на утилизацию для заблокированных партий и отправлять их на терминал оператора, <strong>чтобы</strong> обеспечить немедленную реакцию на риск.</li>
<li><strong>US6.3:</strong> <strong>Я</strong>, как Оператор, <strong>хочу</strong> получать четкие задания на утилизацию со штрихкодом и локацией, а не искать данные в отчете, <strong>чтобы</strong> выполнять работу быстрее и без ошибок.</li>
</ul>
<p><strong>Эпик: Интеграция с роботизированной линией (Безопасность пищи)</strong></p>
<ul>
<li><strong>US7.1:</strong> <strong>Я</strong>, как Роботизированная линия, <strong>хочу</strong> запрашивать у системы разрешение на использование полуфабриката из оперативного запаса перед его взятием, <strong>чтобы</strong> быть уверенным в его безопасности.</li>
<li><strong>US7.2:</strong> <strong>Я</strong>, как Система, <strong>хочу</strong> отвечать роботу на запрос в режиме реального времени (&lt;100 мс), разрешая или запрещая использование, <strong>чтобы</strong> не останавливать производственный процесс.</li>
<li><strong>US7.3:</strong> <strong>Я</strong>, как Система, <strong>хочу</strong> автоматически сообщать роботу о блокировке партии в оперативном запасе, <strong>чтобы</strong> он немедленно прекратил ее использование и уведомил оператора.</li>
</ul>
<p><strong>Эпик: Автоматическое пополнение линии</strong></p>
<ul>
<li><strong>US8.1:</strong> <strong>Я</strong>, как Система, <strong>хочу</strong> отслеживать остатки в оперативном запасе каждой линии в реальном времени, <strong>чтобы</strong> автоматически определять момент необходимости пополнения.</li>
<li><strong>US8.2:</strong> <strong>Я</strong>, как Система, <strong>хочу</strong> автоматически формировать задание для оператора на пополнение конкретной линии, указывая точную партию со склада по FEFO и необходимое количество, <strong>чтобы</strong> исключить ручной выбор и ошибки.</li>
<li><strong>US8.3:</strong> <strong>Я</strong>, как Оператор, <strong>хочу</strong> получать задания на пополнение линии, сканировать только штрихкоды (складской партии и зоны линии) и система автоматически фиксировала перемещение, <strong>чтобы</strong> максимально упростить мою работу.</li>
</ul>
<p><strong>Эпик: Настройка правил автозаказа</strong></p>
<ul>
<li><strong>US9.1:</strong> <strong>Я</strong>, как Технолог, <strong>хочу</strong> иметь интерфейс для самостоятельной настройки параметров автозаказа (Min, Max, точка заказа, кратность) для каждого полуфабриката, <strong>чтобы</strong> гибко управлять запасами без участия разработчиков.</li>
<li><strong>US9.2:</strong> <strong>Я</strong>, как Технолог, <strong>хочу</strong> настраивать коэффициент сезонности для правил автозаказа, <strong>чтобы</strong> увеличивать запасы в периоды высокого спроса.</li>
<li><strong>US9.3:</strong> <strong>Я</strong>, как Технолог, <strong>хочу</strong> применять настройки правил к группе товаров одновременно, <strong>чтобы</strong> экономить время на конфигурации.</li>
</ul>
<p><strong>Эпик: Интеграция с Логистическим Центром (ЛЦ)</strong></p>
<ul>
<li><strong>US10.1:</strong> <strong>Я</strong>, как Система, <strong>хочу</strong> автоматически отправлять утвержденные заказы в систему ЛЦ через API, <strong>чтобы</strong> исключить ручной ввод и связанные с ним ошибки.</li>
<li><strong>US10.2:</strong> <strong>Я</strong>, как Система, <strong>хочу</strong> обрабатывать ответы от ЛЦ (подтверждение, ошибка, изменение количества) и автоматически обновлять статус заказа в системе, <strong>чтобы</strong> обеспечить сквозную видимость процесса.</li>
<li><strong>US10.3:</strong> <strong>Я</strong>, как Технолог, <strong>хочу</strong> видеть в системе статус заказа ("Передан в ЛЦ", "Подтвержден", "В пути"), <strong>чтобы</strong> не связываться с ЛЦ для выяснения обстановки.</li>
</ul>
<p><strong>Эпик: Расширенное списание и аудит</strong></p>
<ul>
<li><strong>US11.1:</strong> <strong>Я</strong>, как Оператор, <strong>хочу</strong> иметь возможность зафиксировать списание не только по причине просрочки, но и по другим причинам (брак, бой, порча), выбирая из справочника, <strong>чтобы</strong> унифицировать учет всех потерь.
*</li>
<li><strong>US11.2:</strong> <strong>Я</strong>, как Технолог, <strong>хочу</strong> видеть полный и неизменяемый журнал аудита по всем действиям системы (блокировки, списания) и пользователей, <strong>чтобы</strong> проводить расследование инцидентов.</li>
</ul>
<p><strong>Эпик: Надежность и производительность</strong></p>
<ul>
<li><strong>US12.1:</strong> <strong>Я</strong>, как Системный администратор, <strong>хочу</strong>, чтобы все взаимодействия с внешними системами (ЛЦ, робот) использовали асинхронные очереди сообщений, <strong>чтобы</strong> обеспечить надежность и устойчивость к сбоям.</li>
<li><strong>US12.2:</strong> <strong>Я</strong>, как Пользователь, <strong>хочу</strong>, чтобы критические запросы (от робота) обрабатывались системой менее чем за 100 мс, <strong>чтобы</strong> не простаивало производство.</li>
<li><strong>US12.3:</strong> <strong>Я</strong>, как Пользователь, <strong>хочу</strong>, чтобы система имела ролевую модель и разграничение прав доступа к функциям, <strong>чтобы</strong> обеспечить безопасность данных.</li>
</ul></section><section class="print-page" id="information_model" heading-number="3.6"><h1 id="information_model-_1">Информационная модель</h1>
<h2 id="information_model-_2">Модель предметной области</h2>
<p><img alt="Info_model" src="../diagrams/out/Info_model.svg" /></p>
<h2 id="information_model-_3">Модель данных</h2>
<p><img alt="Data_model_diagramm" src="../diagrams/out/DataModelDiagramm.svg" /></p>
<h2 id="information_model-_4">Описание таблиц БД</h2>
<h3 id="information_model-products">products (Номенклатура полуфабрикатов)</h3>
<table>
<thead>
<tr>
<th>Реквизит</th>
<th>Тип данных</th>
<th>Признак</th>
<th>Обязательность</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>product_id</td>
<td>BIGINT</td>
<td>PK</td>
<td>Обязательно</td>
<td>Уникальный идентификатор полуфабриката</td>
</tr>
<tr>
<td>name</td>
<td>VARCHAR(255)</td>
<td></td>
<td>Обязательно</td>
<td>Наименование полуфабриката</td>
</tr>
<tr>
<td>category</td>
<td>VARCHAR(100)</td>
<td></td>
<td>Обязательно</td>
<td>Категория полуфабриката</td>
</tr>
<tr>
<td>unit_of_measure</td>
<td>VARCHAR(20)</td>
<td></td>
<td>Обязательно</td>
<td>Единица измерения (шт/кг)</td>
</tr>
<tr>
<td>shelf_life_hours</td>
<td>INTEGER</td>
<td></td>
<td>Обязательно</td>
<td>Общий срок хранения в часах</td>
</tr>
<tr>
<td>opened_package_shelf_life</td>
<td>INTEGER</td>
<td></td>
<td>Обязательно</td>
<td>Срок хранения открытой упаковки в часах</td>
</tr>
<tr>
<td>seasonality_coefficient</td>
<td>DECIMAL(5,2)</td>
<td></td>
<td>Опционально</td>
<td>Коэффициент сезонности для прогноза</td>
</tr>
<tr>
<td>barcode</td>
<td>VARCHAR(100)</td>
<td></td>
<td>Опционально</td>
<td>Штрих-код полуфабриката</td>
</tr>
</tbody>
</table>
<h3 id="information_model-batches">batches (Партии полуфабрикатов)</h3>
<table>
<thead>
<tr>
<th>Реквизит</th>
<th>Тип данных</th>
<th>Признак</th>
<th>Обязательность</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>batch_id</td>
<td>VARCHAR(100)</td>
<td>PK</td>
<td>Обязательно</td>
<td>Уникальный штрих-код партии</td>
</tr>
<tr>
<td>product_id</td>
<td>BIGINT</td>
<td>FK → products</td>
<td>Обязательно</td>
<td>Ссылка на полуфабрикат</td>
</tr>
<tr>
<td>location_id</td>
<td>BIGINT</td>
<td>FK → storage_locations</td>
<td>Обязательно</td>
<td>Место хранения партии</td>
</tr>
<tr>
<td>production_date</td>
<td>DATETIME</td>
<td></td>
<td>Обязательно</td>
<td>Дата производства</td>
</tr>
<tr>
<td>expiration_date</td>
<td>DATETIME</td>
<td></td>
<td>Обязательно</td>
<td>Срок годности</td>
</tr>
<tr>
<td>receipt_date</td>
<td>DATETIME</td>
<td></td>
<td>Обязательно</td>
<td>Дата поступления на склад</td>
</tr>
<tr>
<td>initial_quantity</td>
<td>DECIMAL(10,3)</td>
<td></td>
<td>Обязательно</td>
<td>Начальное количество</td>
</tr>
<tr>
<td>current_quantity</td>
<td>DECIMAL(10,3)</td>
<td></td>
<td>Обязательно</td>
<td>Текущее количество</td>
</tr>
<tr>
<td>status</td>
<td>VARCHAR(20)</td>
<td></td>
<td>Обязательно</td>
<td>Статус (активна/заблокирована/утилизирована)</td>
</tr>
<tr>
<td>supplier_name</td>
<td>VARCHAR(255)</td>
<td></td>
<td>Опционально</td>
<td>Наименование поставщика</td>
</tr>
<tr>
<td>virtual_expiration_date</td>
<td>DATETIME</td>
<td></td>
<td>Опционально</td>
<td>Виртуальный срок годности для оперативного запаса</td>
</tr>
</tbody>
</table>
<h3 id="information_model-storage_locations">storage_locations (Складские зоны)</h3>
<table>
<thead>
<tr>
<th>Реквизит</th>
<th>Тип данных</th>
<th>Признак</th>
<th>Обязательность</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>location_id</td>
<td>BIGINT</td>
<td>PK</td>
<td>Обязательно</td>
<td>Уникальный идентификатор зоны</td>
</tr>
<tr>
<td>name</td>
<td>VARCHAR(255)</td>
<td></td>
<td>Обязательно</td>
<td>Наименование зоны</td>
</tr>
<tr>
<td>type</td>
<td>VARCHAR(50)</td>
<td></td>
<td>Обязательно</td>
<td>Тип зоны (холодильник/морозильник/оперативный запас)</td>
</tr>
<tr>
<td>parent_location_id</td>
<td>BIGINT</td>
<td>FK → storage_locations</td>
<td>Опционально</td>
<td>Родительская зона</td>
</tr>
<tr>
<td>barcode</td>
<td>VARCHAR(100)</td>
<td></td>
<td>Опционально</td>
<td>Штрих-код зоны для сканирования</td>
</tr>
</tbody>
</table>
<h3 id="information_model-inventory_counts">inventory_counts (Инвентаризации)</h3>
<table>
<thead>
<tr>
<th>Реквизит</th>
<th>Тип данных</th>
<th>Признак</th>
<th>Обязательность</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>count_id</td>
<td>BIGINT</td>
<td>PK</td>
<td>Обязательно</td>
<td>Уникальный идентификатор инвентаризации</td>
</tr>
<tr>
<td>user_id</td>
<td>BIGINT</td>
<td>FK → users</td>
<td>Обязательно</td>
<td>Ответственный пользователь</td>
</tr>
<tr>
<td>count_date</td>
<td>DATETIME</td>
<td></td>
<td>Обязательно</td>
<td>Дата проведения инвентаризации</td>
</tr>
<tr>
<td>status</td>
<td>VARCHAR(20)</td>
<td></td>
<td>Обязательно</td>
<td>Статус инвентаризации</td>
</tr>
</tbody>
</table>
<h3 id="information_model-inventory_count_items">inventory_count_items (Элементы инвентаризации)</h3>
<table>
<thead>
<tr>
<th>Реквизит</th>
<th>Тип данных</th>
<th>Признак</th>
<th>Обязательность</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>item_id</td>
<td>BIGINT</td>
<td>PK</td>
<td>Обязательно</td>
<td>Уникальный идентификатор элемента</td>
</tr>
<tr>
<td>count_id</td>
<td>BIGINT</td>
<td>FK → inventory_counts</td>
<td>Обязательно</td>
<td>Ссылка на инвентаризацию</td>
</tr>
<tr>
<td>batch_id</td>
<td>VARCHAR(100)</td>
<td>FK → batches</td>
<td>Обязательно</td>
<td>Ссылка на партию</td>
</tr>
<tr>
<td>actual_quantity</td>
<td>DECIMAL(10,3)</td>
<td></td>
<td>Обязательно</td>
<td>Фактическое количество</td>
</tr>
<tr>
<td>system_quantity</td>
<td>DECIMAL(10,3)</td>
<td></td>
<td>Обязательно</td>
<td>Системное количество на момент инвентаризации</td>
</tr>
<tr>
<td>discrepancy</td>
<td>DECIMAL(10,3)</td>
<td></td>
<td>Обязательно</td>
<td>Расхождение (факт - система)</td>
</tr>
</tbody>
</table>
<h3 id="information_model-suppliers">suppliers (Поставщики)</h3>
<table>
<thead>
<tr>
<th>Реквизит</th>
<th>Тип данных</th>
<th>Признак</th>
<th>Обязательность</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>supplier_id</td>
<td>BIGINT</td>
<td>PK</td>
<td>Обязательно</td>
<td>Уникальный идентификатор поставщика</td>
</tr>
<tr>
<td>name</td>
<td>VARCHAR(255)</td>
<td></td>
<td>Обязательно</td>
<td>Наименование поставщика</td>
</tr>
<tr>
<td>contact_info</td>
<td>TEXT</td>
<td></td>
<td>Опционально</td>
<td>Контактная информация</td>
</tr>
</tbody>
</table>
<h3 id="information_model-purchase_orders">purchase_orders (Заказы поставщикам)</h3>
<table>
<thead>
<tr>
<th>Реквизит</th>
<th>Тип данных</th>
<th>Признак</th>
<th>Обязательность</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>BIGINT</td>
<td>PK</td>
<td>Обязательно</td>
<td>Уникальный идентификатор заказа</td>
</tr>
<tr>
<td>supplier_id</td>
<td>BIGINT</td>
<td>FK → suppliers</td>
<td>Обязательно</td>
<td>Поставщик</td>
</tr>
<tr>
<td>user_id</td>
<td>BIGINT</td>
<td>FK → users</td>
<td>Обязательно</td>
<td>Технолог, утвердивший заказ</td>
</tr>
<tr>
<td>order_date</td>
<td>DATETIME</td>
<td></td>
<td>Обязательно</td>
<td>Дата формирования заказа</td>
</tr>
<tr>
<td>status</td>
<td>VARCHAR(50)</td>
<td></td>
<td>Обязательно</td>
<td>Статус заказа</td>
</tr>
<tr>
<td>delivery_date</td>
<td>DATETIME</td>
<td></td>
<td>Опционально</td>
<td>Плановая дата поставки</td>
</tr>
</tbody>
</table>
<h3 id="information_model-order_items">order_items (Позиции заказа)</h3>
<table>
<thead>
<tr>
<th>Реквизит</th>
<th>Тип данных</th>
<th>Признак</th>
<th>Обязательность</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>order_item_id</td>
<td>BIGINT</td>
<td>PK</td>
<td>Обязательно</td>
<td>Уникальный идентификатор позиции</td>
</tr>
<tr>
<td>order_id</td>
<td>BIGINT</td>
<td>FK → purchase_orders</td>
<td>Обязательно</td>
<td>Ссылка на заказ</td>
</tr>
<tr>
<td>product_id</td>
<td>BIGINT</td>
<td>FK → products</td>
<td>Обязательно</td>
<td>Полуфабрикат</td>
</tr>
<tr>
<td>quantity</td>
<td>DECIMAL(10,3)</td>
<td></td>
<td>Обязательно</td>
<td>Заказываемое количество</td>
</tr>
<tr>
<td>suggested_quantity</td>
<td>DECIMAL(10,3)</td>
<td></td>
<td>Обязательно</td>
<td>Рекомендуемое системой количество</td>
</tr>
<tr>
<td>final_quantity</td>
<td>DECIMAL(10,3)</td>
<td></td>
<td>Обязательно</td>
<td>Итоговое количество после корректировки</td>
</tr>
</tbody>
</table>
<h3 id="information_model-replenishment_rules">replenishment_rules (Правила пополнения)</h3>
<table>
<thead>
<tr>
<th>Реквизит</th>
<th>Тип данных</th>
<th>Признак</th>
<th>Обязательность</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>rule_id</td>
<td>BIGINT</td>
<td>PK</td>
<td>Обязательно</td>
<td>Уникальный идентификатор правила</td>
</tr>
<tr>
<td>product_id</td>
<td>BIGINT</td>
<td>FK → products</td>
<td>Обязательно</td>
<td>Полуфабрикат</td>
</tr>
<tr>
<td>min_stock</td>
<td>DECIMAL(10,3)</td>
<td></td>
<td>Обязательно</td>
<td>Минимальный запас</td>
</tr>
<tr>
<td>max_stock</td>
<td>DECIMAL(10,3)</td>
<td></td>
<td>Обязательно</td>
<td>Максимальный запас</td>
</tr>
<tr>
<td>reorder_point</td>
<td>DECIMAL(10,3)</td>
<td></td>
<td>Обязательно</td>
<td>Точка заказа</td>
</tr>
<tr>
<td>lead_time_days</td>
<td>INTEGER</td>
<td></td>
<td>Обязательно</td>
<td>Время выполнения заказа в днях</td>
</tr>
<tr>
<td>min_order_quantity</td>
<td>DECIMAL(10,3)</td>
<td></td>
<td>Опционально</td>
<td>Минимальная партия заказа</td>
</tr>
<tr>
<td>order_multiple</td>
<td>DECIMAL(10,3)</td>
<td></td>
<td>Опционально</td>
<td>Кратность партии</td>
</tr>
</tbody>
</table>
<h3 id="information_model-disposal_tasks">disposal_tasks (Задания на утилизацию)</h3>
<table>
<thead>
<tr>
<th>Реквизит</th>
<th>Тип данных</th>
<th>Признак</th>
<th>Обязательность</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>task_id</td>
<td>BIGINT</td>
<td>PK</td>
<td>Обязательно</td>
<td>Уникальный идентификатор задания</td>
</tr>
<tr>
<td>batch_id</td>
<td>VARCHAR(100)</td>
<td>FK → batches</td>
<td>Обязательно</td>
<td>Партия для утилизации</td>
</tr>
<tr>
<td>user_id</td>
<td>BIGINT</td>
<td>FK → users</td>
<td>Обязательно</td>
<td>Оператор, получивший задание</td>
</tr>
<tr>
<td>created_date</td>
<td>DATETIME</td>
<td></td>
<td>Обязательно</td>
<td>Дата создания задания</td>
</tr>
<tr>
<td>priority</td>
<td>VARCHAR(20)</td>
<td></td>
<td>Обязательно</td>
<td>Приоритет задания</td>
</tr>
<tr>
<td>status</td>
<td>VARCHAR(20)</td>
<td></td>
<td>Обязательно</td>
<td>Статус задания</td>
</tr>
</tbody>
</table>
<h3 id="information_model-disposal_acts">disposal_acts (Акты списания)</h3>
<table>
<thead>
<tr>
<th>Реквизит</th>
<th>Тип данных</th>
<th>Признак</th>
<th>Обязательность</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>act_id</td>
<td>BIGINT</td>
<td>PK</td>
<td>Обязательно</td>
<td>Уникальный идентификатор акта</td>
</tr>
<tr>
<td>task_id</td>
<td>BIGINT</td>
<td>FK → disposal_tasks</td>
<td>Обязательно</td>
<td>Ссылка на задание</td>
</tr>
<tr>
<td>responsible_user_id</td>
<td>BIGINT</td>
<td>FK → users</td>
<td>Обязательно</td>
<td>Ответственный за списание</td>
</tr>
<tr>
<td>disposal_date</td>
<td>DATETIME</td>
<td></td>
<td>Обязательно</td>
<td>Дата списания</td>
</tr>
<tr>
<td>quantity</td>
<td>DECIMAL(10,3)</td>
<td></td>
<td>Обязательно</td>
<td>Количество списания</td>
</tr>
<tr>
<td>reason</td>
<td>VARCHAR(100)</td>
<td></td>
<td>Обязательно</td>
<td>Причина списания</td>
</tr>
<tr>
<td>comment</td>
<td>TEXT</td>
<td></td>
<td>Опционально</td>
<td>Комментарий</td>
</tr>
</tbody>
</table>
<h3 id="information_model-stock_movements">stock_movements (Перемещения запасов)</h3>
<table>
<thead>
<tr>
<th>Реквизит</th>
<th>Тип данных</th>
<th>Признак</th>
<th>Обязательность</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>movement_id</td>
<td>BIGINT</td>
<td>PK</td>
<td>Обязательно</td>
<td>Уникальный идентификатор перемещения</td>
</tr>
<tr>
<td>batch_id</td>
<td>VARCHAR(100)</td>
<td>FK → batches</td>
<td>Обязательно</td>
<td>Перемещаемая партия</td>
</tr>
<tr>
<td>from_location_id</td>
<td>BIGINT</td>
<td>FK → storage_locations</td>
<td>Опционально</td>
<td>Зона-источник</td>
</tr>
<tr>
<td>to_location_id</td>
<td>BIGINT</td>
<td>FK → storage_locations</td>
<td>Опционально</td>
<td>Зона-назначение</td>
</tr>
<tr>
<td>user_id</td>
<td>BIGINT</td>
<td>FK → users</td>
<td>Обязательно</td>
<td>Оператор, выполнивший перемещение</td>
</tr>
<tr>
<td>movement_date</td>
<td>DATETIME</td>
<td></td>
<td>Обязательно</td>
<td>Дата перемещения</td>
</tr>
<tr>
<td>quantity</td>
<td>DECIMAL(10,3)</td>
<td></td>
<td>Обязательно</td>
<td>Количество</td>
</tr>
<tr>
<td>movement_type</td>
<td>VARCHAR(20)</td>
<td></td>
<td>Обязательно</td>
<td>Тип перемещения</td>
</tr>
</tbody>
</table>
<h3 id="information_model-users">users (Пользователи)</h3>
<table>
<thead>
<tr>
<th>Реквизит</th>
<th>Тип данных</th>
<th>Признак</th>
<th>Обязательность</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>user_id</td>
<td>BIGINT</td>
<td>PK</td>
<td>Обязательно</td>
<td>Уникальный идентификатор пользователя</td>
</tr>
<tr>
<td>name</td>
<td>VARCHAR(255)</td>
<td></td>
<td>Обязательно</td>
<td>ФИО пользователя</td>
</tr>
<tr>
<td>role_id</td>
<td>BIGINT</td>
<td>FK → roles</td>
<td>Обязательно</td>
<td>Роль пользователя</td>
</tr>
<tr>
<td>login</td>
<td>VARCHAR(100)</td>
<td></td>
<td>Обязательно</td>
<td>Логин для входа</td>
</tr>
<tr>
<td>password_hash</td>
<td>VARCHAR(255)</td>
<td></td>
<td>Обязательно</td>
<td>Хеш пароля</td>
</tr>
</tbody>
</table>
<h3 id="information_model-roles">roles (Роли)</h3>
<table>
<thead>
<tr>
<th>Реквизит</th>
<th>Тип данных</th>
<th>Признак</th>
<th>Обязательность</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>role_id</td>
<td>BIGINT</td>
<td>PK</td>
<td>Обязательно</td>
<td>Уникальный идентификатор роли</td>
</tr>
<tr>
<td>name</td>
<td>VARCHAR(50)</td>
<td></td>
<td>Обязательно</td>
<td>Наименование роли</td>
</tr>
<tr>
<td>permissions</td>
<td>JSON</td>
<td></td>
<td>Обязательно</td>
<td>Права доступа в формате JSON</td>
</tr>
</tbody>
</table>
<h3 id="information_model-operational_stock">operational_stock (Оперативный запас линии)</h3>
<table>
<thead>
<tr>
<th>Реквизит</th>
<th>Тип данных</th>
<th>Признак</th>
<th>Обязательность</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>operational_id</td>
<td>BIGINT</td>
<td>PK</td>
<td>Обязательно</td>
<td>Уникальный идентификатор записи</td>
</tr>
<tr>
<td>line_id</td>
<td>BIGINT</td>
<td>FK → robotic_lines</td>
<td>Обязательно</td>
<td>Роботизированная линия</td>
</tr>
<tr>
<td>product_id</td>
<td>BIGINT</td>
<td>FK → products</td>
<td>Обязательно</td>
<td>Полуфабрикат</td>
</tr>
<tr>
<td>current_quantity</td>
<td>DECIMAL(10,3)</td>
<td></td>
<td>Обязательно</td>
<td>Текущее количество</td>
</tr>
<tr>
<td>virtual_expiration_date</td>
<td>DATETIME</td>
<td></td>
<td>Обязательно</td>
<td>Виртуальный срок годности</td>
</tr>
<tr>
<td>status</td>
<td>VARCHAR(20)</td>
<td></td>
<td>Обязательно</td>
<td>Статус</td>
</tr>
<tr>
<td>last_updated</td>
<td>DATETIME</td>
<td></td>
<td>Обязательно</td>
<td>Дата последнего обновления</td>
</tr>
</tbody>
</table>
<h3 id="information_model-robotic_lines">robotic_lines (Роботизированные линии)</h3>
<table>
<thead>
<tr>
<th>Реквизит</th>
<th>Тип данных</th>
<th>Признак</th>
<th>Обязательность</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>line_id</td>
<td>BIGINT</td>
<td>PK</td>
<td>Обязательно</td>
<td>Уникальный идентификатор линии</td>
</tr>
<tr>
<td>name</td>
<td>VARCHAR(255)</td>
<td></td>
<td>Обязательно</td>
<td>Наименование линии</td>
</tr>
<tr>
<td>status</td>
<td>VARCHAR(20)</td>
<td></td>
<td>Обязательно</td>
<td>Статус линии</td>
</tr>
<tr>
<td>capacity_per_day</td>
<td>INTEGER</td>
<td></td>
<td>Обязательно</td>
<td>Производительность (ед/день)</td>
</tr>
<tr>
<td>location</td>
<td>VARCHAR(100)</td>
<td></td>
<td>Опционально</td>
<td>Местоположение линии</td>
</tr>
</tbody>
</table>
<h3 id="information_model-replenishment_tasks">replenishment_tasks (Задания на пополнение)</h3>
<table>
<thead>
<tr>
<th>Реквизит</th>
<th>Тип данных</th>
<th>Признак</th>
<th>Обязательность</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>task_id</td>
<td>BIGINT</td>
<td>PK</td>
<td>Обязательно</td>
<td>Уникальный идентификатор задания</td>
</tr>
<tr>
<td>line_id</td>
<td>BIGINT</td>
<td>FK → robotic_lines</td>
<td>Обязательно</td>
<td>Линия для пополнения</td>
</tr>
<tr>
<td>batch_id</td>
<td>VARCHAR(100)</td>
<td>FK → batches</td>
<td>Обязательно</td>
<td>Партия для использования</td>
</tr>
<tr>
<td>user_id</td>
<td>BIGINT</td>
<td>FK → users</td>
<td>Обязательно</td>
<td>Оператор, получивший задание</td>
</tr>
<tr>
<td>created_date</td>
<td>DATETIME</td>
<td></td>
<td>Обязательно</td>
<td>Дата создания задания</td>
</tr>
<tr>
<td>priority</td>
<td>VARCHAR(20)</td>
<td></td>
<td>Обязательно</td>
<td>Приоритет задания</td>
</tr>
<tr>
<td>status</td>
<td>VARCHAR(20)</td>
<td></td>
<td>Обязательно</td>
<td>Статус задания</td>
</tr>
<tr>
<td>quantity</td>
<td>DECIMAL(10,3)</td>
<td></td>
<td>Обязательно</td>
<td>Количество для пополнения</td>
</tr>
</tbody>
</table></section><section class="print-page" id="c4_model" heading-number="3.7"><h1 id="c4_model-_1">Компонентная архитектура</h1>
<h2 id="c4_model-_2"><strong>Требования, обосновывающие выбор микросервисной архитектуры</strong></h2>
<h3 id="c4_model-100"><strong>Масштабируемость до 100 ресторанов</strong></h3>
<p><strong>Исходное требование (из контекста):</strong></p>
<blockquote>
<p><em>"Если проект будет успешен, мы масштабируем нашу систему на все рестораны. Всего ресторанов около 100."</em></p>
</blockquote>
<p><strong>Обоснование для микросервисов:</strong></p>
<ul>
<li><strong>Независимое масштабирование:</strong> Сервис автозаказа будет нагружен пропорционально количеству ресторанов, в то время как сервис управления справочниками - нет. Микросервисы позволяют масштабировать только нужные компоненты.</li>
<li><strong>Географическое распределение:</strong> Для сети ресторанов может потребоваться распределенное развертывание ближе к регионам.</li>
</ul>
<h3 id="c4_model-_3"><strong>Интеграция с разнородными внешними системами</strong></h3>
<p><strong>Исходное требование (FR6.1, FR6.2):</strong></p>
<blockquote>
<p><strong>FR6.1:</strong> Система должна предоставлять API для роботизированной линии...
<strong>FR6.2:</strong> Система должна предоставлять API для обмена данными с системой Логистического Центра...</p>
</blockquote>
<p><strong>Обоснование для микросервисов:</strong></p>
<ul>
<li><strong>Изоляция интеграций:</strong> Каждая внешняя система (робот, ЛЦ) имеет свой протокол и SLA. Микросервисы позволяют изолировать проблемы интеграции.</li>
<li><strong>Независимое развитие:</strong> Изменения в API ЛЦ не должны затрагивать сервис работы с роботизированной линией.</li>
</ul>
<h3 id="c4_model-_4"><strong>Критичные требования к производительности и доступности</strong></h3>
<p><strong>Исходное требование (NFR для UC11):</strong></p>
<blockquote>
<p><strong>NFR:</strong> Время от момента отправки запроса роботом до получения ответа должно быть <strong>минимальным (&lt; 100 мс)</strong>... <strong>доступность 99.99%</strong>.</p>
</blockquote>
<p><strong>Обоснование для микросервисов:</strong></p>
<ul>
<li><strong>Выделение критичных компонентов:</strong> Сервис проверки сроков годности требует максимальной производительности и может быть развернут на более мощном оборудовании.</li>
<li><strong>Изоляция сбоев:</strong> Проблемы в менее критичных сервисах (например, отчетности) не должны влиять на работу производственной линии.</li>
</ul>
<h3 id="c4_model-_5"><strong>Разные модели данных и паттерны доступа</strong></h3>
<p><strong>Исходное требование (из анализа процессов):</strong></p>
<blockquote>
<p><em>Операции с роботом требуют реального времени, формирование отчетов - пакетной обработки, работа с заказами - транзакционности.</em></p>
</blockquote>
<p><strong>Обоснование для микросервисов:</strong></p>
<ul>
<li><strong>Оптимизация БД:</strong> Сервис работы с роботом может использовать in-memory БД, сервис отчетов - колоночную БД, сервис заказов - реляционную транзакционную БД.</li>
<li><strong>Разные архитектурные паттерны:</strong> CQRS для отчетов, Event Sourcing для аудита движений запасов.</li>
</ul>
<h3 id="c4_model-_6"><strong>Независимость жизненных циклов компонентов</strong></h3>
<p><strong>Исходное требование (из этапов реализации):</strong></p>
<blockquote>
<p><em>MVP включает базовый функционал, Релиз 1.0 добавляет интеграции и автоматизацию.</em></p>
</blockquote>
<p><strong>Обоснование для микросервисов:</strong></p>
<ul>
<li><strong>Независимые релизы:</strong> Можно развивать и выпускать новые версии сервиса автозаказа, не затрагивая работающий сервис инвентаризации.</li>
<li><strong>Поэтапное внедрение:</strong> В MVP можно реализовать монолит, а в Релизе 1.0 выделить критические сервисы.</li>
</ul>
<h3 id="c4_model-_7"><strong>Разные команды разработки</strong></h3>
<p><strong>Исходное требование (подразумеваемое):</strong></p>
<blockquote>
<p><em>Разные экспертизы: интеграции с оборудованием, бизнес-логика заказов, аналитика и отчетность.</em></p>
</blockquote>
<p><strong>Обоснование для микросервисов:</strong></p>
<ul>
<li><strong>Независимые команды:</strong> Команда интеграций может работать с API робота, команда аналитики - с системой отчетности.</li>
<li><strong>Технологический стек:</strong> Каждая команда может выбирать оптимальный стек технологий для своей предметной области.</li>
</ul>
<h2 id="c4_model-_8"><strong>Обоснование выбора архитектурного стиля</strong></h2>
<p>Для MVP может быть целесообразно начать с модульного монолита, заложив границы будущих сервисов, и выделять микросервисы по мере роста нагрузки и команды.</p>
<h2 id="c4_model-_9">Диаграмма контекста</h2>
<p><img alt="C1_context" src="../diagrams/out/C1_context.svg" /></p>
<h2 id="c4_model-_10">Диаграммы контейнеров</h2>
<p>Далее диаграмму разделил на две части, чтобы было удобнее описывать и все было хорошо видно. Некоторые сервисы повторяются на диаграммах и могут быть реализованы в одном экземпляре (на усмотрение разработчика).</p>
<h3 id="c4_model-_11">Часть сервисов по автозаказу, логистике и по инвентаризации</h3>
<p><img alt="C2_1" src="../diagrams/out/%D0%A12_1.svg" /></p>
<h3 id="c4_model-_12">Часть сервисов по контролю срока годности и пополнению оперативного запаса</h3>
<p><img alt="C4_2" src="../diagrams/out/C2_2.svg" /></p>
<h3 id="c4_model-_13"><strong>Таблица контейнеров системы управления запасами</strong></h3>
<h4 id="c4_model-frontend"><strong>Frontend контейнеры</strong></h4>
<table>
<thead>
<tr>
<th>Контейнер</th>
<th>Тип</th>
<th>Назначение</th>
<th>Технологии</th>
</tr>
</thead>
<tbody>
<tr>
<td>Веб-приложение</td>
<td>Веб-приложение</td>
<td>Управление для технолога и администратора: заказы, настройки, отчеты</td>
<td>React, TypeScript</td>
</tr>
<tr>
<td>Мобильное приложение</td>
<td>Мобильное приложение</td>
<td>Задания и инвентаризация для оператора: оффлайн-режим, сканирование штрих-кодов</td>
<td>React Native</td>
</tr>
</tbody>
</table>
<h4 id="c4_model-backend-"><strong>Backend бизнес-сервисы</strong></h4>
<table>
<thead>
<tr>
<th>Контейнер</th>
<th>Тип</th>
<th>Назначение</th>
<th>Технологии</th>
</tr>
</thead>
<tbody>
<tr>
<td>Сервис остатков</td>
<td>Микросервис</td>
<td>Управление партиями, остатками, FEFO, перемещениями</td>
<td>Spring Boot, PostgreSQL</td>
</tr>
<tr>
<td>Сервис контроля сроков</td>
<td>Микросервис</td>
<td>Блокировка партий, расчет виртуальных сроков, автоматическая утилизация</td>
<td>Spring Boot, Redis</td>
</tr>
<tr>
<td>Сервис заданий</td>
<td>Микросервис</td>
<td>Управление заданиями операторам: утилизация, пополнение, приоритизация</td>
<td>Spring Boot, PostgreSQL</td>
</tr>
<tr>
<td>Сервис заказов</td>
<td>Микросервис</td>
<td>Автозаказ, правила пополнения, интеграция с ЛЦ</td>
<td>Spring Boot, PostgreSQL</td>
</tr>
<tr>
<td>Сервис оперативного запаса</td>
<td>Микросервис</td>
<td>Управление запасом на роботизированной линии, пополнение</td>
<td>Spring Boot, Redis</td>
</tr>
<tr>
<td>Сервис интеграции с роботом</td>
<td>Микросервис</td>
<td>Реальное время взаимодействие с роботом, проверка сроков</td>
<td>Spring Boot, gRPC, WebSocket</td>
</tr>
</tbody>
</table>
<h4 id="c4_model-_14"><strong>Инфраструктурные сервисы</strong></h4>
<table>
<thead>
<tr>
<th>Контейнер</th>
<th>Тип</th>
<th>Назначение</th>
<th>Технологии</th>
</tr>
</thead>
<tbody>
<tr>
<td>API Gateway</td>
<td>Шлюз API</td>
<td>Единая точка входа, маршрутизация, аутентификация</td>
<td>Spring Cloud Gateway</td>
</tr>
<tr>
<td>Сервис аутентификации</td>
<td>Микросервис</td>
<td>Управление доступом, ролями, JWT токены</td>
<td>Spring Boot, JWT, Redis</td>
</tr>
<tr>
<td>Сервис уведомлений</td>
<td>Микросервис</td>
<td>Push, SMS, email уведомления для пользователей</td>
<td>Spring Boot</td>
</tr>
<tr>
<td>Брокер сообщений</td>
<td>Инфраструктура</td>
<td>Асинхронная коммуникация между сервисами</td>
<td>Apache Kafka</td>
</tr>
</tbody>
</table>
<h4 id="c4_model-_15"><strong>Базы данных и хранилища</strong></h4>
<table>
<thead>
<tr>
<th>Контейнер</th>
<th>Тип</th>
<th>Назначение</th>
<th>Технологии</th>
</tr>
</thead>
<tbody>
<tr>
<td>База остатков</td>
<td>База данных</td>
<td>Хранение данных о партиях, остатках, перемещениях</td>
<td>PostgreSQL</td>
</tr>
<tr>
<td>База заказов</td>
<td>База данных</td>
<td>Хранение заказов, правил пополнения, истории</td>
<td>PostgreSQL</td>
</tr>
<tr>
<td>База заданий</td>
<td>База данных</td>
<td>Хранение заданий операторам, статусов выполнения</td>
<td>PostgreSQL</td>
</tr>
<tr>
<td>Кэш-хранилище</td>
<td>Кэш</td>
<td>Высокопроизводительный кэш остатков, сессий, блокировок</td>
<td>Redis</td>
</tr>
<tr>
<td>База аналитики</td>
<td>База данных</td>
<td>Метрики, мониторинг, аналитические отчеты</td>
<td>ClickHouse</td>
</tr>
</tbody>
</table>
<h4 id="c4_model-_16">Описание контейнеров системы автозаказа и логистики</h4>
<p><strong>Контейнеры системы автозаказа и логистики</strong></p>
<table>
<thead>
<tr>
<th>Контейнер</th>
<th>Тип</th>
<th>Назначение</th>
<th>Технологии</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Веб-приложение</strong></td>
<td>Фронтенд</td>
<td>Веб-приложение для управления заказами и правилами. Интерфейс для технолога для настройки правил автозаказа, корректировки заказов, управления справочниками.</td>
<td>React, TypeScript</td>
</tr>
<tr>
<td><strong>API Gateway</strong></td>
<td>Бэкэнд</td>
<td>Единая точка входа в систему. Обеспечивает маршрутизацию запросов, балансировку нагрузки, централизованную аутентификацию.</td>
<td>Spring Cloud Gateway</td>
</tr>
<tr>
<td><strong>Обнаружение сервисов</strong></td>
<td>Инфраструктура</td>
<td>Регистрация и обнаружение сервисов. Позволяет динамически находить доступные экземпляры сервисов в распределенной системе.</td>
<td>Netflix Eureka</td>
</tr>
<tr>
<td><strong>Сервис аутентификации</strong></td>
<td>Бэкэнд</td>
<td>Сервис аутентификации и авторизации. Управление пользователями, проверка прав доступа, генерация JWT токенов.</td>
<td>Spring Boot, JWT</td>
</tr>
<tr>
<td><strong>Сервис заказов</strong></td>
<td>Бэкэнд</td>
<td>Основной бизнес-сервис для автозаказа. Управление правилами пополнения, расчет заказов, ведение справочников номенклатуры, корректировка заказов.</td>
<td>Spring Boot</td>
</tr>
<tr>
<td><strong>Сервис интеграции с ЛЦ</strong></td>
<td>Бэкэнд</td>
<td>Сервис интеграции с логистическим центром. Обмен данными с поставщиком: передача заказов, получение информации о поставках и статусах заказов.</td>
<td>Spring Boot</td>
</tr>
<tr>
<td><strong>База заказов</strong></td>
<td>База данных</td>
<td>Хранение данных заказов и правил. Содержит информацию о заказах, правилах пополнения, справочниках номенклатуры.</td>
<td>PostgreSQL</td>
</tr>
<tr>
<td><strong>Кэш-хранилище</strong></td>
<td>База данных</td>
<td>Кэш-хранилище для сессий и временных данных. Используется для хранения сессий пользователей, токенов, кэширования часто запрашиваемых данных.</td>
<td>Redis</td>
</tr>
<tr>
<td><strong>Брокер сообщений</strong></td>
<td>Инфраструктура</td>
<td>Асинхронная коммуникация между сервисами. Обеспечивает надежную доставку событий, буферизацию сообщений, отказоустойчивость.</td>
<td>Apache Kafka</td>
</tr>
</tbody>
</table>
<p><strong>Внешние зависимости системы</strong></p>
<table>
<thead>
<tr>
<th>Контейнер</th>
<th>Тип</th>
<th>Назначение</th>
<th>Технологии</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Сервис инвентаризации</strong></td>
<td>Бекэнд (внешний)</td>
<td>Сервис инвентаризации из другой группы. Предоставляет данные о текущих остатках полуфабрикатов для расчета автозаказа.</td>
<td>Spring Boot</td>
</tr>
<tr>
<td><strong>Логистический центр</strong></td>
<td>Внешняя система</td>
<td>Логистический центр (поставщик). Внешняя система для приема заказов и предоставления информации о поставках.</td>
<td>REST API</td>
</tr>
</tbody>
</table>
<p><strong>Ключевые технологические решения:</strong></p>
<ol>
<li><strong>Spring Cloud Gateway</strong> - для API Gateway вместо Nginx, лучшая интеграция с экосистемой Spring</li>
<li><strong>Netflix Eureka</strong> - стандартное решение для обнаружения сервисов в Spring Cloud</li>
<li><strong>PostgreSQL</strong> - надежная реляционная БД для транзакционных данных заказов</li>
<li><strong>Redis</strong> - высокопроизводительный кэш для сессий и временных данных</li>
<li><strong>Apache Kafka</strong> - брокер сообщений для асинхронной коммуникации</li>
<li><strong>React + TypeScript</strong> - современный Фронтэнд стек для веб-приложения</li>
</ol>
<h2 id="c4_model-_17">Диаграммы компонентов</h2>
<p>На диаграммах компонентов описаны основные сервисы, предоставляющие функционал системы.</p>
<p><img alt="С3_Order_service" src="../diagrams/out/%D0%A13_1_2.svg" /></p>
<p><img alt="C3_2_1_Intergation_Rodot" src="../diagrams/out/C3_2_1.svg" /></p>
<p><img alt="" src="../diagrams/out/C3_2_2.svg" /></p>
<p><img alt="" src="../diagrams/out/C3_2_3.svg" /></p>
<p><img alt="" src="../diagrams/out/C3_2_4.svg" /></p>
<p><img alt="" src="../diagrams/out/C3_1_1.svg" /></p>
<h3 id="c4_model-_18"><strong>Таблица компонентов системы управления запасами</strong></h3>
<h4 id="c4_model--"><strong>Сервис остатков - компоненты</strong></h4>
<table>
<thead>
<tr>
<th>Компонент</th>
<th>Тип</th>
<th>Назначение</th>
<th>Технологии</th>
</tr>
</thead>
<tbody>
<tr>
<td>Менеджер партий</td>
<td>Бизнес-компонент</td>
<td>Управление жизненным циклом партий, статусами</td>
<td>Spring Bean</td>
</tr>
<tr>
<td>Калькулятор остатков</td>
<td>Бизнес-компонент</td>
<td>Расчет текущих остатков, FEFO логика при списаниях</td>
<td>Spring Bean</td>
</tr>
<tr>
<td>Процессор перемещений</td>
<td>Бизнес-компонент</td>
<td>Обработка перемещений между складскими зонами</td>
<td>Spring Bean</td>
</tr>
<tr>
<td>Обработчик инвентаризации</td>
<td>Бизнес-компонент</td>
<td>Поддержка процессов инвентаризации, сверка остатков</td>
<td>Spring Bean</td>
</tr>
<tr>
<td>REST Контроллер</td>
<td>API компонент</td>
<td>REST API для управления остатками и партиями</td>
<td>Spring MVC</td>
</tr>
<tr>
<td>Репозиторий остатков</td>
<td>Компонент доступа к данным</td>
<td>Доступ к данным партий и остатков в БД</td>
<td>Spring Data JPA</td>
</tr>
</tbody>
</table>
<h4 id="c4_model--_1"><strong>Сервис интеграции с роботом - компоненты</strong></h4>
<table>
<thead>
<tr>
<th>Компонент</th>
<th>Тип</th>
<th>Назначение</th>
<th>Технологии</th>
</tr>
</thead>
<tbody>
<tr>
<td>Обработчик протокола</td>
<td>Бизнес-компонент</td>
<td>Обработка gRPC/WebSocket соединений с роботом</td>
<td>gRPC Service</td>
</tr>
<tr>
<td>Проверка сроков</td>
<td>Бизнес-компонент</td>
<td>Проверка сроков годности в реальном времени (&lt;100 мс)</td>
<td>Spring Bean</td>
</tr>
<tr>
<td>Менеджер кэша</td>
<td>Бизнес-компонент</td>
<td>Управление кэшем остатков в Redis для быстрого доступа</td>
<td>Spring Bean</td>
</tr>
<tr>
<td>Обработчик аварий</td>
<td>Бизнес-компонент</td>
<td>Обработка аварийных ситуаций и остановок робота</td>
<td>Spring Bean</td>
</tr>
<tr>
<td>gRPC Сервис</td>
<td>API компонент</td>
<td>gRPC endpoint для взаимодействия с роботом</td>
<td>gRPC</td>
</tr>
<tr>
<td>Сервис синхронизации</td>
<td>Бизнес-компонент</td>
<td>Синхронизация кэша с основными данными из других сервисов</td>
<td>Spring Bean</td>
</tr>
</tbody>
</table>
<h4 id="c4_model--_2"><strong>Сервис контроля сроков - компоненты</strong></h4>
<table>
<thead>
<tr>
<th>Компонент</th>
<th>Тип</th>
<th>Назначение</th>
<th>Технологии</th>
</tr>
</thead>
<tbody>
<tr>
<td>Сканер сроков</td>
<td>Бизнес-компонент</td>
<td>Сканирование партий по расписанию на предмет истечения сроков</td>
<td>Spring Scheduler</td>
</tr>
<tr>
<td>Менеджер блокировок</td>
<td>Бизнес-компонент</td>
<td>Автоматическая блокировка партий по истечении сроков</td>
<td>Spring Bean</td>
</tr>
<tr>
<td>Калькулятор виртуальных сроков</td>
<td>Бизнес-компонент</td>
<td>Расчет виртуальных сроков годности при смешивании партий</td>
<td>Spring Bean</td>
</tr>
<tr>
<td>Триггер утилизации</td>
<td>Бизнес-компонент</td>
<td>Создание заданий на утилизацию просроченных партий</td>
<td>Spring Bean</td>
</tr>
<tr>
<td>Репозиторий сроков</td>
<td>Компонент доступа к данным</td>
<td>Доступ к данным сроков годности партий</td>
<td>Spring Data JPA</td>
</tr>
<tr>
<td>REST Контроллер</td>
<td>API компонент</td>
<td>API для управления блокировками и проверки статусов</td>
<td>Spring MVC</td>
</tr>
</tbody>
</table>
<h4 id="c4_model--_3"><strong>Сервис заданий - компоненты</strong></h4>
<table>
<thead>
<tr>
<th>Компонент</th>
<th>Тип</th>
<th>Назначение</th>
<th>Технологии</th>
</tr>
</thead>
<tbody>
<tr>
<td>Диспетчер заданий</td>
<td>Бизнес-компонент</td>
<td>Распределение заданий операторам, балансировка нагрузки</td>
<td>Spring Bean</td>
</tr>
<tr>
<td>Калькулятор приоритетов</td>
<td>Бизнес-компонент</td>
<td>Расчет приоритетов заданий (утилизация &gt; пополнение)</td>
<td>Spring Bean</td>
</tr>
<tr>
<td>Менеджер синхронизации</td>
<td>Бизнес-компонент</td>
<td>Синхронизация с мобильным приложением, push-уведомления</td>
<td>Spring Bean</td>
</tr>
<tr>
<td>Обработчик завершения</td>
<td>Бизнес-компонент</td>
<td>Подтверждение выполнения заданий, обновление статусов</td>
<td>Spring Bean</td>
</tr>
<tr>
<td>REST Контроллер</td>
<td>API компонент</td>
<td>API для управления заданиями операторов</td>
<td>Spring MVC</td>
</tr>
<tr>
<td>Репозиторий заданий</td>
<td>Компонент доступа к данным</td>
<td>Доступ к данным заданий в БД</td>
<td>Spring Data JPA</td>
</tr>
<tr>
<td>Очередь оффлайн-работы</td>
<td>Бизнес-компонент</td>
<td>Управление оффлайн-операциями мобильного приложения</td>
<td>Spring Bean</td>
</tr>
</tbody>
</table>
<h4 id="c4_model--_4"><strong>Сервис заказов - компоненты</strong></h4>
<table>
<thead>
<tr>
<th>Компонент</th>
<th>Тип</th>
<th>Назначение</th>
<th>Технологии</th>
</tr>
</thead>
<tbody>
<tr>
<td>Движок автозаказа</td>
<td>Бизнес-компонент</td>
<td>Автоматический расчет заказов по правилам пополнения</td>
<td>Spring Bean</td>
</tr>
<tr>
<td>Валидатор правил</td>
<td>Бизнес-компонент</td>
<td>Проверка корректности правил (Min &lt; Reorder &lt; Max)</td>
<td>Spring Bean</td>
</tr>
<tr>
<td>Менеджер утверждения</td>
<td>Бизнес-компонент</td>
<td>Управление процессом утверждения заказов технологом</td>
<td>Spring Bean</td>
</tr>
<tr>
<td>Калькулятор сезонности</td>
<td>Бизнес-компонент</td>
<td>Учет сезонных коэффициентов в расчетах автозаказа</td>
<td>Spring Bean</td>
</tr>
<tr>
<td>REST Контроллер</td>
<td>API компонент</td>
<td>API для управления заказами и правилами</td>
<td>Spring MVC</td>
</tr>
<tr>
<td>Репозиторий заказов</td>
<td>Компонент доступа к данным</td>
<td>Доступ к данным заказов и правил в БД</td>
<td>Spring Data JPA</td>
</tr>
<tr>
<td>Интеграция с поставщиками</td>
<td>Бизнес-компонент</td>
<td>Управление подключениями к логистическим центрам</td>
<td>Spring Bean</td>
</tr>
</tbody>
</table>
<h4 id="c4_model--_5"><strong>Сервис оперативного запаса - компоненты</strong></h4>
<table>
<thead>
<tr>
<th>Компонент</th>
<th>Тип</th>
<th>Назначение</th>
<th>Технологии</th>
</tr>
</thead>
<tbody>
<tr>
<td>Калькулятор пополнения</td>
<td>Бизнес-компонент</td>
<td>Расчет необходимости пополнения роботизированной линии</td>
<td>Spring Bean</td>
</tr>
<tr>
<td>Монитор линии</td>
<td>Бизнес-компонент</td>
<td>Мониторинг остатков на роботизированных линиях в реальном времени</td>
<td>Spring Bean</td>
</tr>
<tr>
<td>Менеджер виртуального запаса</td>
<td>Бизнес-компонент</td>
<td>Управление виртуальными партиями на линии, расчет сроков</td>
<td>Spring Bean</td>
</tr>
<tr>
<td>Экстренное пополнение</td>
<td>Бизнес-компонент</td>
<td>Обработка критического уровня запаса (&lt;10 мин до исчерпания)</td>
<td>Spring Bean</td>
</tr>
<tr>
<td>REST Контроллер</td>
<td>API компонент</td>
<td>API для управления оперативным запасом</td>
<td>Spring MVC</td>
</tr>
<tr>
<td>Репозиторий линий</td>
<td>Компонент доступа к данных</td>
<td>Доступ к данным роботизированных линий</td>
<td>Spring Data JPA</td>
</tr>
<tr>
<td>Селектор FEFO</td>
<td>Бизнес-компонент</td>
<td>Выбор партий для пополнения по принципу FEFO</td>
<td>Spring Bean</td>
</tr>
</tbody>
</table></section><section class="print-page" id="seq_diagram" heading-number="3.8"><h1 id="seq_diagram-_1">Интеграционное взаимодействие</h1>
<p>Описаны взаимодействия с системой роботизированной линии и с логистическим центром.</p>
<h2 id="seq_diagram-_2">Диаграммы последовательности взаимодействия с системой роботизированной линии.</h2>
<p>Получение разрешения при списании полуфабриката из оперативного запаса.</p>
<p><img alt="seq_diagramm_rodot" src="../diagrams/out/Seq_diagramm_rodot.svg" /></p>
<h2 id="seq_diagram-_3">Диаграмма последовательности взаимодействия с логистическим центром</h2>
<p><img alt="seq_diagramm_logics" src="../diagrams/out/Seq_diagramm_logistic.svg" /></p>
<h2 id="seq_diagram-_4">Диаграмма последовательности получения прогноза продаж для расчета автозаказа полуфабрикатов</h2>
<p><img alt="seq_diagramm_order" src="../diagrams/out/Seq_diargamm_order.svg" /></p>
<h2 id="seq_diagram-_5">Диаграмма последовательности создания задания на утилизацию</h2>
<p><img alt="seq_diagramm_util" src="../diagrams/out/seq_diagramm_util.svg" /></p>
<h2 id="seq_diagram--">Диаграмма последовательности инвентаризации в офф-лайн режиме и синхронизация</h2>
<p><img alt="seq_diagramm_invetn_offline" src="../diagrams/out/seq_diagramm_invetn_offline.svg" /></p></section><section class="print-page" id="ui" heading-number="3.9"><h1 id="ui-ui">Демонстрация UI макета</h1>
<h2 id="ui-_1">Интерактивная демонстрация</h2>
<p>Для интерактивного просмотра откройте <a href="#ui-operator-main-menu">UI макет для оператора</a> или <a href="#ui-technologist_dashboard">UI макет для технолога</a> в отдельной вкладке.</p>
<h2 id="ui-_2">Статичные снимки</h2>
<h3 id="ui-_3">Интерфейс для оператора</h3>
<p><img alt="UI_operator_maket" src="../UI/screenshots/Operator_1.png" /></p>
<h3 id="ui-_4">Интерфейс для технолога</h3>
<p><img alt="UI_technolog" src="../UI/screenshots/Technolog_1.png" /></p></section></section>
                    <section class='print-page md-section' id='section-4' heading-number='4'>
                        <h1>API<a class='headerlink' href='#section-4' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="api_robots" heading-number="4.1"><h1 id="api_robots-api">API для интеграции с роботизированной линией</h1>
<p><swagger-ui src= "https://raw.githubusercontent.com/TimIrkutsk/Otus-Project/refs/heads/main/docs/assets/Robot_Integration_API.yaml" /></p></section><section class="print-page" id="api_logict" heading-number="4.2"><h1 id="api_logict-api">API для интеграции с логистическими центрами</h1>
<p><swagger-ui src= "https://raw.githubusercontent.com/TimIrkutsk/Otus-Project/refs/heads/main/docs/assets/Logistics_Center_API.yaml" /></p></section><section class="print-page" id="api_mobile_task" heading-number="4.3"><h1 id="api_mobile_task-api">API для мобильного приложения оператора линии</h1>
<p><swagger-ui src= "https://raw.githubusercontent.com/TimIrkutsk/Otus-Project/refs/heads/main/docs/assets/Mobile_Task_API.yaml" /></p></section><section class="print-page" id="api_shelf_life_control" heading-number="4.4"><h1 id="api_shelf_life_control-api">API для контроля сроков годности партий полуфабрикатов</h1>
<p><swagger-ui src= "https://raw.githubusercontent.com/TimIrkutsk/Otus-Project/refs/heads/main/docs/assets/Shelf-Life_Control_API.yaml" /></p></section><section class="print-page" id="api_stock_management" heading-number="4.5"><h1 id="api_stock_management-api">API для управления складскими запасами</h1>
<p><swagger-ui src= "https://raw.githubusercontent.com/TimIrkutsk/Otus-Project/refs/heads/main/docs/assets/Stock_Management_API.yaml" /></p></section><section class="print-page" id="api" heading-number="4.6"><h1 id="api-api">API для получения прогнозов продаж</h1>
<p><swagger-ui src= "https://raw.githubusercontent.com/TimIrkutsk/Otus-Project/refs/heads/main/docs/assets/Sales%20Forecast%20API.yaml" /></p></section><section class="print-page" id="api_auto_order" heading-number="4.7"><h1 id="api_auto_order-api">API для автоматического расчета и управления заказами полуфабрикатов</h1>
<p><swagger-ui src= "https://raw.githubusercontent.com/TimIrkutsk/Otus-Project/refs/heads/main/docs/assets/Auto_Order_API.yaml" /></p></section><section class="print-page" id="api_operational_stock" heading-number="4.8"><h1 id="api_operational_stock-api">API для управления оперативным запасом роботизированных линий</h1>
<p><swagger-ui src= "https://raw.githubusercontent.com/TimIrkutsk/Otus-Project/refs/heads/main/docs/assets/Operational_Stock_API.yaml" /></p></section></section>
                    <section class='print-page md-section' id='section-5' heading-number='5'>
                        <h1>Задачи<a class='headerlink' href='#section-5' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="task" heading-number="5.1"><h1 id="task-userstory">Постановки на разработку по UserStory</h1>
<h2 id="task-mvp">Постановки на разработку функционала, реализуемого в рамках MVP</h2>
<h3 id="task-us11">US1.1: Внесение и редактирование номенклатуры</h3>
<h4 id="task-definition-of-ready-dor-">Definition of Ready (DoR) - Критерии готовности к началу работы:</h4>
<ul>
<li>Требования понятны и согласованы с технологом</li>
<li>Дизайн интерфейса ведения справочника утвержден</li>
<li>Определен полный набор атрибутов полуфабриката</li>
<li>Готовы API endpoints для работы с номенклатурой</li>
<li>Определены валидации данных (уникальность наименования и т.д.)</li>
</ul>
<h4 id="task-definition-of-done-dod-">Definition of Done (DoD) - Критерии завершенности:</h4>
<ul>
<li>Реализован интерфейс создания/редактирования полуфабрикатов</li>
<li>Реализована валидация вводимых данных</li>
<li>Данные сохраняются в базу и доступны для других процессов</li>
<li>Написаны и проходят unit-тесты</li>
<li>Код прошел code review</li>
<li>Функциональность протестирована на тестовом стенде</li>
</ul>
<h4 id="task-acceptance-criteria">Критерии приемки (Acceptance Criteria):</h4>
<ul>
<li>Технолог может добавить новый полуфабрикат с обязательными полями: название, единица измерения, категория</li>
<li>Система проверяет уникальность наименования</li>
<li>При редактировании существующей позиции изменения сохраняются</li>
<li>Новый полуфабрикат сразу доступен для использования в заказах и инвентаризации</li>
</ul>
<h4 id="task-_1">Задачи:</h4>
<ul>
<li>Создать таблицу <code>products</code> в БД</li>
<li>Реализовать REST API для CRUD операций</li>
<li>Разработать UI форму ввода/редактирования</li>
<li>Реализовать валидацию данных</li>
<li>Написать тесты</li>
</ul>
<hr />
<h3 id="task-us12">US1.2: Указание сроков хранения</h3>
<h4 id="task-definition-of-ready-dor">Definition of Ready (DoR):</h4>
<ul>
<li>US1.1 завершена и протестирована</li>
<li>Определен формат хранения сроков (часы/дни)</li>
<li>Согласованы бизнес-правила валидации сроков</li>
<li>Готовы требования к интерфейсу ввода сроков</li>
</ul>
<h4 id="task-definition-of-done-dod">Definition of Done (DoD):</h4>
<ul>
<li>Добавлено поле "Срок хранения" в форму полуфабриката</li>
<li>Реализована валидация срока (положительное число)</li>
<li>Срок хранения учитывается при расчете даты истечения срока годности</li>
<li>Протестирована корректность расчетов на основе введенных сроков</li>
</ul>
<h4 id="task-_2">Критерии приемки:</h4>
<ul>
<li>Технолог может указать срок хранения в часах для каждого полуфабриката</li>
<li>Система не позволяет сохранить отрицательный или нулевой срок</li>
<li>Указанный срок используется для автоматического расчета даты истечения срока годности партий</li>
<li>При создании партии система рассчитывает expiration_date на основе production_date + срок хранения</li>
</ul>
<h4 id="task-_3">Задачи:</h4>
<ul>
<li>Добавить поле <code>shelf_life_hours</code> в таблицу products</li>
<li>Обновить UI форму</li>
<li>Реализовать валидацию срока хранения</li>
<li>Интегрировать с логикой расчета сроков годности</li>
<li>Протестировать расчеты</li>
</ul>
<hr />
<h3 id="task-us13">US1.3: Управление складскими зонами</h3>
<h4 id="task-definition-of-ready-dor_1">Definition of Ready (DoR):</h4>
<ul>
<li>Определена иерархическая структура зон хранения</li>
<li>Утверждены типы зон (холодильник, морозильник, оперативный запас)</li>
<li>Согласованы атрибуты зоны (название, тип, родительская зона)</li>
<li>Готовы требования к интерфейсу управления зонами</li>
</ul>
<h4 id="task-definition-of-done-dod_1">Definition of Done (DoD):</h4>
<ul>
<li>Реализован интерфейс создания/редактирования складских зон</li>
<li>Поддержана иерархическая структура зон</li>
<li>Реализована валидация данных зоны</li>
<li>Зоны доступны для выбора при проведении инвентаризации</li>
<li>Данные зон интегрированы с системой учета остатков</li>
</ul>
<h4 id="task-_4">Критерии приемки:</h4>
<ul>
<li>Технолог может создать новую складскую зону с указанием названия и типа</li>
<li>Можно создать иерархию зон (например: Склад → Холодильная камера → Стеллаж 1)</li>
<li>Система не позволяет удалить зону, если в ней есть остатки партий</li>
<li>При инвентаризации оператор может выбрать конкретную зону для подсчета</li>
</ul>
<h4 id="task-_5">Задачи:</h4>
<ul>
<li>Создать таблицы <code>storage_locations</code> и <code>location_types</code></li>
<li>Реализовать API для управления зонами</li>
<li>Разработать UI для иерархического отображения зон</li>
<li>Интегрировать с модулем инвентаризации</li>
<li>Реализовать проверки при удалении зон</li>
</ul>
<hr />
<h3 id="task-us21">US2.1: Проведение инвентаризации через мобильное приложение</h3>
<h4 id="task-definition-of-ready-dor-_1">Definition of Ready (DoR) - Критерии готовности к началу работы:</h4>
<ul>
<li>Завершены US1.1, US1.2, US1.3 (справочники номенклатуры и зон)</li>
<li>Готовы API endpoints для мобильного приложения</li>
<li>Определен формат данных для оффлайн-работы</li>
<li>Утвержден дизайн мобильного интерфейса сканирования</li>
<li>Определены типы инвентаризации (сплошная/выборочная)</li>
</ul>
<h4 id="task-definition-of-done-dod-_1">Definition of Done (DoD) - Критерии завершенности:</h4>
<ul>
<li>Реализован интерфейс сканирования штрих-кодов в мобильном приложении</li>
<li>Поддержан оффлайн-режим с кэшированием данных</li>
<li>Реализована валидация штрих-кодов партий</li>
<li>Данные инвентаризации корректно синхронизируются при появлении сети</li>
<li>Написаны и проходят автотесты для мобильного приложения</li>
</ul>
<h4 id="task-acceptance-criteria_1">Критерии приемки (Acceptance Criteria):</h4>
<ul>
<li>Оператор может сканировать штрих-код партии и видеть автоматическое заполнение данных</li>
<li>При повреждении штрих-кода возможен ручной ввод ID партии</li>
<li>Система работает оффлайн и синхронизирует данные при восстановлении связи</li>
<li>Время сканирования и ввода одной партии не превышает 3-5 секунд</li>
<li>Интерфейс оптимизирован для последовательного сканирования</li>
</ul>
<h4 id="task-_6">Задачи:</h4>
<ul>
<li>Разработать мобильный интерфейс сканирования</li>
<li>Реализовать оффлайн-кэширование данных партий</li>
<li>Интегрировать сканер штрих-кодов</li>
<li>Реализовать валидацию штрих-кодов</li>
<li>Настроить синхронизацию оффлайн-данных</li>
</ul>
<hr />
<h3 id="task-us22">US2.2: Автоматическая сверка данных и отчет о расхождениях</h3>
<h4 id="task-definition-of-ready-dor_2">Definition of Ready (DoR):</h4>
<ul>
<li>US2.1 завершена и протестирована</li>
<li>Определен алгоритм сверки фактических и системных данных</li>
<li>Утвержден формат отчета о расхождениях</li>
<li>Определены пороги для автоматической коррекции (≤ 4000 ед.) и ручного утверждения (&gt; 4000 ед.)</li>
</ul>
<h4 id="task-definition-of-done-dod_2">Definition of Done (DoD):</h4>
<ul>
<li>Реализован алгоритм автоматической сверки данных инвентаризации</li>
<li>Система формирует отчет о расхождениях с цветовой индикацией</li>
<li>Реализована автоматическая коррекция для малых расхождений</li>
<li>Для больших расхождений создаются задания на утверждение технологу</li>
<li>Отчет доступен для просмотра в веб-интерфейсе</li>
</ul>
<h4 id="task-_7">Критерии приемки:</h4>
<ul>
<li>После синхронизации система автоматически сверяет фактические данные с системными остатками</li>
<li>Формируется отчет с расхождениями (излишки/недостачи) по каждой позиции</li>
<li>При расхождениях ≤ 4000 ед. система автоматически корректирует остатки</li>
<li>При расхождениях &gt; 4000 ед. система уведомляет технолога и ожидает утверждения</li>
<li>Отчет включает дату, время, зону, ответственного и все позиции с расхождениями</li>
</ul>
<h4 id="task-_8">Задачи:</h4>
<ul>
<li>Реализовать алгоритм сверки остатков</li>
<li>Разработать генератор отчетов о расхождениях</li>
<li>Реализовать автоматическую коррекцию для малых расхождений</li>
<li>Интегрировать с системой уведомлений технолога</li>
<li>Создать веб-интерфейс для просмотра отчетов</li>
</ul>
<hr />
<h3 id="task-us23">US2.3: Автоматическая коррекция остатков после подтверждения</h3>
<h4 id="task-definition-of-ready-dor_3">Definition of Ready (DoR):</h4>
<ul>
<li>US2.2 завершена и протестирована</li>
<li>Определены бизнес-правила коррекции остатков</li>
<li>Готовы API endpoints для подтверждения инвентаризации</li>
<li>Утвержден процесс утверждения больших расхождений технологом</li>
</ul>
<h4 id="task-definition-of-done-dod_3">Definition of Done (DoD):</h4>
<ul>
<li>Реализована атомарная коррекция остатков в базе данных</li>
<li>Система фиксирует акт инвентаризации с полным аудитом</li>
<li>Коррекция остатков оперативного запаса не влияет на виртуальный срок годности</li>
<li>Данные для автозаказа актуализируются после коррекции</li>
<li>Гарантирована консистентность данных даже при сбоях</li>
</ul>
<h4 id="task-_9">Критерии приемки:</h4>
<ul>
<li>После подтверждения инвентаризации система автоматически корректирует остатки в базе данных</li>
<li>При коррекции оперативного запаса меняется только количество, виртуальный срок годности сохраняется</li>
<li>Система не позволяет корректировать остатки по заблокированным партиям</li>
<li>Все коррекции фиксируются в акте инвентаризации с указанием ответственного</li>
<li>После коррекции данные для автозаказа и контроля сроков годности актуализируются</li>
</ul>
<h4 id="task-_10">Задачи:</h4>
<ul>
<li>Реализовать транзакционную коррекцию остатков</li>
<li>Создать систему фиксации актов инвентаризации</li>
<li>Интегрировать с модулем оперативного запаса</li>
<li>Реализовать проверки блокировок партий</li>
<li>Обновить данные для автозаказа после коррекции</li>
</ul>
<hr />
<h3 id="task-us31">US3.1: Ежедневный расчет рекомендуемого заказа</h3>
<h4 id="task-definition-of-ready-dor-_2">Definition of Ready (DoR) - Критерии готовности к началу работы:</h4>
<ul>
<li>Завершены US1.1, US1.2, US1.3 (справочники номенклатуры)</li>
<li>Завершены US2.1, US2.2, US2.3 (инвентаризация и остатки)</li>
<li>Готовы API endpoints для расчета автозаказа</li>
<li>Определен алгоритм расчета на основе правил (Min/Max)</li>
<li>Утвержден формат черновика заказа</li>
<li>Настроено расписание ежедневного расчета</li>
</ul>
<h4 id="task-definition-of-done-dod-_2">Definition of Done (DoD) - Критерии завершенности:</h4>
<ul>
<li>Реализован алгоритм расчета заказа по правилам Min/Max</li>
<li>Система автоматически запускает расчет по расписанию</li>
<li>Расчет учитывает текущие остатки и незавершенные заказы</li>
<li>Сформированный черновик заказа сохраняется в базе данных</li>
<li>Технолог получает уведомление о готовности черновика</li>
</ul>
<h4 id="task-acceptance-criteria_2">Критерии приемки (Acceptance Criteria):</h4>
<ul>
<li>Система ежедневно рассчитывает рекомендуемый заказ на основе текущих остатков и правил Min/Max</li>
<li>Расчет выполняется автоматически по установленному расписанию</li>
<li>В расчете учитываются только активные правила автозаказа</li>
<li>Сформированный черновик заказа включает позиции с количеством &gt; 0</li>
<li>Технолог получает уведомление в интерфейсе системы о готовности черновика</li>
</ul>
<h4 id="task-_11">Задачи:</h4>
<ul>
<li>Реализовать алгоритм расчета по правилам Min/Max</li>
<li>Настроить scheduled job для ежедневного расчета</li>
<li>Разработать генератор черновиков заказов</li>
<li>Интегрировать с системой уведомлений</li>
<li>Реализовать хранение черновиков в БД</li>
</ul>
<hr />
<h3 id="task-us32">US3.2: Просмотр черновика заказа с обоснованием</h3>
<h4 id="task-definition-of-ready-dor_4">Definition of Ready (DoR):</h4>
<ul>
<li>US3.1 завершена и протестирована</li>
<li>Утвержден формат отображения обоснования расчета</li>
<li>Готовы API endpoints для получения деталей заказа</li>
<li>Определены данные для обоснования (остаток, точка заказа и т.д.)</li>
</ul>
<h4 id="task-definition-of-done-dod_4">Definition of Done (DoD):</h4>
<ul>
<li>Реализован интерфейс просмотра черновика заказа</li>
<li>По каждой позиции отображается детальное обоснование расчета</li>
<li>Интерфейс поддерживает сортировку и фильтрацию позиций</li>
<li>Данные загружаются быстро даже при большом количестве позиций</li>
</ul>
<h4 id="task-_12">Критерии приемки:</h4>
<ul>
<li>Технолог может просмотреть сформированный черновик заказа</li>
<li>По каждой позиции отображается обоснование расчета ("остаток X, точка заказа Y")</li>
<li>Технолог видит детализацию: текущий остаток, точку заказа, максимальный запас</li>
<li>Интерфейс загружается не более чем за 5-7 секунд даже для заказов с сотнями позиций</li>
<li>Поддерживается пагинация и поиск по позициям заказа</li>
</ul>
<h4 id="task-_13">Задачи:</h4>
<ul>
<li>Разработать веб-интерфейс просмотра заказов</li>
<li>Реализовать отображение обоснования по позициям</li>
<li>Оптимизировать загрузку данных (пагинация, lazy loading)</li>
<li>Реализовать сортировку и фильтрацию</li>
<li>Добавить поиск по наименованиям продуктов</li>
</ul>
<hr />
<h3 id="task-us33">US3.3: Ручная корректировка черновика заказа</h3>
<h4 id="task-definition-of-ready-dor_5">Definition of Ready (DoR):</h4>
<ul>
<li>US3.2 завершена и протестирована</li>
<li>Определены бизнес-правила редактирования заказа</li>
<li>Утвержден интерфейс редактирования количеств и состава</li>
<li>Готовы API endpoints для корректировки заказа</li>
</ul>
<h4 id="task-definition-of-done-dod_5">Definition of Done (DoD):</h4>
<ul>
<li>Реализован интерфейс редактирования количеств в заказе</li>
<li>Поддержано добавление новых позиций в заказ</li>
<li>Реализовано удаление позиций из заказа</li>
<li>Изменения сохраняются в черновике заказа</li>
<li>Валидация вводимых количеств (положительные числа)</li>
</ul>
<h4 id="task-_14">Критерии приемки:</h4>
<ul>
<li>Технолог может вручную откорректировать количество для любой позиции в черновике заказа</li>
<li>Можно удалить позицию из заказа (например, зная о отсутствии товара у поставщика)</li>
<li>Можно добавить новую позицию в заказ (например, новый товар для теста)</li>
<li>Система проверяет, что вводимые количества являются положительными числами</li>
<li>После корректировки заказ сохраняется как черновик для последующего утверждения</li>
</ul>
<h4 id="task-_15">Задачи:</h4>
<ul>
<li>Реализовать UI для редактирования количеств</li>
<li>Добавить функциональность добавления/удаления позиций</li>
<li>Реализовать валидацию вводимых данных</li>
<li>Обновить механизм сохранения черновиков</li>
<li>Протестировать сценарии корректировки</li>
</ul>
<hr />
<h3 id="task-us34">US3.4: Отклонение заказа с указанием причины</h3>
<h4 id="task-definition-of-ready-dor_6">Definition of Ready (DoR):</h4>
<ul>
<li>US3.3 завершена и протестирована</li>
<li>Определен перечень причин отклонения заказа</li>
<li>Утвержден процесс архивации отклоненных заказов</li>
<li>Готовы API endpoints для отклонения заказов</li>
</ul>
<h4 id="task-definition-of-done-dod_6">Definition of Done (DoD):</h4>
<ul>
<li>Реализована функция отклонения заказа с выбором причины</li>
<li>Поддержан произвольный комментарий при отклонении</li>
<li>Отклоненные заказы архивируются с сохранением истории</li>
<li>Система не отправляет отклоненные заказы в ЛЦ</li>
<li>Ведутся логи всех действий по отклонению заказов</li>
</ul>
<h4 id="task-_16">Критерии приемки:</h4>
<ul>
<li>Технолог может отклонить заказ с указанием причины (например, "закрыто на мойку")</li>
<li>При отклонении требуется обязательное указание причины</li>
<li>Отклоненный заказ переходит в статус "Отклонен" и архивируется</li>
<li>Система ведет учет причин отсутствия заказов для анализа</li>
<li>Отклоненный заказ не передается в логистический центр</li>
</ul>
<h4 id="task-_17">Задачи:</h4>
<ul>
<li>Реализовать UI для отклонения заказов</li>
<li>Создать справочник причин отклонения</li>
<li>Реализовать архивацию отклоненных заказов</li>
<li>Интегрировать с системой логирования</li>
<li>Настроить валидацию обязательного указания причины</li>
</ul>
<h3 id="task-us41">US4.1: Формирование отчета по сроку годности</h3>
<h4 id="task-definition-of-ready-dor-_3">Definition of Ready (DoR) - Критерии готовности к началу работы:</h4>
<ul>
<li>Завершены US1.1, US1.2, US1.3 (справочники номенклатуры и зон)</li>
<li>Завершены US2.1, US2.2, US2.3 (учет остатков)</li>
<li>Готовы API endpoints для формирования отчетов</li>
<li>Определены параметры отчета (зоны, статусы, форматы)</li>
<li>Утвержден дизайн отчета с цветовой индикацией</li>
</ul>
<h4 id="task-definition-of-done-dod-_3">Definition of Done (DoD) - Критерии завершенности:</h4>
<ul>
<li>Реализован интерфейс формирования отчета по срокам годности</li>
<li>Отчет включает все необходимые колонки: штрих-код, наименование, партия, срок годности, остаток, локация, статус</li>
<li>Реализована цветовая индикация статусов партий</li>
<li>Отчет формируется не более чем за 5-7 секунд</li>
<li>Поддержана фильтрация и сортировка данных</li>
</ul>
<h4 id="task-acceptance-criteria_3">Критерии приемки (Acceptance Criteria):</h4>
<ul>
<li>Оператор или технолог может сформировать отчет по срокам годности</li>
<li>Отчет отображает актуальные остатки полуфабрикатов с детализацией по партиям</li>
<li>Цветовая индикация: красный - просроченные, желтый - истекают сегодня, оранжевый - истекают завтра</li>
<li>Отчет автоматически сортируется по сроку годности (самые проблемные вверху)</li>
<li>Данные в отчете соответствуют данным на момент формирования (консистентность)</li>
</ul>
<h4 id="task-_18">Задачи:</h4>
<ul>
<li>Разработать UI формирования отчетов</li>
<li>Реализовать генератор отчетов с фильтрацией</li>
<li>Добавить цветовую индикацию статусов</li>
<li>Оптимизировать производительность формирования отчета</li>
<li>Реализовать сортировку по сроку годности</li>
</ul>
<hr />
<h3 id="task-us42">US4.2: Цветовая индикация в отчете</h3>
<h4 id="task-definition-of-ready-dor_7">Definition of Ready (DoR):</h4>
<ul>
<li>US4.1 завершена и протестирована</li>
<li>Утверждена цветовая схема индикации статусов</li>
<li>Определены правила определения статусов партий</li>
<li>Готовы алгоритмы расчета цветов для разных статусов</li>
</ul>
<h4 id="task-definition-of-done-dod_7">Definition of Done (DoD):</h4>
<ul>
<li>Реализована цветовая подсветка строк в отчете</li>
<li>Цвета соответствуют утвержденной схеме: красный/желтый/оранжевый/зеленый</li>
<li>Индикация работает корректно при фильтрации и сортировке</li>
<li>Цвета понятны и различимы для пользователей</li>
</ul>
<h4 id="task-_19">Критерии приемки:</h4>
<ul>
<li>Просроченные партии подсвечиваются красным цветом</li>
<li>Партии, истекающие сегодня, подсвечиваются желтым цветом</li>
<li>Партии, истекающие завтра, подсвечиваются оранжевым цветом</li>
<li>Партии с нормальным сроком годности отображаются белым/зеленым цветом</li>
<li>Заблокированные партии отображаются серым цветом</li>
<li>Цветовая индикация помогает быстро идентифицировать проблемные партии</li>
</ul>
<h4 id="task-_20">Задачи:</h4>
<ul>
<li>Реализовать алгоритм определения цветов статусов</li>
<li>Настроить CSS стили для цветовой индикации</li>
<li>Протестировать отображение на разных устройствах</li>
<li>Интегрировать с механизмом формирования отчетов</li>
<li>Проверить доступность цветов для пользователей с нарушением цветовосприятия</li>
</ul>
<hr />
<h3 id="task-us43">US4.3: Сканирование и подтверждение утилизации по отчету</h3>
<h4 id="task-definition-of-ready-dor_8">Definition of Ready (DoR):</h4>
<ul>
<li>US4.1, US4.2 завершены и протестированы</li>
<li>Готовы API endpoints для подтверждения утилизации</li>
<li>Интегрирован сканер штрих-кодов в мобильное приложение</li>
<li>Определен процесс подтверждения утилизации</li>
</ul>
<h4 id="task-definition-of-done-dod_8">Definition of Done (DoD):</h4>
<ul>
<li>Реализована функция сканирования партий из отчета в мобильном приложении</li>
<li>Система проверяет, что сканируемая партия есть в отчете "к утилизации"</li>
<li>Реализовано подтверждение утилизации с списанием остатков</li>
<li>Поддержан ручной ввод при повреждении штрих-кода</li>
<li>Ведутся логи всех операций утилизации</li>
</ul>
<h4 id="task-_21">Критерии приемки:</h4>
<ul>
<li>Оператор может сканировать штрих-код партии из отчета в мобильном приложении</li>
<li>Система подтверждает, что партия находится в отчете "к утилизации"</li>
<li>При сканировании партии, которой нет в отчете, система показывает предупреждение</li>
<li>После подтверждения утилизации остатки партии списываются до нуля</li>
<li>Статус партии изменяется на "Утилизирована"</li>
</ul>
<h4 id="task-_22">Задачи:</h4>
<ul>
<li>Интегрировать сканирование с мобильным приложением</li>
<li>Реализовать проверку партий в отчете</li>
<li>Разработать процесс подтверждения утилизации</li>
<li>Реализовать списание остатков при утилизации</li>
<li>Добавить логирование операций утилизации</li>
</ul>
<hr />
<h3 id="task-us44">US4.4: Формирование отчета по пополнению</h3>
<h4 id="task-definition-of-ready-dor_9">Definition of Ready (DoR):</h4>
<ul>
<li>Завершены US4.1, US4.2 (формирование отчетов)</li>
<li>Определены критерии для отчета по пополнению</li>
<li>Утвержден формат и содержание отчета</li>
<li>Готовы API endpoints для отчетов по пополнению</li>
</ul>
<h4 id="task-definition-of-done-dod_9">Definition of Done (DoD):</h4>
<ul>
<li>Реализован отчет, показывающий полуфабрикаты, нуждающиеся в пополнении</li>
<li>Отчет включает текущие остатки и рекомендуемое количество для пополнения</li>
<li>Данные актуальны на момент формирования отчета</li>
<li>Отчет доступен в веб-интерфейсе для оператора</li>
</ul>
<h4 id="task-_23">Критерии приемки:</h4>
<ul>
<li>Оператор может сформировать отчет, показывающий какие полуфабрикаты нуждаются в пополнении</li>
<li>Отчет отображает текущие остатки на складе и на линии</li>
<li>Показываются полуфабрикаты с остатком ниже минимального порога</li>
<li>Отчет помогает оператору принять решение о необходимости пополнения</li>
<li>Данные в отчете обновляются в реальном времени</li>
</ul>
<h4 id="task-_24">Задачи:</h4>
<ul>
<li>Разработать алгоритм определения потребности в пополнении</li>
<li>Создать генератор отчета по пополнению</li>
<li>Интегрировать с данными остатков со склада и линии</li>
<li>Реализовать веб-интерфейс отчета</li>
<li>Настроить автоматическое обновление данных</li>
</ul>
<hr />
<h3 id="task-us45-fefo">US4.5: Отчет с сортировкой по FEFO</h3>
<h4 id="task-definition-of-ready-dor_10">Definition of Ready (DoR):</h4>
<ul>
<li>US4.4 завершена и протестирована</li>
<li>Определен алгоритм сортировки по принципу FEFO</li>
<li>Утвержден формат отчета с FEFO сортировкой</li>
<li>Готовы API endpoints для FEFO выборки</li>
</ul>
<h4 id="task-definition-of-done-dod_10">Definition of Done (DoD):</h4>
<ul>
<li>Реализован отчет с сортировкой партий по сроку годности (FEFO)</li>
<li>В отчете партии отсортированы от самых старых к самым новым</li>
<li>Отчет помогает выбрать правильную партию для пополнения линии</li>
<li>Данные актуальны и соответствуют фактическим остаткам</li>
</ul>
<h4 id="task-_25">Критерии приемки:</h4>
<ul>
<li>Оператор может сформировать отчет, отсортированный по сроку годности (FEFO)</li>
<li>В отчете партии отсортированы от самых близких к истечению срока к самым дальним</li>
<li>Отчет помогает выбрать партию с самым близким сроком годности для пополнения линии</li>
<li>При пополнении оператор использует данные из этого отчета для выбора партии</li>
<li>Сортировка корректно работает для всех типов полуфабрикатов</li>
</ul>
<h4 id="task-_26">Задачи:</h4>
<ul>
<li>Реализовать алгоритм FEFO сортировки</li>
<li>Интегрировать FEFO сортировку в генератор отчетов</li>
<li>Протестировать корректность сортировки</li>
<li>Обновить UI отчетов с поддержкой FEFO</li>
<li>Документировать процесс использования FEFO отчета</li>
</ul>
<hr />
<h3 id="task-us46">US4.6: Ручная фиксация перемещения на линию</h3>
<h4 id="task-definition-of-ready-dor_11">Definition of Ready (DoR):</h4>
<ul>
<li>US4.5 завершена и протестирована</li>
<li>Готовы API endpoints для фиксации перемещений</li>
<li>Интегрирован сканер штрих-кодов в мобильное приложение</li>
<li>Определен процесс ручной фиксации перемещений</li>
</ul>
<h4 id="task-definition-of-done-dod_11">Definition of Done (DoD):</h4>
<ul>
<li>Реализована функция ручной фиксации перемещения в мобильном приложении</li>
<li>Поддержано сканирование штрих-кода партии и зоны оперативного запаса</li>
<li>Реализовано списание со склада и пополнение линии при подтверждении</li>
<li>Валидация вводимых количеств и проверка доступности партии</li>
<li>Ведутся логи всех операций перемещения</li>
</ul>
<h4 id="task-_27">Критерии приемки:</h4>
<ul>
<li>Оператор может вручную зафиксировать перемещение полуфабриката со склада на линию</li>
<li>При фиксации указывается количество и сканируется штрих-код партии</li>
<li>Система проверяет, что указанное количество доступно в партии</li>
<li>После подтверждения остатки автоматически обновляются на складе и на линии</li>
<li>Процесс фиксации перемещения занимает не более 15-20 секунд</li>
</ul>
<h4 id="task-_28">Задачи:</h4>
<ul>
<li>Разработать UI для фиксации перемещений в мобильном приложении</li>
<li>Реализовать сканирование партий и зон</li>
<li>Интегрировать с системой учета остатков</li>
<li>Реализовать валидацию доступности количеств</li>
<li>Добавить логирование операций перемещения</li>
</ul>
<h3 id="task-us51-">US5.1: Мобильное приложение с оффлайн-режимом для инвентаризации и утилизации</h3>
<h4 id="task-definition-of-ready-dor-_4">Definition of Ready (DoR) - Критерии готовности к началу работы:</h4>
<ul>
<li>Завершены US2.1, US2.2, US2.3 (процессы инвентаризации)</li>
<li>Завершены US4.1, US4.2, US4.3 (процессы утилизации)</li>
<li>Определена архитектура оффлайн-синхронизации</li>
<li>Утвержден дизайн мобильного интерфейса для оффлайн-работы</li>
<li>Готовы API endpoints для оффлайн-синхронизации</li>
</ul>
<h4 id="task-definition-of-done-dod-_4">Definition of Done (DoD) - Критерии завершенности:</h4>
<ul>
<li>Реализовано полное кэширование данных партий на мобильном устройстве</li>
<li>Поддержана работа всех функций инвентаризации и утилизации без сети</li>
<li>Реализована автоматическая синхронизация при появлении сети</li>
<li>Обработаны сценарии конфликтующих изменений при синхронизации</li>
<li>Приложение стабильно работает в условиях плохого покрытия сети</li>
</ul>
<h4 id="task-acceptance-criteria_4">Критерии приемки (Acceptance Criteria):</h4>
<ul>
<li>Оператор может проводить инвентаризацию в зонах с полным отсутствием сети</li>
<li>Все данные о партиях кэшируются на устройстве перед началом инвентаризации</li>
<li>Сканирование штрих-кодов и ввод количеств работают оффлайн</li>
<li>При появлении сети данные автоматически синхронизируются с сервером</li>
<li>При конфликтах данных оператор может выбрать приоритет (оффлайн/система)</li>
</ul>
<h4 id="task-_29">Задачи:</h4>
<ul>
<li>Разработать архитектуру оффлайн-кэширования</li>
<li>Реализовать локальную базу данных на мобильном устройстве</li>
<li>Настроить механизм синхронизации при восстановлении связи</li>
<li>Реализовать разрешение конфликтов данных</li>
<li>Протестировать работу в условиях нестабильной сети</li>
</ul>
<hr />
<h3 id="task-us52-">US5.2: Веб-интерфейс для работы с отчетами, справочниками и заказами</h3>
<h4 id="task-definition-of-ready-dor_12">Definition of Ready (DoR):</h4>
<ul>
<li>Завершены US1.1, US1.2, US1.3 (справочники)</li>
<li>Завершены US3.1, US3.2, US3.3, US3.4 (заказы)</li>
<li>Завершены US4.1, US4.2, US4.3, US4.4, US4.5, US4.6 (отчеты)</li>
<li>Утвержден дизайн веб-интерфейса для технолога</li>
<li>Определены требования к производительности веб-интерфейса</li>
</ul>
<h4 id="task-definition-of-done-dod_12">Definition of Done (DoD):</h4>
<ul>
<li>Реализован веб-интерфейс для управления справочниками номенклатуры и зон</li>
<li>Поддержаны все функции работы с отчетами (формирование, просмотр, фильтрация)</li>
<li>Реализован интерфейс управления заказами (просмотр, корректировка, утверждение)</li>
<li>Интерфейс оптимизирован для работы на больших экранах</li>
<li>Производительность интерфейса соответствует требованиям (загрузка &lt; 5 сек)</li>
</ul>
<h4 id="task-_30">Критерии приемки:</h4>
<ul>
<li>Технолог может управлять справочниками номенклатуры и зон через веб-интерфейс</li>
<li>Доступны все типы отчетов: по срокам годности, пополнению, инвентаризации</li>
<li>Технолог может просматривать, корректировать и утверждать заказы в веб-интерфейсе</li>
<li>Интерфейс удобен для анализа данных на большом экране</li>
<li>Все операции выполняются без задержек, интерфейс отзывчив</li>
</ul>
<h4 id="task-_31">Задачи:</h4>
<ul>
<li>Разработать веб-интерфейс для технолога</li>
<li>Реализовать модуль управления справочниками</li>
<li>Интегрировать генераторы отчетов</li>
<li>Реализовать интерфейс управления заказами</li>
<li>Оптимизировать производительность веб-приложения</li>
</ul>
<hr />
<h3 id="task-us53">US5.3: Простые отчеты на мобильном устройстве с минимальными действиями</h3>
<h4 id="task-definition-of-ready-dor_13">Definition of Ready (DoR):</h4>
<ul>
<li>Завершены US4.1, US4.2, US4.4, US4.5 (отчеты)</li>
<li>Утвержден дизайн упрощенного мобильного интерфейса отчетов</li>
<li>Определены ключевые метрики и данные для мобильных отчетов</li>
<li>Готовы API endpoints для мобильных отчетов</li>
</ul>
<h4 id="task-definition-of-done-dod_13">Definition of Done (DoD):</h4>
<ul>
<li>Реализованы упрощенные версии отчетов для мобильного приложения</li>
<li>Интерфейс использует крупный шрифт и минимальное количество элементов</li>
<li>Навигация оптимизирована для быстрого доступа к ключевым данным</li>
<li>Отчеты загружаются быстро даже при медленном соединении</li>
<li>Интерфейс интуитивно понятен для оператора в условиях цеха</li>
</ul>
<h4 id="task-_32">Критерии приемки:</h4>
<ul>
<li>Все отчеты на мобильном устройстве имеют простой и понятный интерфейс</li>
<li>Используется крупный шрифт, удобный для чтения в условиях цеха</li>
<li>Для достижения цели требуется минимальное количество действий (тапов)</li>
<li>Оператор может быстро найти нужную информацию без сложной навигации</li>
<li>Интерфейс оптимизирован для работы в условиях производственного цеха</li>
</ul>
<h4 id="task-_33">Задачи:</h4>
<ul>
<li>Разработать упрощенный дизайн мобильных отчетов</li>
<li>Реализовать адаптивные версии отчетов для мобильных устройств</li>
<li>Оптимизировать навигацию и уменьшить количество действий</li>
<li>Настроить крупные шрифты и контрастные элементы</li>
<li>Протестировать удобство использования в условиях цеха</li>
</ul>
<hr />
<h2 id="task-_34">Постановки на разработку функционала, реализуемого в рамках первого релиза</h2>
<h3 id="task-us61">US6.1: Автоматическое сканирование и блокировка партий</h3>
<h4 id="task-definition-of-ready-dor-_5">Definition of Ready (DoR) - Критерии готовности к началу работы:</h4>
<ul>
<li>Завершены US1.1, US1.2 (справочники номенклатуры со сроками хранения)</li>
<li>Завершены US4.1, US4.2 (отчеты по срокам годности)</li>
<li>Определены алгоритмы сканирования и критерии блокировки</li>
<li>Настроено расписание автоматического сканирования (каждые N минут)</li>
<li>Готовы API endpoints для блокировки партий и создания заданий</li>
</ul>
<h4 id="task-definition-of-done-dod-_5">Definition of Done (DoD) - Критерии завершенности:</h4>
<ul>
<li>Реализован сервис автоматического сканирования сроков годности</li>
<li>Система блокирует партии с истекшим сроком и скоро истекающие (за X часов)</li>
<li>Сканирование выполняется по расписанию без ручного вмешательства</li>
<li>Заблокированные партии исключаются из использования в производстве</li>
<li>Ведутся логи всех операций блокировки</li>
</ul>
<h4 id="task-acceptance-criteria_5">Критерии приемки (Acceptance Criteria):</h4>
<ul>
<li>Система автоматически сканирует все партии каждые N минут</li>
<li>Партии блокируются при истечении срока годности</li>
<li>Партии блокируются за X часов до истечения срока (настраиваемый параметр)</li>
<li>Блокировка предотвращает использование партии в любых операциях</li>
<li>Исключен человеческий фактор в контроле сроков годности</li>
</ul>
<h4 id="task-_35">Задачи:</h4>
<ul>
<li>Реализовать сервис сканирования сроков годности</li>
<li>Настроить scheduled job для автоматического сканирования</li>
<li>Разработать алгоритмы блокировки по критериям</li>
<li>Интегрировать с системой управления остатками</li>
<li>Реализовать логирование операций блокировки</li>
</ul>
<hr />
<h3 id="task-us62">US6.2: Автоматическое создание заданий на утилизацию</h3>
<h4 id="task-definition-of-ready-dor_14">Definition of Ready (DoR):</h4>
<ul>
<li>US6.1 завершена и протестирована</li>
<li>Завершены US4.3 (процесс утилизации)</li>
<li>Определены правила создания заданий на утилизацию</li>
<li>Готовы API endpoints для создания заданий операторам</li>
<li>Интегрирована система уведомлений операторов</li>
</ul>
<h4 id="task-definition-of-done-dod_14">Definition of Done (DoD):</h4>
<ul>
<li>Реализовано автоматическое создание заданий при блокировке партий</li>
<li>Задания отправляются на терминал оператора через систему уведомлений</li>
<li>В задании указаны точные данные: штрих-код, локация, причина</li>
<li>Поддержаны приоритеты заданий (просроченные &gt; истекающие сегодня)</li>
<li>Система отслеживает выполнение заданий</li>
</ul>
<h4 id="task-_36">Критерии приемки:</h4>
<ul>
<li>При блокировке партии система автоматически создает задание на утилизацию</li>
<li>Задание отправляется на мобильное устройство оператора</li>
<li>В задании четко указаны: штрих-код партии, локация, причина утилизации</li>
<li>Оператор не ищет данные в отчете, а получает готовое задание</li>
<li>Задания на утилизацию просроченных партий имеют высший приоритет</li>
</ul>
<h4 id="task-_37">Задачи:</h4>
<ul>
<li>Реализовать генератор заданий на утилизацию</li>
<li>Интегрировать с системой push-уведомлений</li>
<li>Настроить приоритеты заданий</li>
<li>Разработать шаблоны заданий с необходимой информацией</li>
<li>Реализовать отслеживание статусов заданий</li>
</ul>
<hr />
<h3 id="task-us63-">US6.3: Четкие задания на утилизацию со штрих-кодом и локацией</h3>
<h4 id="task-definition-of-ready-dor_15">Definition of Ready (DoR):</h4>
<ul>
<li>US6.2 завершена и протестирована</li>
<li>Утвержден формат задания с полной информацией для оператора</li>
<li>Определены обязательные атрибуты задания</li>
<li>Готовы API endpoints для передачи детализированных заданий</li>
</ul>
<h4 id="task-definition-of-done-dod_15">Definition of Done (DoD):</h4>
<ul>
<li>Задания содержат всю необходимую информацию для быстрого выполнения</li>
<li>Реализована передача штрих-кода партии в задании</li>
<li>Указана точная локация партии на складе или линии</li>
<li>Включена причина утилизации и приоритет выполнения</li>
<li>Интерфейс задания оптимизирован для быстрого выполнения</li>
</ul>
<h4 id="task-_38">Критерии приемки:</h4>
<ul>
<li>Оператор получает четкие задания на утилизацию со штрих-кодом и локацией</li>
<li>Не требуется поиск данных в отчетах - вся информация в задании</li>
<li>Задание содержит: штрих-код партии, точное местонахождение, причину утилизации</li>
<li>Оператор может выполнить работу быстрее и без ошибок</li>
<li>Интерфейс задания прост и интуитивно понятен</li>
</ul>
<h4 id="task-_39">Задачи:</h4>
<ul>
<li>Разработать детализированный формат заданий</li>
<li>Реализовать передачу штрих-кодов и локаций в заданиях</li>
<li>Оптимизировать UI мобильного приложения для отображения заданий</li>
<li>Протестировать скорость выполнения заданий</li>
<li>Собрать метрики эффективности автоматизированного процесса</li>
</ul>
<hr />
<h3 id="task-us71">US7.1: Запрос разрешения на использование полуфабриката</h3>
<h4 id="task-definition-of-ready-dor-_6">Definition of Ready (DoR) - Критерии готовности к началу работы:</h4>
<ul>
<li>Завершены US6.1, US6.2, US6.3 (автоматический контроль сроков)</li>
<li>Интегрированы роботизированные линии через API</li>
<li>Определен протокол взаимодействия с роботами (gRPC/WebSocket)</li>
<li>Утвержден формат запроса разрешения от робота</li>
<li>Готовы высокопроизводительные endpoints для проверки разрешений</li>
</ul>
<h4 id="task-definition-of-done-dod-_6">Definition of Done (DoD) - Критерии завершенности:</h4>
<ul>
<li>Реализован endpoint для запросов разрешения от роботов</li>
<li>Система проверяет статус и срок годности партии в оперативном запасе</li>
<li>Ответ предоставляется в формате, понятном роботизированной системе</li>
<li>Интеграция стабильно работает в production-среде</li>
<li>Обеспечена отказоустойчивость при недоступности системы</li>
</ul>
<h4 id="task-acceptance-criteria_6">Критерии приемки (Acceptance Criteria):</h4>
<ul>
<li>Роботизированная линия запрашивает разрешение на использование полуфабриката из оперативного запаса</li>
<li>Запрос содержит: ID линии, ID контейнера, ID полуфабриката, количество</li>
<li>Система проверяет возможность использования (статус, срок годности)</li>
<li>Робот получает четкий ответ: разрешено/запрещено с причиной</li>
<li>Робот уверен в безопасности используемого полуфабриката</li>
</ul>
<h4 id="task-_40">Задачи:</h4>
<ul>
<li>Разработать API для запросов разрешений от роботов</li>
<li>Реализовать высокопроизводительную проверку статусов партий</li>
<li>Интегрировать с системой контроля сроков годности</li>
<li>Настроить протоколы связи (gRPC/WebSocket + REST fallback)</li>
<li>Реализовать механизмы отказоустойчивости</li>
</ul>
<hr />
<h3 id="task-us72">US7.2: Реальное время ответа на запрос робота</h3>
<h4 id="task-definition-of-ready-dor_16">Definition of Ready (DoR):</h4>
<ul>
<li>US7.1 завершена и протестирована</li>
<li>Определены требования к производительности (&lt; 100 мс)</li>
<li>Настроено высокопроизводительное кэширование (Redis)</li>
<li>Проведено нагрузочное тестирование инфраструктуры</li>
<li>Готовы мониторинги времени ответа</li>
</ul>
<h4 id="task-definition-of-done-dod_16">Definition of Done (DoD):</h4>
<ul>
<li>Время ответа на запрос разрешения не превышает 100 мс (95-й процентиль)</li>
<li>Система использует кэш для быстрого доступа к данным о блокировках</li>
<li>Реализована изоляция от медленных сервисов при проверке</li>
<li>Мониторинг времени ответа работает в реальном времени</li>
<li>Система масштабируется под пиковые нагрузки</li>
</ul>
<h4 id="task-_41">Критерии приемки:</h4>
<ul>
<li>Система отвечает роботу на запрос в режиме реального времени (&lt; 100 мс)</li>
<li>Время ответа гарантировано даже в часы пиковой нагрузки</li>
<li>Отсутствие задержек в производственном процессе</li>
<li>Робот не простаивает из-за ожидания ответа от системы</li>
<li>Производительность системы соответствует требованиям роботизированной линии</li>
</ul>
<h4 id="task-_42">Задачи:</h4>
<ul>
<li>Оптимизировать производительность проверки разрешений</li>
<li>Настроить Redis кэш для быстрого доступа к данным</li>
<li>Реализовать circuit breaker для изоляции от медленных сервисов</li>
<li>Настроить мониторинг и алертинг по времени ответа</li>
<li>Провести нагрузочное тестирование</li>
</ul>
<hr />
<h3 id="task-us73">US7.3: Автоматическое уведомление о блокировке партии</h3>
<h4 id="task-definition-of-ready-dor_17">Definition of Ready (DoR):</h4>
<ul>
<li>US7.1, US7.2 завершены и протестированы</li>
<li>US6.1 завершена (автоматическая блокировка партий)</li>
<li>Определен механизм уведомления роботов о блокировках</li>
<li>Готовы API для push-уведомлений роботам</li>
<li>Утверждены сценарии реакции робота на блокировку</li>
</ul>
<h4 id="task-definition-of-done-dod_17">Definition of Done (DoD):</h4>
<ul>
<li>Реализована система мгновенных уведомлений роботов о блокировках</li>
<li>Робот немедленно прекращает использование заблокированной партии</li>
<li>Система уведомляет оператора о остановке линии</li>
<li>Обеспечена надежная доставка уведомлений даже при временной недоступности</li>
<li>Отработаны сценарии восстановления после блокировки</li>
</ul>
<h4 id="task-_43">Критерии приемки:</h4>
<ul>
<li>Система автоматически сообщает роботу о блокировке партии в оперативном запасе</li>
<li>Робот немедленно прекращает использование заблокированной партии</li>
<li>При остановке робот уведомляет оператора о причине</li>
<li>Предотвращено использование просроченных полуфабрикатов в производстве</li>
<li>Обеспечена безопасность пищевых продуктов</li>
</ul>
<h4 id="task-_44">Задачи:</h4>
<ul>
<li>Реализовать систему push-уведомлений для роботов</li>
<li>Разработать протокол экстренных уведомлений о блокировках</li>
<li>Интегрировать с системой автоматической блокировки партий</li>
<li>Реализовать сценарии реакции робота на блокировки</li>
<li>Настроить уведомления оператора об остановках линии</li>
</ul>
<hr />
<h3 id="task-us81">US8.1: Отслеживание остатков в оперативном запасе в реальном времени</h3>
<h4 id="task-definition-of-ready-dor_18">Definition of Ready (DoR):</h4>
<ul>
<li>Завершены US7.1, US7.2, US7.3 (интеграция с роботами)</li>
<li>Определен механизм получения данных о списаниях от роботов</li>
<li>Утверждены пороги пополнения для каждого полуфабриката</li>
<li>Готовы API для мониторинга остатков</li>
</ul>
<h4 id="task-definition-of-done-dod_18">Definition of Done (DoD):</h4>
<ul>
<li>Реализован мониторинг остатков в оперативном запасе в реальном времени</li>
<li>Система получает уведомления о каждом списании от роботов</li>
<li>Рассчитывается точка пополнения с учетом скорости расхода</li>
<li>Данные об остатках актуальны в любой момент времени</li>
</ul>
<h4 id="task-_45">Критерии приемки:</h4>
<ul>
<li>Система отслеживает остатки в оперативном запасе каждой линии в реальном времени</li>
<li>На основе получаемых сообщений о списаниях от роботов</li>
<li>Определяется момент необходимости пополнения (точка пополнения &gt; 0)</li>
<li>Расчет точки пополнения учитывает скорость расхода и время выполнения задания</li>
</ul>
<h4 id="task-_46">Задачи:</h4>
<ul>
<li>Реализовать получение данных о списаниях от роботов</li>
<li>Настроить расчет точки пополнения</li>
<li>Разработать мониторинг остатков в реальном времени</li>
</ul>
<hr />
<h3 id="task-us82">US8.2: Автоматическое формирование задания на пополнение</h3>
<h4 id="task-definition-of-ready-dor_19">Definition of Ready (DoR):</h4>
<ul>
<li>US8.1 завершена и протестирована</li>
<li>Завершены US4.5 (FEFO отчеты)</li>
<li>Определен алгоритм выбора партии по FEFO</li>
<li>Готовы API для создания заданий операторам</li>
</ul>
<h4 id="task-definition-of-done-dod_19">Definition of Done (DoD):</h4>
<ul>
<li>Реализовано автоматическое создание заданий при достижении точки пополнения</li>
<li>Система выбирает партию по FEFO для пополнения</li>
<li>В задании указывается точное количество для перемещения</li>
<li>Задание имеет высокий приоритет</li>
</ul>
<h4 id="task-_47">Критерии приемки:</h4>
<ul>
<li>Система автоматически формирует задание для оператора на пополнение конкретной линии</li>
<li>В задании указывается точная партия со склада по FEFO и необходимое количество</li>
<li>Исключен ручной выбор партии и ошибки оператора</li>
<li>Количество равно ёмкости контейнера на линии</li>
</ul>
<h4 id="task-_48">Задачи:</h4>
<ul>
<li>Реализовать генератор заданий на пополнение</li>
<li>Интегрировать с FEFO алгоритмом выбора партий</li>
<li>Настроить расчет количества для пополнения</li>
</ul>
<hr />
<h3 id="task-us83">US8.3: Упрощенный процесс пополнения через сканирование</h3>
<h4 id="task-definition-of-ready-dor_20">Definition of Ready (DoR):</h4>
<ul>
<li>US8.2 завершена и протестирована</li>
<li>Интегрированы сканеры штрих-кодов</li>
<li>Определен процесс подтверждения перемещения</li>
</ul>
<h4 id="task-definition-of-done-dod_20">Definition of Done (DoD):</h4>
<ul>
<li>Реализован упрощенный интерфейс пополнения в мобильном приложении</li>
<li>Поддержано сканирование штрих-кодов партии и зоны линии</li>
<li>Перемещение фиксируется автоматически после сканирования</li>
</ul>
<h4 id="task-_49">Критерии приемки:</h4>
<ul>
<li>Оператор получает задания на пополнение линии</li>
<li>Сканирует только штрих-коды (складской партии и зоны линии)</li>
<li>Система автоматически фиксирует перемещение</li>
<li>Процесс максимально упрощен для оператора</li>
</ul>
<h4 id="task-_50">Задачи:</h4>
<ul>
<li>Разработать упрощенный UI для пополнения</li>
<li>Интегрировать сканирование штрих-кодов</li>
<li>Реализовать автоматическую фиксацию перемещений</li>
</ul>
<hr />
<h3 id="task-us91">US9.1: Интерфейс настройки параметров автозаказа</h3>
<h4 id="task-definition-of-ready-dor_21">Definition of Ready (DoR):</h4>
<ul>
<li>Завершены US3.1, US3.2 (расчет автозаказа)</li>
<li>Определены все параметры правил (Min, Max, точка заказа)</li>
<li>Утвержден интерфейс настройки правил</li>
</ul>
<h4 id="task-definition-of-done-dod_21">Definition of Done (DoD):</h4>
<ul>
<li>Реализован веб-интерфейс для настройки параметров автозаказа</li>
<li>Технолог может самостоятельно настраивать правила без разработчиков</li>
<li>Поддержана валидация вводимых параметров</li>
</ul>
<h4 id="task-_51">Критерии приемки:</h4>
<ul>
<li>Технолог имеет интерфейс для самостоятельной настройки параметров автозаказа</li>
<li>Настраиваются: Min, Max, точка заказа, кратность для каждого полуфабриката</li>
<li>Гибкое управление запасами без участия разработчиков</li>
</ul>
<h4 id="task-_52">Задачи:</h4>
<ul>
<li>Разработать UI для настройки правил</li>
<li>Реализовать валидацию параметров</li>
<li>Интегрировать с системой расчета автозаказа</li>
</ul>
<hr />
<h3 id="task-us92">US9.2: Настройка коэффициентов сезонности</h3>
<h4 id="task-definition-of-ready-dor_22">Definition of Ready (DoR):</h4>
<ul>
<li>US9.1 завершена и протестирована</li>
<li>Определены алгоритмы учета сезонности</li>
<li>Утверждены форматы коэффициентов</li>
</ul>
<h4 id="task-definition-of-done-dod_22">Definition of Done (DoD):</h4>
<ul>
<li>Реализована настройка коэффициентов сезонности для правил автозаказа</li>
<li>Поддержаны помесячные коэффициенты</li>
<li>Коэффициенты учитываются при расчете автозаказа</li>
</ul>
<h4 id="task-_53">Критерии приемки:</h4>
<ul>
<li>Технолог может настраивать коэффициент сезонности для правил автозаказа</li>
<li>Увеличение запасов в периоды высокого спроса</li>
<li>Помесячные коэффициенты с выбором шаблона</li>
</ul>
<h4 id="task-_54">Задачи:</h4>
<ul>
<li>Добавить настройку коэффициентов сезонности в UI</li>
<li>Интегрировать сезонность в алгоритм расчета</li>
<li>Реализовать шаблоны коэффициентов</li>
</ul>
<hr />
<h3 id="task-us93">US9.3: Групповая настройка правил</h3>
<h4 id="task-definition-of-ready-dor_23">Definition of Ready (DoR):</h4>
<ul>
<li>US9.1, US9.2 завершены и протестированы</li>
<li>Определены механизмы группового применения правил</li>
<li>Утвержден интерфейс групповых операций</li>
</ul>
<h4 id="task-definition-of-done-dod_23">Definition of Done (DoD):</h4>
<ul>
<li>Реализовано применение настроек правил к группе товаров</li>
<li>Поддержана фильтрация товаров по категориям</li>
<li>Обеспечена валидация групповых изменений</li>
</ul>
<h4 id="task-_55">Критерии приемки:</h4>
<ul>
<li>Технолог может применять настройки правил к группе товаров одновременно</li>
<li>Экономия времени на конфигурации</li>
<li>Фильтр по категориям товаров</li>
</ul>
<h4 id="task-_56">Задачи:</h4>
<ul>
<li>Реализовать групповые операции с правилами</li>
<li>Разработать фильтры по категориям</li>
<li>Настроить валидацию групповых изменений</li>
</ul>
<hr />
<h3 id="task-us101">US10.1: Автоматическая отправка заказов в ЛЦ</h3>
<h4 id="task-definition-of-ready-dor_24">Definition of Ready (DoR):</h4>
<ul>
<li>Завершены US3.1-US3.4 (управление заказами)</li>
<li>Настроена интеграция с системой ЛЦ через API</li>
<li>Определен формат данных для передачи заказов</li>
</ul>
<h4 id="task-definition-of-done-dod_24">Definition of Done (DoD):</h4>
<ul>
<li>Реализована автоматическая отправка утвержденных заказов в ЛЦ</li>
<li>Используется API интеграции с логистическим центром</li>
<li>Исключен ручной ввод данных</li>
</ul>
<h4 id="task-_57">Критерии приемки:</h4>
<ul>
<li>Система автоматически отправляет утвержденные заказы в систему ЛЦ через API</li>
<li>Исключен ручной ввод и связанные с ним ошибки</li>
<li>Формат данных соответствует требованиям ЛЦ</li>
</ul>
<h4 id="task-_58">Задачи:</h4>
<ul>
<li>Реализовать интеграцию с API ЛЦ</li>
<li>Настроить форматирование данных заказов</li>
<li>Автоматизировать процесс отправки</li>
</ul>
<hr />
<h3 id="task-us102">US10.2: Обработка ответов от ЛЦ</h3>
<h4 id="task-definition-of-ready-dor_25">Definition of Ready (DoR):</h4>
<ul>
<li>US10.1 завершена и протестирована</li>
<li>Определены callback endpoints для получения статусов</li>
<li>Утверждены сценарии обработки ответов</li>
</ul>
<h4 id="task-definition-of-done-dod_25">Definition of Done (DoD):</h4>
<ul>
<li>Реализована обработка ответов от ЛЦ (подтверждение, ошибка, изменение)</li>
<li>Статус заказа автоматически обновляется в системе</li>
<li>Поддержано автоматическое применение изменений от ЛЦ</li>
</ul>
<h4 id="task-_59">Критерии приемки:</h4>
<ul>
<li>Система обрабатывает ответы от ЛЦ (подтверждение, ошибка, изменение количества)</li>
<li>Автоматическое обновление статуса заказа в системе</li>
<li>Сквозная видимость процесса</li>
<li>Автоматическое применение изменений при статусе "Изменен"</li>
</ul>
<h4 id="task-_60">Задачи:</h4>
<ul>
<li>Реализовать callback endpoints</li>
<li>Настроить обработку статусов от ЛЦ</li>
<li>Автоматизировать применение изменений</li>
</ul>
<hr />
<h3 id="task-us103">US10.3: Отслеживание статусов заказов</h3>
<h4 id="task-definition-of-ready-dor_26">Definition of Ready (DoR):</h4>
<ul>
<li>US10.2 завершена и протестирована</li>
<li>Определены статусы заказов для отображения</li>
<li>Утвержден интерфейс отслеживания статусов</li>
</ul>
<h4 id="task-definition-of-done-dod_26">Definition of Done (DoD):</h4>
<ul>
<li>Реализовано отображение статусов заказов в системе</li>
<li>Технолог видит текущий статус без обращения в ЛЦ</li>
<li>Поддержаны статусы: "Передан в ЛЦ", "Подтвержден", "В пути"</li>
</ul>
<h4 id="task-_61">Критерии приемки:</h4>
<ul>
<li>Технолог видит в системе статус заказа ("Передан в ЛЦ", "Подтвержден", "В пути")</li>
<li>Не требуется связываться с ЛЦ для выяснения обстановки</li>
<li>Актуальная информация о статусе выполнения заказа</li>
</ul>
<h4 id="task-_62">Задачи:</h4>
<ul>
<li>Реализовать отображение статусов заказов</li>
<li>Настроить обновление статусов в реальном времени</li>
<li>Разработать UI для отслеживания заказов</li>
</ul>
<hr />
<h3 id="task-us111">US11.1: Фиксация списаний по разным причинам</h3>
<h4 id="task-definition-of-ready-dor_27">Definition of Ready (DoR):</h4>
<ul>
<li>Завершены US4.3, US6.3 (процессы утилизации)</li>
<li>Определен справочник причин списания</li>
<li>Утвержден процесс фиксации списаний</li>
</ul>
<h4 id="task-definition-of-done-dod_27">Definition of Done (DoD):</h4>
<ul>
<li>Реализована фиксация списаний не только по просрочке, но и по другим причинам</li>
<li>Поддержан выбор причины из справочника</li>
<li>Унифицирован учет всех потерь</li>
</ul>
<h4 id="task-_63">Критерии приемки:</h4>
<ul>
<li>Оператор может зафиксировать списание не только по причине просрочки</li>
<li>Доступны причины: брак, бой, порча, хищение</li>
<li>Выбор из справочника причин</li>
<li>Унифицированный учет всех потерь</li>
</ul>
<h4 id="task-_64">Задачи:</h4>
<ul>
<li>Создать справочник причин списания</li>
<li>Расширить функциональность списаний</li>
<li>Унифицировать учет потерь</li>
</ul>
<hr />
<h3 id="task-us112">US11.2: Журнал аудита действий системы и пользователей</h3>
<h4 id="task-definition-of-ready-dor_28">Definition of Ready (DoR):</h4>
<ul>
<li>Определены события для аудита</li>
<li>Утвержден формат журнала аудита</li>
<li>Определены требования к хранению логов</li>
</ul>
<h4 id="task-definition-of-done-dod_28">Definition of Done (DoD):</h4>
<ul>
<li>Реализован полный и неизменяемый журнал аудита</li>
<li>Фиксируются все действия системы и пользователей</li>
<li>Журнал доступен для расследования инцидентов</li>
</ul>
<h4 id="task-_65">Критерии приемки:</h4>
<ul>
<li>Технолог видит полный и неизменяемый журнал аудита</li>
<li>Фиксируются все действия системы (блокировки, списания) и пользователей</li>
<li>Проведение расследования инцидентов</li>
<li>Полная трассируемость операций</li>
</ul>
<h4 id="task-_66">Задачи:</h4>
<ul>
<li>Реализовать систему аудита</li>
<li>Настроить логирование критических действий</li>
<li>Разработать интерфейс просмотра журнала</li>
</ul>
<hr />
<h3 id="task-us121">US12.1: Асинхронные очереди для интеграций</h3>
<h4 id="task-definition-of-ready-dor_29">Definition of Ready (DoR):</h4>
<ul>
<li>Определены интеграции для асинхронной обработки</li>
<li>Выбрана и настроена система очередей (Kafka)</li>
<li>Утверждены архитектурные решения</li>
</ul>
<h4 id="task-definition-of-done-dod_29">Definition of Done (DoD):</h4>
<ul>
<li>Все взаимодействия с внешними системами используют асинхронные очереди</li>
<li>Реализована надежность и устойчивость к сбоям</li>
<li>Поддержаны механизмы повторных попыток</li>
</ul>
<h4 id="task-_67">Критерии приемки:</h4>
<ul>
<li>Все взаимодействия с внешними системами (ЛЦ, робот) используют асинхронные очереди сообщений</li>
<li>Обеспечена надежность и устойчивость к сбоям</li>
<li>Использование Kafka для асинхронной коммуникации</li>
</ul>
<h4 id="task-_68">Задачи:</h4>
<ul>
<li>Настроить Kafka для асинхронной обработки</li>
<li>Реализовать механизмы повторных попыток</li>
<li>Интегрировать внешние системы через очереди</li>
</ul>
<hr />
<h3 id="task-us122">US12.2: Производительность критических запросов</h3>
<h4 id="task-definition-of-ready-dor_30">Definition of Ready (DoR):</h4>
<ul>
<li>Определены критические endpoints (запросы от робота)</li>
<li>Установлены целевые показатели производительности</li>
<li>Проведено базовое нагрузочное тестирование</li>
</ul>
<h4 id="task-definition-of-done-dod_30">Definition of Done (DoD):</h4>
<ul>
<li>Критические запросы (от робота) обрабатываются менее чем за 100 мс</li>
<li>Обеспечена стабильность производительности под нагрузкой</li>
<li>Реализовано кэширование для быстрого доступа</li>
</ul>
<h4 id="task-_69">Критерии приемки:</h4>
<ul>
<li>Критические запросы (от робота) обрабатываются системой менее чем за 100 мс</li>
<li>Непростаивание производства</li>
<li>Гарантированное время ответа для роботизированных линий</li>
</ul>
<h4 id="task-_70">Задачи:</h4>
<ul>
<li>Оптимизировать производительность критических endpoints</li>
<li>Реализовать кэширование данных</li>
<li>Провести нагрузочное тестирование</li>
</ul>
<hr />
<h3 id="task-us123">US12.3: Ролевая модель и разграничение прав</h3>
<h4 id="task-definition-of-ready-dor_31">Definition of Ready (DoR):</h4>
<ul>
<li>Определены роли пользователей (кассир, оператор линии, администратор, техник)</li>
<li>Утверждена матрица прав доступа</li>
<li>Определены требования к аутентификации</li>
</ul>
<h4 id="task-definition-of-done-dod_31">Definition of Done (DoD):</h4>
<ul>
<li>Реализована ролевая модель доступа (RBAC)</li>
<li>Настроено разграничение прав для разных ролей</li>
<li>Обеспечена безопасность данных</li>
</ul>
<h4 id="task-_71">Критерии приемки:</h4>
<ul>
<li>Система имеет ролевую модель и разграничение прав доступа к функциям</li>
<li>Роли: кассир, оператор линии, администратор, техник</li>
<li>Защита от несанкционированных действий</li>
<li>Обеспечение безопасности данных</li>
</ul>
<h4 id="task-_72">Задачи:</h4>
<ul>
<li>Реализовать систему ролей и прав</li>
<li>Настроить разграничение доступа</li>
<li>Интегрировать с системой аутентификации</li>
</ul></section><section class="print-page" id="task_uc" heading-number="5.2"><h1 id="task_uc-use-case">Постановки на разработку по Use Case</h1>
<h2 id="task_uc-mvp">Постановки на разработку функционала, реализуемого в рамках MVP</h2>
<h3 id="task_uc-uc1-">UC1 - Сформировать отчет по сроку годности</h3>
<h4 id="task_uc-11-api-endpoint">Задача 1.1: Разработать API endpoint для формирования отчета</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Утверждена спецификация API согласно проекту</li>
<li>Определены параметры отчета из UC1: зона хранения, группа товаров, статус срока годности, формат вывода</li>
<li>Готовы модели данных для партий из ER-диаграммы</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Endpoint возвращает данные с колонками из UC1: Штрих-код, Наименование, Партия, Срок годности, Остаток, Локация, Статус</li>
<li>Поддерживает фильтрацию по зонам хранения из справочника UC5</li>
<li>Время формирования отчета на экран не превышает 5-7 секунд (требование UC1)</li>
<li>Данные в отчете строго соответствуют данным на момент формирования</li>
</ul>
<h4 id="task_uc-12">Задача 1.2: Реализовать фронтенд интерфейс для отчета</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Утвержден дизайн интерфейса с цветовой индикацией статусов</li>
<li>Готовы компоненты для фильтрации и отображения таблицы</li>
<li>Настроена интеграция с API endpoint</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Цветовая индикация: красный - просроченные, желтый - истекает сегодня, оранжевый - истекает завтра, серый - заблокированные</li>
<li>Сортировка по умолчанию по полю "Срок годности" (по возрастанию)</li>
<li>Отчет доступен для просмотра на веб-интерфейсе</li>
<li>Интерфейс интуитивно понятен (требование USA2)</li>
</ul>
<h4 id="task_uc-13-">Задача 1.3: Реализовать бизнес-логику фильтрации и сортировки</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Определены алгоритмы фильтрации по статусам сроков годности</li>
<li>Готовы SQL-запросы для выборки данных с учетом FEFO</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Фильтрация работает по всем заданным параметрам: зона, группа товаров, статус</li>
<li>Сортировка по сроку годности корректно отображает самые проблемные партии вверху</li>
<li>Алгоритм обработки данных эффективен для 2000+ заказов в сутки</li>
</ul>
<h3 id="task_uc-uc2-mvp-">UC2-MVP - Утилизировать партию по отчету</h3>
<h4 id="task_uc-21">Задача 2.1: Разработать мобильный интерфейс для утилизации</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Утвержден UX flow для процесса утилизации в мобильном приложении</li>
<li>Готовы компоненты сканирования штрих-кодов</li>
<li>Реализована интеграция с камерой устройства</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Оператор может сканировать штрих-код партии из отчета UC1</li>
<li>Система подтверждает, что партия находится в отчете "к утилизации"</li>
<li>Процесс подтверждения утилизации занимает не более 10 секунд</li>
</ul>
<h4 id="task_uc-22-api">Задача 2.2: Реализовать API для подтверждения утилизации</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Определена структура запроса/ответа для подтверждения утилизации</li>
<li>Готовы сервисы для работы со статусами партий</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>API списывает остаток партии до нуля при подтверждении</li>
<li>Статус партии изменяется на "Утилизирована"</li>
<li>Фиксируется акт списания с причиной "Утилизация по сроку годности"</li>
<li>Остатки обновляются в реальном времени</li>
</ul>
<h4 id="task_uc-23">Задача 2.3: Реализовать валидацию и проверки</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Определены бизнес-правила для валидации операций утилизации</li>
<li>Готовы механизмы проверки соответствия партии отчету</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Система предотвращает утилизацию партий не из отчета UC1</li>
<li>При сканировании несоответствующей партии выводится предупреждение</li>
<li>Поддерживается ручной ввод ID партии при повреждении штрих-кода</li>
</ul>
<h3 id="task_uc-uc3-mvp-">UC3-MVP - Пополнить оперативный запас у робота по отчету</h3>
<h4 id="task_uc-31">Задача 3.1: Разработать интерфейс выбора партии для пополнения</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Утвержден процесс выбора партии из отчета UC1</li>
<li>Реализован доступ к отчету сроков годности из мобильного приложения</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Оператор может открыть отчет UC1 для нужного полуфабриката</li>
<li>Отчет показывает партии отсортированные по FEFO</li>
<li>Оператор может выбрать партию из верхней строки отчета</li>
</ul>
<h4 id="task_uc-32-api">Задача 3.2: Реализовать API для фиксации перемещения</h4>
<p><strong>Критерий готовности к работы:</strong></p>
<ul>
<li>Определена структура данных для операций перемещения</li>
<li>Готовы сервисы для обновления остатков</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>API списывает количество со складской партии</li>
<li>API добавляет количество к оперативному запасу линии</li>
<li>Фиксируется акт внутреннего перемещения</li>
<li>Процесс фиксации занимает не более 15-20 секунд</li>
</ul>
<h4 id="task_uc-33">Задача 3.3: Реализовать проверки при перемещении</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Определены правила валидации операций перемещения</li>
<li>Готовы механизмы проверки доступности партий</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Система проверяет, что выбранная партия доступна и не заблокирована</li>
<li>При обнаружении просроченной партии выводится предупреждение</li>
<li>Поддерживается выбор альтернативной партии при недостатке количества</li>
</ul>
<h3 id="task_uc-uc4-">UC4 - Провести инвентаризацию</h3>
<h4 id="task_uc-41-">Задача 4.1: Реализовать оффлайн-режим мобильного приложения</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Утверждена архитектура оффлайн-хранения данных</li>
<li>Реализованы механизмы кэширования данных на устройстве</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Данные всех партий ресторана кэшируются на мобильном устройстве</li>
<li>Сканирование и ввод данных работают без сетевого соединения</li>
<li>Автоматическая синхронизация при восстановлении связи</li>
</ul>
<h4 id="task_uc-42-api">Задача 4.2: Разработать API для управления инвентаризацией</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Определены endpoints для создания заданий и синхронизации данных</li>
<li>Готовы сервисы для расчета расхождений</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Система формирует задания по расписанию или по инициативе оператора</li>
<li>Автоматический расчет расхождений между фактом и системой</li>
<li>Автоматическая коррекция остатков при расхождениях ≤ 4000 ед.</li>
<li>Уведомление технолога при расхождениях &gt; 4000 ед.</li>
</ul>
<h4 id="task_uc-43">Задача 4.3: Реализовать процесс сканирования и ввода данных</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Утвержден UX для последовательного сканирования партий</li>
<li>Реализованы компоненты для работы со штрих-кодами</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Внесение данных по одной партии занимает 3-5 секунд</li>
<li>Автозаполнение данных при распознавании штрих-кода</li>
<li>Поддержка ручного ввода при поврежденных штрих-кодах</li>
<li>Фокус автоматически переходит к следующему сканированию</li>
</ul>
<h4 id="task_uc-44">Задача 4.4: Реализовать обработку конфликтов при синхронизации</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Определены алгоритмы разрешения конфликтующих изменений</li>
<li>Готовы механизмы уведомления о конфликтах</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Обнаружение конфликтующих изменений при синхронизации</li>
<li>Запрос решения оператора по приоритету данных</li>
<li>Применение выбранного оператором приоритета</li>
</ul>
<h3 id="task_uc-uc5-">UC5 - Вести справочники</h3>
<h4 id="task_uc-51-">Задача 5.1: Разработать веб-интерфейс для управления номенклатурой</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Утвержден дизайн интерфейса для CRUD операций со справочниками</li>
<li>Готовы компоненты формы создания/редактирования позиций</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Возможность создания/редактирования полуфабрикатов с атрибутами: название, ед. измерения, категория, срок хранения</li>
<li>Проверка уникальности наименования</li>
<li>Валидация вводимых данных (срок хранения - положительное число)</li>
<li>Пагинация и поиск при большом объеме данных</li>
</ul>
<h4 id="task_uc-52">Задача 5.2: Реализовать управление складскими зонами</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Определена структура иерархии складских зон</li>
<li>Готовы компоненты для древовидного отображения зон</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Создание/редактирование зон с атрибутами: название, тип, родительская зона</li>
<li>Иерархическое отображение структуры склада</li>
<li>Назначение штрих-кодов зонам для сканирования оператором</li>
</ul>
<h4 id="task_uc-53">Задача 5.3: Реализовать ролевую модель доступа</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Определены роли и права доступа согласно FR7.1-FR7.3</li>
<li>Реализована система аутентификации и авторизации</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Доступ к редактированию справочников только для технолога и администратора</li>
<li>Запрет удаления позиций с историей операций</li>
<li>Деактивация/архивация неиспользуемых позиций</li>
</ul>
<h3 id="task_uc-uc6-">UC6 - Скорректировать заказ</h3>
<h4 id="task_uc-61">Задача 6.1: Разработать интерфейс просмотра и редактирования заказов</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Утвержден дизайн интерфейса для работы с черновиками заказов</li>
<li>Готовы компоненты отображения обоснования расчетов</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Просмотр черновика заказа с обоснованием по каждой позиции</li>
<li>Возможность ручного изменения количества</li>
<li>Добавление/удаление позиций в заказе</li>
<li>Цветовая индикация измененных технологом позиций</li>
</ul>
<h4 id="task_uc-62-workflow">Задача 6.2: Реализовать workflow утверждения/отклонения заказов</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Определены статусы заказов и переходы между ними</li>
<li>Реализованы механизмы уведомлений</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Утверждение заказа с отправкой в ЛЦ</li>
<li>Отклонение заказа с указанием причины</li>
<li>Логирование всех действий технолога</li>
<li>Уведомление о появлении новых черновиков заказов</li>
</ul>
<h2 id="task_uc-_1">Постановки на разработку функционала, реализуемого в рамках первого релиза</h2>
<h3 id="task_uc-uc2-">UC2 - Утилизировать партию</h3>
<h4 id="task_uc-21_1">Задача 2.1: Реализовать систему автоматического создания заданий на утилизацию</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Утверждены критерии блокировки партий согласно UC7</li>
<li>Реализована интеграция с сервисом контроля сроков</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Автоматическое создание заданий при блокировке партий</li>
<li>Приоритеты: просроченные &gt; истекающие сегодня &gt; истекающие завтра</li>
<li>Задание содержит: локацию, штрих-код партии, причину утилизации</li>
<li>Предотвращение дублирования заданий для одной партии</li>
</ul>
<h4 id="task_uc-22-push-">Задача 2.2: Разработать механизм push-уведомлений оператору</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Настроена интеграция с FCM/APNS для мобильных уведомлений</li>
<li>Реализована очередь заданий для операторов</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Мгновенная доставка заданий на мобильные устройства операторов</li>
<li>Уведомление о новых заданиях с высоким приоритетом</li>
<li>Отображение заданий в очереди оператора</li>
</ul>
<h4 id="task_uc-23_1">Задача 2.3: Реализовать мониторинг выполнения заданий</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Определены сроки выполнения заданий (1 час)</li>
<li>Реализованы механизмы эскалации</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Автоматическое повышение приоритета просроченных заданий</li>
<li>Уведомление технолога при массовой блокировке (&gt;50% партий)</li>
<li>Повторные уведомления для заданий старше 1 часа</li>
</ul>
<h3 id="task_uc-uc3-">UC3 - Пополнить оперативный запас</h3>
<h4 id="task_uc-31_1">Задача 3.1: Реализовать мониторинг остатков на линии в реальном времени</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Настроена интеграция с роботизированной линией через API</li>
<li>Реализованы механизмы получения данных о списаниях</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Отслеживание остатков каждого полуфабриката в оперативном запасе</li>
<li>Автоматическое определение момента необходимости пополнения</li>
<li>Расчет точки пополнения на основе прогноза продаж</li>
</ul>
<h4 id="task_uc-32-fefo">Задача 3.2: Разработать алгоритм автоматического выбора партий по FEFO</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Определена логика выбора партий для пополнения</li>
<li>Реализованы сервисы для работы с виртуальными сроками годности</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Автоматический выбор партии с самым близким сроком годности</li>
<li>Указание точного количества для перемещения (емкость контейнера)</li>
<li>Исключение заблокированных партий из выбора</li>
</ul>
<h4 id="task_uc-33_1">Задача 3.3: Реализовать процесс подтверждения пополнения с пересчетом сроков</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Определен алгоритм пересчета виртуального срока годности</li>
<li>Реализована интеграция с роботом для обновления данных</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Пересчет виртуального срока годности при пополнении</li>
<li>Формула: (Y1<em>T1 + Y2</em>T2) / (Y1 + Y2)</li>
<li>Принятие более раннего срока при добавлении партии</li>
<li>Подтверждение роботу об обновлении данных о сроке годности</li>
</ul>
<h3 id="task_uc-uc7-">UC7 - Заблокировать просроченную партию</h3>
<h4 id="task_uc-71">Задача 7.1: Реализовать фоновое задание проверки сроков годности</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Определена периодичность проверки (каждые N минут)</li>
<li>Реализован планировщик задач для регулярного сканирования</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Автоматическое сканирование всех активных партий по расписанию</li>
<li>Проверка тысяч партий за десятки секунд</li>
<li>Выявление партий по критериям: просроченные, истекающие сегодня</li>
</ul>
<h4 id="task_uc-72">Задача 7.2: Разработать механизм автоматической блокировки партий</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Определены статусы партий и переходы между ними</li>
<li>Реализованы сервисы для изменения статусов</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Автоматическое изменение статуса на "Заблокирована"</li>
<li>Исключение заблокированных партий из алгоритмов пополнения и автозаказа</li>
<li>Транзакционность изменения статуса и распространения информации</li>
</ul>
<h4 id="task_uc-73">Задача 7.3: Реализовать систему уведомлений о блокировках</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Определены получатели уведомлений и каналы доставки</li>
<li>Реализованы механизмы интеграции с сервисом уведомлений</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Немедленное уведомление оператора о блокировках</li>
<li>Уведомление технолога о критических ситуациях</li>
<li>Журналирование всех действий по блокировке/разблокировке</li>
</ul>
<h3 id="task_uc-uc8-">UC8 - Рассчитать автозаказ</h3>
<h4 id="task_uc-81">Задача 8.1: Реализовать алгоритм расчета автозаказа</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Определена формула расчета: Max - Текущий остаток - Незавершенные заказы + Прогноз</li>
<li>Реализованы сервисы для сбора входных данных</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Расчет для каждой позиции с активными правилами</li>
<li>Учет текущих остатков, незавершенных заказов, прогноза продаж</li>
<li>Применение ограничений: минимальная партия, кратность, точка заказа</li>
</ul>
<h4 id="task_uc-82">Задача 8.2: Разработать интеграцию с системой прогноза продаж</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Настроена интеграция с системой продаж через REST API</li>
<li>Реализованы механизмы обработки ошибок связи</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Получение прогноза продаж на период поставки</li>
<li>Использование исторических данных при недоступности системы продаж</li>
<li>Валидация отклонений прогноза (&gt;75% от среднего)</li>
</ul>
<h4 id="task_uc-83">Задача 8.3: Реализовать формирование и валидацию черновика заказа</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Определена структура черновика заказа</li>
<li>Реализованы механизмы проверки данных</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Включение только позиций с Заказ &gt; 0</li>
<li>Проверка на дубликаты и валидность данных</li>
<li>Сохранение черновика со статусом "Рассчитан"</li>
<li>Уведомление технолога о готовности черновика</li>
</ul>
<h3 id="task_uc-uc9-">UC9 - Подтвердить списание</h3>
<h4 id="task_uc-91">Задача 9.1: Реализовать систему выбора причин списания</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Определен фиксированный перечень причин списания</li>
<li>Реализованы справочники причин и их валидация</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Выбор причины из системного перечня: просрочка, брак, бой, порча</li>
<li>Проверка соответствия причины и статуса партии</li>
<li>Дополнительное подтверждение технолога для не заблокированных партий</li>
</ul>
<h4 id="task_uc-92">Задача 9.2: Разработать механизм аудита списаний</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Определена структура акта списания с обязательными реквизитами</li>
<li>Реализовано неизменяемое хранение данных</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Фиксация акта списания: дата, время, партия, причина, количество, ответственный</li>
<li>Невозможность изменения зафиксированных актов</li>
<li>Полный журнал аудита по всем действиям системы и пользователей</li>
</ul>
<h4 id="task_uc-93">Задача 9.3: Реализовать лимиты и эскалацию списаний</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Определены лимиты списаний для разных категорий</li>
<li>Реализованы механизмы уведомления технолога</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Требование подтверждения технолога при превышении лимитов</li>
<li>Уведомление технолога через Push/email/SMS</li>
<li>Запрет списания в оффлайн-режиме для заблокированных партий</li>
</ul>
<h3 id="task_uc-uc10-">UC10 - Настроить правила автозаказа</h3>
<h4 id="task_uc-101-">Задача 10.1: Разработать веб-интерфейс для настройки правил</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Утвержден дизайн интерфейса с визуализацией параметров</li>
<li>Реализованы компоненты для работы с правилами</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Настройка Min Stock, Max Stock, Reorder Point для каждой позиции</li>
<li>Визуализация в виде графика уровня запасов</li>
<li>Валидация правил: Min &lt; Reorder Point &lt; Max</li>
</ul>
<h4 id="task_uc-102">Задача 10.2: Реализовать управление параметрами поставщика</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Определены параметры связанные с ЛЦ</li>
<li>Реализованы механизмы валидации значений</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Настройка минимальной партии заказа и кратности</li>
<li>Указание срока поставки в днях</li>
<li>Проверка: минимальная партия ≤ Max запас</li>
</ul>
<h4 id="task_uc-103">Задача 10.3: Реализовать массовую настройку и коэффициенты</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Определены алгоритмы группового применения правил</li>
<li>Реализованы механизмы работы с коэффициентами</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Применение настроек к группе товаров</li>
<li>Настройка помесячных коэффициентов сезонности</li>
<li>Включение/выключение учета прогноза продаж</li>
<li>Логирование изменений правил</li>
</ul>
<h3 id="task_uc-uc11-">UC11 - Проверить срок годности</h3>
<h4 id="task_uc-111-api">Задача 11.1: Реализовать высокопроизводительный API для робота</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Настроена интеграция по gRPC/WebSocket согласно диаграмме</li>
<li>Реализованы механизмы кэширования в Redis</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Время ответа на запрос &lt; 100 мс</li>
<li>Доступность сервиса 99.99%</li>
<li>Обработка сотен запросов в минуту</li>
</ul>
<h4 id="task_uc-112">Задача 11.2: Разработать алгоритм проверки сроков годности</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Определена логика проверки с учетом виртуальных сроков</li>
<li>Реализованы сервисы для работы с оперативным запасом</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Проверка статуса партии (заблокирована/активна)</li>
<li>Сравнение текущего времени с сроком годности</li>
<li>Проверка с запасом на период готовки блюда</li>
</ul>
<h4 id="task_uc-113">Задача 11.3: Реализовать механизмы отказоустойчивости</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Определена стратегия кэширования данных на роботе</li>
<li>Реализованы fallback-механизмы при недоступности системы</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Использование кэшированных данных при недоступности системы</li>
<li>Автоматическое обновление кэша каждые 1 час</li>
<li>Уведомление оператора при проблемах связи</li>
</ul>
<h3 id="task_uc-uc12-">UC12 - Передать заказ в ЛЦ</h3>
<h4 id="task_uc-121-api">Задача 12.1: Реализовать интеграцию с API логистического центра</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Настроено подключение к API ЛЦ согласно спецификации</li>
<li>Реализованы механизмы аутентификации и авторизации</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Формирование сообщения в формате ЛЦ</li>
<li>Передача данных: ID заказа, ресторана, дата поставки, список позиций</li>
<li>Обработка ответов: подтверждение, ошибка, изменение количества</li>
</ul>
<h4 id="task_uc-122">Задача 12.2: Разработать систему повторных попыток отправки</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Определена стратегия повторных попыток (15 раз через 1 минуту)</li>
<li>Реализована очередь сообщений в Kafka</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Автоматические повторные попытки при ошибках связи</li>
<li>Перевод заказа в статус "Ошибка отправки" после исчерпания попыток</li>
<li>Идемпотентность процесса отправки</li>
</ul>
<h4 id="task_uc-123-callback">Задача 12.3: Реализовать обработку callback от ЛЦ</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Определены endpoint для приема статусов от ЛЦ</li>
<li>Реализованы механизмы обновления статусов заказов</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Обработка статусов: подтвержден, изменен, отклонен</li>
<li>Автоматическое применение изменений от ЛЦ</li>
<li>Уведомление технолога об изменениях и отклонениях</li>
</ul>
<h3 id="task_uc-uc13-">UC13 - Сформировать задание на утилизацию</h3>
<h4 id="task_uc-131">Задача 13.1: Реализовать систему планирования заданий</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Определены критерии создания заданий согласно UC13</li>
<li>Реализован планировщик для регулярного сканирования</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Сканирование партий по расписанию</li>
<li>Выявление партий для утилизации по трем критериям</li>
<li>Создание заданий с приоритетами на основе срочности</li>
</ul>
<h4 id="task_uc-132">Задача 13.2: Разработать механизм распределения заданий операторам</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Определена логика распределения заданий между операторами</li>
<li>Реализована система очередей заданий</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Автоматическое назначение заданий операторам ресторана</li>
<li>Учет загрузки операторов при распределении</li>
<li>Балансировка нагрузки между операторами</li>
</ul>
<h4 id="task_uc-133">Задача 13.3: Реализовать мониторинг и эскалацию заданий</h4>
<p><strong>Критерий готовности к работе:</strong></p>
<ul>
<li>Определены сроки выполнения заданий (1 час)</li>
<li>Реализованы механизмы контроля выполнения</li>
</ul>
<p><strong>Критерий проверки требований:</strong></p>
<ul>
<li>Автоматическое повышение приоритета просроченных заданий</li>
<li>Уведомление о массовой блокировке (&gt;50% партий)</li>
<li>Создание новых заданий при просрочке выполнения</li>
</ul></section></section>
                    <section class='print-page md-section' id='section-6' heading-number='6'>
                        <h1>Тест-кейсы<a class='headerlink' href='#section-6' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="test_case" heading-number="6.1"><h1 id="test_case-userstory-mvp">Тест кейсы для UserStory MVP</h1>
<h2 id="test_case-us11">Тест кейсы для US1.1: Внесение и редактирование номенклатуры</h2>
<h3 id="test_case-tc-us111">TC-US1.1.1: Создание нового полуфабриката с обязательными полями</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Технолог авторизован в веб-интерфейсе</li>
<li>Раздел "Справочники" → "Номенклатура" доступен</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Нажать кнопку "Добавить" в интерфейсе номенклатуры</li>
<li>Заполнить поля: название "Котлета куриная", единица измерения "шт", категория "Мясо"</li>
<li>Нажать "Сохранить"</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Система создает новую запись в таблице products</li>
<li>Поля: name="Котлета куриная", unit_of_measure="шт", category="Мясо"</li>
<li>Новая позиция доступна для выбора в заказах и инвентаризации</li>
</ul>
<h3 id="test_case-tc-us112">TC-US1.1.2: Проверка уникальности наименования</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>В системе существует полуфабрикат "Котлета куриная"</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Попытаться создать новый полуфабрикат с названием "Котлета куриная"</li>
<li>Заполнить остальные обязательные поля</li>
<li>Нажать "Сохранить"</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Система показывает ошибку "Наименование должно быть уникальным"</li>
<li>Запись не сохраняется в базу данных</li>
</ul>
<h3 id="test_case-tc-us113">TC-US1.1.3: Редактирование существующей позиции</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Существует полуфабрикат "Котлета куриная" с единицей измерения "шт"</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Найти полуфабрикат "Котлета куриная" в списке</li>
<li>Изменить единицу измерения на "кг"</li>
<li>Сохранить изменения</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Система показывает предупреждение об изменении единицы измерения</li>
<li>После подтверждения данные обновляются в таблице products</li>
<li>Все последующие операции используют новую единицу измерения</li>
</ul>
<h2 id="test_case-us12">Тест кейсы для US1.2: Указание сроков хранения</h2>
<h3 id="test_case-tc-us121">TC-US1.2.1: Установка срока хранения для нового полуфабриката</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Создается новый полуфабрикат "Салат овощной"</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>В форме создания указать срок хранения 72 часа</li>
<li>Заполнить остальные обязательные поля</li>
<li>Сохранить полуфабрикат</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>В таблице products поле shelf_life_hours = 72</li>
<li>При создании партии expiration_date рассчитывается как production_date + 72 часа</li>
</ul>
<h3 id="test_case-tc-us122">TC-US1.2.2: Попытка установки отрицательного срока хранения</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Открыта форма создания/редактирования полуфабриката</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>В поле "Срок хранения" ввести -10</li>
<li>Попытаться сохранить данные</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Система показывает ошибку валидации</li>
<li>Сообщение "Срок хранения должен быть положительным числом"</li>
<li>Данные не сохраняются</li>
</ul>
<h3 id="test_case-tc-us123-expiration_date-shelf_life_hours">TC-US1.2.3: Проверка расчета expiration_date на основе shelf_life_hours</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Существует полуфабрикат со сроком хранения 48 часов</li>
<li>Создается новая партия с production_date = 2024-01-15 10:00:00</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Создать партию для полуфабриката</li>
<li>Указать дату производства 2024-01-15 10:00:00</li>
<li>Сохранить партию</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>В таблице batches поле expiration_date = 2024-01-17 10:00:00</li>
<li>Расчет: 2024-01-15 10:00:00 + 48 часов</li>
</ul>
<h2 id="test_case-us13">Тест кейсы для US1.3: Управление складскими зонами</h2>
<h3 id="test_case-tc-us131">TC-US1.3.1: Создание иерархии складских зон</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Технолог авторизован в системе</li>
<li>Раздел "Справочники" → "Складские зоны" доступен</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Создать зону "Склад"</li>
<li>Создать дочернюю зону "Холодильная камера" с родителем "Склад"</li>
<li>Создать зону "Стеллаж 1" с родителем "Холодильная камера"</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>В таблице storage_locations созданы записи с правильными parent_location_id</li>
<li>Иерархия отображается в веб-интерфейсе</li>
<li>Зоны доступны для выбора при инвентаризации</li>
</ul>
<h3 id="test_case-tc-us132">TC-US1.3.2: Попытка удаления зоны с остатками партий</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>В зоне "Холодильная камера" есть партии с ненулевыми остатками</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Попытаться удалить зону "Холодильная камера"</li>
<li>Подтвердить действие удаления</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Система показывает ошибку "Невозможно удалить зону с остатками партий"</li>
<li>Зона не удаляется из таблицы storage_locations</li>
<li>Предлагается вариант перемещения партий в другую зону</li>
</ul>
<h3 id="test_case-tc-us133-">TC-US1.3.3: Назначение штрих-кода зоне для сканирования</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Создается новая зона "Оперативный запас линии 1"</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>В форме создания зоны указать штрих-код "LINE1_OPSTOCK"</li>
<li>Сохранить зону</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>В таблице storage_locations поле barcode = "LINE1_OPSTOCK"</li>
<li>Оператор может сканировать этот штрих-код при инвентаризации</li>
<li>Зона идентифицируется по штрих-коду в мобильном приложении</li>
</ul>
<h2 id="test_case-us21">Тест кейсы для US2.1: Проведение инвентаризации через мобильное приложение</h2>
<h3 id="test_case-tc-us211-">TC-US2.1.1: Оффлайн-сканирование партий при инвентаризации</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Мобильное устройство не имеет сетевого соединения</li>
<li>Данные партий предварительно закэшированы</li>
<li>Оператор получил задание на инвентаризацию</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Открыть мобильное приложение без сети</li>
<li>Начать инвентаризацию зоны "Холодильная камера"</li>
<li>Сканировать штрих-код партии и ввести фактическое количество</li>
<li>Повторить для 5-10 партий</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Данные сохраняются в локальном кэше устройства</li>
<li>Время сканирования и ввода одной партии 3-5 секунд</li>
<li>После восстановления связи данные синхронизируются с сервером</li>
</ul>
<h3 id="test_case-tc-us212-">TC-US2.1.2: Ручной ввод при поврежденном штрих-коде</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Оператор проводит инвентаризацию</li>
<li>Штрих-код партии поврежден и не сканируется</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Выбрать опцию "Ручной ввод ID партии"</li>
<li>Ввести batch_id партии вручную</li>
<li>Ввести фактическое количество</li>
<li>Продолжить инвентаризацию</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Система находит партию по введенному batch_id</li>
<li>Данные сохраняются в локальном кэше</li>
<li>Процесс инвентаризации не прерывается</li>
</ul>
<h3 id="test_case-tc-us213">TC-US2.1.3: Автоматическое переключение на следующее сканирование</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Оператор сканирует партии последовательно</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Сканировать штрих-код первой партии</li>
<li>Ввести фактическое количество</li>
<li>Проверить поведение интерфейса</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>После ввода количества фокус автоматически переходит на поле сканирования</li>
<li>Оператор может сразу сканировать следующую партию</li>
<li>Интерфейс оптимизирован для быстрого последовательного ввода</li>
</ul>
<h2 id="test_case-us22">Тест кейсы для US2.2: Автоматическая сверка данных и отчет о расхождениях</h2>
<h3 id="test_case-tc-us221">TC-US2.2.1: Автоматическая коррекция малых расхождений</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Проведена инвентаризация с расхождениями ≤ 4000 ед.</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Завершить инвентаризацию в мобильном приложении</li>
<li>Дождаться синхронизации с сервером</li>
<li>Проверить системные остатки партий</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Система автоматически корректирует остатки в таблице batches</li>
<li>Корректировка выполняется под учёткой оператора</li>
<li>Формируется акт инвентаризации с статусом "Автоматически скорректировано"</li>
</ul>
<h3 id="test_case-tc-us222">TC-US2.2.2: Уведомление технолога при больших расхождениях</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Проведена инвентаризация с расхождениями &gt; 4000 ед.</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Завершить инвентаризацию с большими расхождениями</li>
<li>Дождаться синхронизации</li>
<li>Проверить уведомления технолога</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Система блокирует позиции с большими расхождениями</li>
<li>Технолог получает уведомление в веб-интерфейсе</li>
<li>Требуется подтверждение технолога для коррекции остатков</li>
</ul>
<h3 id="test_case-tc-us223">TC-US2.2.3: Формирование отчета о расхождениях</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Завершена инвентаризация с различными расхождениями</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Открыть раздел "Отчеты" → "Инвентаризация"</li>
<li>Выбрать завершенную инвентаризацию</li>
<li>Просмотреть отчет о расхождениях</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Отчет показывает все позиции с расхождениями (излишки/недостачи)</li>
<li>Указаны: дата, время, зона, ответственный оператор</li>
<li>Цветовая индикация статусов обработки расхождений</li>
</ul>
<h2 id="test_case-us23">Тест кейсы для US2.3: Автоматическая коррекция остатков после подтверждения</h2>
<h3 id="test_case-tc-us231">TC-US2.3.1: Коррекция остатков оперативного запаса без изменения сроков</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>В оперативном запасе линии есть партия с виртуальным сроком годности</li>
<li>Инвентаризация выявила расхождение по количеству</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Подтвердить коррекцию остатков оперативного запаса</li>
<li>Проверить данные в таблице operational_stock</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Поле current_quantity обновляется согласно инвентаризации</li>
<li>Поле virtual_expiration_date не изменяется</li>
<li>Изменяется только количество, срок годности сохраняется</li>
</ul>
<h3 id="test_case-tc-us232">TC-US2.3.2: Запрет коррекции заблокированных партий</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Существует партия со статусом "Заблокирована"</li>
<li>Инвентаризация выявила расхождение по этой партии</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Попытаться подтвердить коррекцию заблокированной партии</li>
<li>Проверить реакцию системы</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Система показывает ошибку "Невозможно скорректировать заблокированную партию"</li>
<li>Остатки партии не изменяются</li>
<li>Технолог получает уведомление о необходимости разблокировки</li>
</ul>
<h3 id="test_case-tc-us233">TC-US2.3.3: Атомарность коррекции при сбоях</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Происходит коррекция остатков по нескольким партиям</li>
<li>Во время процесса возникает сбой сети</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Инициировать коррекцию остатков</li>
<li>Имитировать сбой сети во время процесса</li>
<li>Проверить целостность данных</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Система откатывает транзакцию при сбое</li>
<li>Данные остаются консистентными</li>
<li>При восстановлении связи процесс коррекции повторяется</li>
</ul>
<h2 id="test_case-us31">Тест кейсы для US3.1: Ежедневный расчет рекомендуемого заказа</h2>
<h3 id="test_case-tc-us311">TC-US3.1.1: Автоматический запуск расчета по расписанию</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Настроено расписание ежедневного расчета на 08:00</li>
<li>Существуют активные правила автозаказа</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Дождаться времени 08:00</li>
<li>Проверить выполнение scheduled job</li>
<li>Проверить наличие новых черновиков заказов</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Система автоматически запускает расчет в 08:00</li>
<li>Создается черновик заказа со статусом "Рассчитан"</li>
<li>Технолог получает уведомление о готовности черновика</li>
</ul>
<h3 id="test_case-tc-us312">TC-US3.1.2: Расчет только для позиций с активными правилами</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Существуют полуфабрикаты с активными и неактивными правилами</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Запустить расчет автозаказа</li>
<li>Проверить состав черновика заказа</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>В черновик включаются только позиции с active=true в таблице replenishment_rules</li>
<li>Позиции без активных правил исключаются из расчета</li>
<li>Количество позиций в заказе соответствует количеству активных правил</li>
</ul>
<h3 id="test_case-tc-us313">TC-US3.1.3: Учет текущих остатков и незавершенных заказов</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Полуфабрикат имеет: текущий остаток 50, точку заказа 30, максимальный запас 100</li>
<li>Существует незавершенный заказ на 20 единиц</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Запустить расчет автозаказа для этого полуфабриката</li>
<li>Проверить рекомендуемое количество</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Расчет: 100 (Max) - 50 (остаток) - 20 (незавершенные) = 30</li>
<li>Рекомендуемое количество = 30 единиц</li>
<li>Учитываются все факторы: остатки, правила, незавершенные заказы</li>
</ul>
<h2 id="test_case-us32">Тест кейсы для US3.2: Просмотр черновика заказа с обоснованием</h2>
<h3 id="test_case-tc-us321">TC-US3.2.1: Отображение детального обоснования расчета</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Сформирован черновик заказа</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Открыть черновик заказа в веб-интерфейсе</li>
<li>Просмотреть обоснование для одной из позиций</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Отображается текст: "Остаток: 5 кг, Точка заказа: 10 кг, Рекомендуется заказать: 20 кг (Max=25 кг)"</li>
<li>Видны все параметры расчета</li>
<li>Обоснование понятно без дополнительных объяснений</li>
</ul>
<h3 id="test_case-tc-us322">TC-US3.2.2: Производительность загрузки заказа с большим количеством позиций</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Черновик заказа содержит 500+ позиций</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Открыть черновик заказа в веб-интерфейсе</li>
<li>Замерить время загрузки</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Интерфейс загружается за 5-7 секунд</li>
<li>Поддерживается пагинация или бесконечный скролл</li>
<li>Пользователь может работать с интерфейсом без зависаний</li>
</ul>
<h3 id="test_case-tc-us323">TC-US3.2.3: Поиск и фильтрация позиций в заказе</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Черновик заказа содержит позиции разных категорий</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Использовать поиск по наименованию "куриная"</li>
<li>Применить фильтр по категории "Мясо"</li>
<li>Проверить результаты</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Поиск находит все позиции содержащие "куриная"</li>
<li>Фильтр показывает только позиции категории "Мясо"</li>
<li>Интерфейс остается отзывчивым при фильтрации</li>
</ul>
<h2 id="test_case-us33">Тест кейсы для US3.3: Ручная корректировка черновика заказа</h2>
<h3 id="test_case-tc-us331">TC-US3.3.1: Изменение количества в позиции заказа</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Открыт черновик заказа для редактирования</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Изменить количество с 20 на 25 для одной из позиций</li>
<li>Сохранить изменения</li>
<li>Проверить обновленные данные</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Количество обновляется в таблице order_items</li>
<li>Позиция помечается как измененная технологом</li>
<li>Изменения сохраняются в черновике заказа</li>
</ul>
<h3 id="test_case-tc-us332">TC-US3.3.2: Добавление новой позиции в заказ</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Существует полуфабрикат не включенный в автозаказ</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Нажать "Добавить позицию" в черновике заказа</li>
<li>Выбрать полуфабрикат из справочника</li>
<li>Указать количество 15</li>
<li>Сохранить изменения</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Новая запись создается в таблице order_items</li>
<li>Позиция включается в черновик заказа</li>
<li>При утверждении заказа новая позиция отправляется в ЛЦ</li>
</ul>
<h3 id="test_case-tc-us333">TC-US3.3.3: Удаление позиции из заказа</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>В черновике заказа есть позиция рекомендованная системой</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Выбрать позицию рекомендованную системой</li>
<li>Нажать "Удалить из заказа"</li>
<li>Подтвердить удаление</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Позиция удаляется из черновика заказа</li>
<li>Запись в order_items помечается как удаленная</li>
<li>При утверждении заказа эта позиция не отправляется в ЛЦ</li>
</ul>
<h2 id="test_case-us34">Тест кейсы для US3.4: Отклонение заказа с указанием причины</h2>
<h3 id="test_case-tc-us341">TC-US3.4.1: Отклонение заказа с выбором причины</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Существует черновик заказа готовый к утверждению</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Нажать кнопку "Отклонить" для черновика заказа</li>
<li>Выбрать причину "Закрыто на мойку"</li>
<li>Подтвердить отклонение</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Статус заказа изменяется на "Отклонен" в таблице purchase_orders</li>
<li>Указывается причина отклонения</li>
<li>Заказ архивируется для последующего анализа</li>
</ul>
<h3 id="test_case-tc-us342">TC-US3.4.2: Обязательное указание причины при отклонении</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Пользователь пытается отклонить заказ</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Нажать "Отклонить"</li>
<li>Не указывать причину отклонения</li>
<li>Попытаться подтвердить действие</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Система показывает ошибку "Необходимо указать причину отклонения"</li>
<li>Действие не выполняется</li>
<li>Заказ остается в статусе "Черновик"</li>
</ul>
<h3 id="test_case-tc-us343">TC-US3.4.3: Архивация отклоненного заказа</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Заказ отклонен с причиной "Закрыто на мойку"</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Перейти в архив заказов</li>
<li>Найти отклоненный заказ</li>
<li>Проверить сохраненные данные</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Отклоненный заказ доступен в архиве</li>
<li>Сохранены: дата отклонения, причина, пользователь</li>
<li>Заказ не отображается в списке активных заказов</li>
</ul>
<h2 id="test_case-us41">Тест кейсы для US4.1: Формирование отчета по сроку годности</h2>
<h3 id="test_case-tc-us411">TC-US4.1.1: Базовое формирование отчета с обязательными колонками</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>В системе есть партии с разными сроками годности</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Открыть раздел "Отчеты" → "По сроку годности"</li>
<li>Нажать "Сформировать отчет" без дополнительных параметров</li>
<li>Проверить результат</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Отчет содержит колонки: Штрих-код, Наименование, Партия, Срок годности, Остаток, Локация, Статус</li>
<li>Данные актуальны на момент формирования</li>
<li>Время формирования ≤ 7 секунд</li>
</ul>
<h3 id="test_case-tc-us412">TC-US4.1.2: Фильтрация отчета по зоне хранения</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Существуют партии в разных зонах хранения</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>В параметрах отчета выбрать зону "Холодильная камера"</li>
<li>Сформировать отчет</li>
<li>Проверить отфильтрованные данные</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>В отчете только партии с location_id соответствующей "Холодильная камера"</li>
<li>Количество записей соответствует количеству партий в указанной зоне</li>
<li>Фильтрация работает корректно</li>
</ul>
<h3 id="test_case-tc-us413">TC-US4.1.3: Консистентность данных в отчете</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Во время просмотра отчета происходят изменения остатков</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Сформировать отчет</li>
<li>Зафиксировать данные по одной партии</li>
<li>Изменить остатки этой партии через инвентаризацию</li>
<li>Обновить отчет</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Первый отчет показывает старые значения остатков</li>
<li>Второй отчет показывает новые значения остатков</li>
<li>Каждый отчет соответствует данным на момент его формирования</li>
</ul>
<h2 id="test_case-us42">Тест кейсы для US4.2: Цветовая индикация в отчете</h2>
<h3 id="test_case-tc-us421">TC-US4.2.1: Индикация просроченных партий</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>В системе есть партии с expiration_date &lt; CURRENT_DATE</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Сформировать отчет по срокам годности</li>
<li>Найти партии с истекшим сроком</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Просроченные партии подсвечиваются красным цветом</li>
<li>Цветовая индикация заметна и понятна</li>
<li>Помогает быстро идентифицировать проблемные партии</li>
</ul>
<h3 id="test_case-tc-us422">TC-US4.2.2: Индикация партий с разными статусами сроков</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>В системе есть партии с разными статусами сроков</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Сформировать отчет по срокам годности</li>
<li>Проверить цветовую индикацию всех статусов</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Истекают сегодня - желтый фон</li>
<li>Истекают завтра - оранжевый фон  </li>
<li>Заблокированные - серый фон</li>
<li>Нормальные - белый/зеленый фон</li>
<li>Все цвета различимы и соответствуют схеме</li>
</ul>
<h3 id="test_case-tc-us423">TC-US4.2.3: Сохранение индикации при фильтрации и сортировке</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Отчет с цветовой индикацией сформирован</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Применить фильтр по статусу "Просроченные"</li>
<li>Изменить сортировку по наименованию</li>
<li>Проверить цветовую индикацию</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Цветовая индикация сохраняется при всех операциях с отчетом</li>
<li>Фильтрация не нарушает цветовое кодирование</li>
<li>Сортировка не влияет на отображение цветов</li>
</ul>
<h2 id="test_case-us43">Тест кейсы для US4.3: Сканирование и подтверждение утилизации по отчету</h2>
<h3 id="test_case-tc-us431">TC-US4.3.1: Сканирование партии из отчета для утилизации</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>В отчете UC1 есть партии к утилизации</li>
<li>Оператор авторизован в мобильном приложении</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Открыть отчет в мобильном приложении</li>
<li>Выбрать партию для утилизации из отчета</li>
<li>Сканировать штрих-код партии</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Система подтверждает, что партия находится в отчете "к утилизации"</li>
<li>Отображаются данные партии: наименование, срок годности, остаток</li>
<li>Процесс занимает не более 10 секунд</li>
</ul>
<h3 id="test_case-tc-us432">TC-US4.3.2: Подтверждение утилизации и списание остатков</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Партия отсканирована и подтверждена для утилизации</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Нажать "Подтвердить утилизацию" в мобильном приложении</li>
<li>Подтвердить действие в диалоговом окне</li>
<li>Проверить остатки партии в системе</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Остаток партии устанавливается в 0 в таблице batches</li>
<li>Статус партии изменяется на "Утилизирована"</li>
<li>Фиксируется акт списания с причиной "Утилизация по сроку годности"</li>
</ul>
<h3 id="test_case-tc-us433">TC-US4.3.3: Предотвращение утилизации партии не из отчета</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Оператор пытается утилизировать партию не входящую в отчет</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Сканировать штрих-код партии, которой нет в отчете</li>
<li>Попытаться подтвердить утилизацию</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Система показывает предупреждение "Данная партия не значится в отчете к утилизации"</li>
<li>Процесс утилизации прерывается</li>
<li>Остатки партии не изменяются</li>
</ul>
<h2 id="test_case-us44">Тест кейсы для US4.4: Формирование отчета по пополнению</h2>
<h3 id="test_case-tc-us441">TC-US4.4.1: Отчет по полуфабрикатам с низкими остатками</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Существуют полуфабрикаты с остатками ниже минимального порога</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Сформировать отчет "По пополнению" в веб-интерфейсе</li>
<li>Проверить список полуфабрикатов</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>В отчете только полуфабрикаты с остатком &lt; min_stock из replenishment_rules</li>
<li>Показываются текущие остатки на складе и на линии</li>
<li>Отчет помогает определить приоритеты пополнения</li>
</ul>
<h3 id="test_case-tc-us442">TC-US4.4.2: Актуальность данных в отчете по пополнению</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Отчет по пополнению сформирован</li>
<li>Происходят изменения остатков</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Зафиксировать данные в отчете</li>
<li>Провести операцию списания или пополнения</li>
<li>Обновить отчет</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Новый отчет отражает актуальные остатки</li>
<li>Данные обновляются в реальном времени</li>
<li>Отчет всегда показывает текущую ситуацию с остатками</li>
</ul>
<h3 id="test_case-tc-us443">TC-US4.4.3: Отчет как основа для принятия решений</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Оператор просматривает отчет по пополнению</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Проанализировать данные отчета</li>
<li>Принять решение о необходимости пополнения</li>
<li>Использовать отчет для выбора партий</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Отчет предоставляет достаточную информацию для принятия решений</li>
<li>Видны полуфабрикаты, требующие немедленного внимания</li>
<li>Оператор может эффективно планировать работу по пополнению</li>
</ul>
<h2 id="test_case-us45-fefo">Тест кейсы для US4.5: Отчет с сортировкой по FEFO</h2>
<h3 id="test_case-tc-us451">TC-US4.5.1: Сортировка партий от самых старых к самым новым</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>В системе есть партии с разными датами expiration_date</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Сформировать отчет с сортировкой по FEFO</li>
<li>Проверить порядок партий в отчете</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Партии отсортированы по expiration_date ASC</li>
<li>Самые близкие сроки истечения вверху списка</li>
<li>Сортировка помогает выбрать партии для первоочередного использования</li>
</ul>
<h3 id="test_case-tc-us452-fefo">TC-US4.5.2: Использование FEFO отчета для выбора партии при пополнении</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Оператору нужно пополнить оперативный запас</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Открыть FEFO отчет для нужного полуфабриката</li>
<li>Выбрать партию из верхней строки отчета</li>
<li>Использовать эту партию для пополнения</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Выбрана партия с самым близким сроком годности</li>
<li>Соблюдается принцип FEFO (First Expired, First Out)</li>
<li>Минимизируются риски просрочки</li>
</ul>
<h3 id="test_case-tc-us453-fefo">TC-US4.5.3: Корректность FEFO сортировки для всех типов полуфабрикатов</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>В системе есть полуфабрикаты разных категорий</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Сформировать FEFO отчет для разных категорий товаров</li>
<li>Проверить корректность сортировки</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Сортировка работает корректно для всех категорий полуфабрикатов</li>
<li>Учитываются expiration_date всех партий</li>
<li>Алгоритм сортировки стабилен и предсказуем</li>
</ul>
<h2 id="test_case-us46">Тест кейсы для US4.6: Ручная фиксация перемещения на линию</h2>
<h3 id="test_case-tc-us461-">TC-US4.6.1: Фиксация перемещения через сканирование штрих-кодов</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Оператор переместил полуфабрикаты на линию</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>В мобильном приложении выбрать "Зафиксировать перемещение"</li>
<li>Сканировать штрих-код партии на складе</li>
<li>Сканировать штрих-код зоны оперативного запаса</li>
<li>Подтвердить операцию</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Количество списывается со складской партии в таблице batches</li>
<li>Количество добавляется к оперативному запасу в таблице operational_stock</li>
<li>Фиксируется акт перемещения в таблице stock_movements</li>
</ul>
<h3 id="test_case-tc-us462">TC-US4.6.2: Проверка доступности количества при перемещении</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Оператор пытается переместить больше чем доступно в партии</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Указать количество превышающее текущий остаток партии</li>
<li>Попытаться подтвердить перемещение</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Система показывает ошибку "Недостаточно количества в партии"</li>
<li>Перемещение не выполняется</li>
<li>Предлагается выбрать другую партию или уменьшить количество</li>
</ul>
<h3 id="test_case-tc-us463">TC-US4.6.3: Время выполнения операции фиксации перемещения</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Оператор начинает процесс фиксации перемещения</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Засечь время начала операции</li>
<li>Выполнить полный процесс фиксации перемещения</li>
<li>Зафиксировать время завершения</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Весь процесс занимает не более 15-20 секунд</li>
<li>Операция выполняется быстро и без задержек</li>
<li>Не нарушает рабочий процесс оператора</li>
</ul>
<h2 id="test_case-us51-">Тест кейсы для US5.1: Мобильное приложение с оффлайн-режимом</h2>
<h3 id="test_case-tc-us511-">TC-US5.1.1: Полная оффлайн-работа инвентаризации</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Мобильное устройство без сетевого соединения</li>
<li>Данные партий закэшированы</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Начать инвентаризацию в оффлайн-режиме</li>
<li>Сканировать 10-15 партий и вводить количества</li>
<li>Завершить инвентаризацию</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Все данные сохраняются в локальном кэше</li>
<li>Функциональность полная без ограничений</li>
<li>При восстановлении связи данные синхронизируются</li>
</ul>
<h3 id="test_case-tc-us512">TC-US5.1.2: Автоматическая синхронизация при появлении сети</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>В оффлайн-режиме проведена инвентаризация</li>
<li>Восстановлено сетевое соединение</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Дождаться автоматической синхронизации</li>
<li>Проверить данные на сервере</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Данные автоматически отправляются на сервер</li>
<li>Синхронизация происходит без вмешательства оператора</li>
<li>Все оффлайн-операции учитываются в системе</li>
</ul>
<h3 id="test_case-tc-us513">TC-US5.1.3: Разрешение конфликтов при синхронизации</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Во время оффлайн-работы на сервере изменились данные</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Восстановить соединение после оффлайн-работы</li>
<li>Получить уведомление о конфликтах</li>
<li>Выбрать приоритет данных</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Система обнаруживает конфликтующие изменения</li>
<li>Запрашивает решение оператора: оффлайн-данные или системные</li>
<li>Применяет выбранный приоритет</li>
</ul>
<h2 id="test_case-us52-">Тест кейсы для US5.2: Веб-интерфейс для технолога</h2>
<h3 id="test_case-tc-us521-">TC-US5.2.1: Управление справочниками через веб-интерфейс</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Технолог авторизован в веб-интерфейсе</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Открыть раздел "Справочники"</li>
<li>Создать новую номенклатурную позицию</li>
<li>Создать новую складскую зону</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Все операции со справочниками доступны в веб-интерфейсе</li>
<li>Интерфейс удобен для работы на большом экране</li>
<li>Данные сохраняются и доступны для других процессов</li>
</ul>
<h3 id="test_case-tc-us522-">TC-US5.2.2: Формирование и анализ отчетов в веб-интерфейсе</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>В системе есть данные для отчетов</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Открыть раздел "Отчеты"</li>
<li>Сформировать отчет по срокам годности</li>
<li>Сформировать отчет по инвентаризации</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Все типы отчетов доступны в веб-интерфейсе</li>
<li>Отчеты формируются быстро (&lt; 5 секунд)</li>
<li>Данные удобны для анализа на большом экране</li>
</ul>
<h3 id="test_case-tc-us523-">TC-US5.2.3: Управление заказами в веб-интерфейсе</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Существуют черновики заказов</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Открыть раздел "Заказы"</li>
<li>Просмотреть черновик заказа</li>
<li>Откорректировать количество позиций</li>
<li>Утвердить заказ</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Все функции управления заказами доступны в веб-интерфейсе</li>
<li>Интерфейс отзывчив и не имеет задержек</li>
<li>Технолог может эффективно работать с заказами</li>
</ul>
<h2 id="test_case-us53">Тест кейсы для US5.3: Простые отчеты на мобильном устройстве</h2>
<h3 id="test_case-tc-us531">TC-US5.3.1: Упрощенный интерфейс мобильных отчетов</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Оператор открывает отчеты в мобильном приложении</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Открыть раздел "Отчеты" в мобильном приложении</li>
<li>Просмотреть разные типы отчетов</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Интерфейс использует крупный шрифт</li>
<li>Минимальное количество элементов управления</li>
<li>Навигация простая и интуитивная</li>
</ul>
<h3 id="test_case-tc-us532">TC-US5.3.2: Быстрый доступ к ключевым данным</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Оператору нужно быстро найти информацию</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Открыть мобильное приложение</li>
<li>Найти нужный отчет</li>
<li>Получить необходимую информацию</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Для достижения цели требуется 2-3 тапа</li>
<li>Ключевые данные доступны сразу</li>
<li>Не требуется сложная навигация</li>
</ul>
<h3 id="test_case-tc-us533">TC-US5.3.3: Оптимизация для работы в условиях цеха</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Оператор работает в производственном цехе</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Использовать мобильное приложение в условиях цеха</li>
<li>Проверить удобство интерфейса</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Интерфейс понятен в условиях производственного цеха</li>
<li>Крупные элементы удобны для использования в перчатках</li>
<li>Минимальное количество действий для выполнения задач</li>
</ul></section><section class="print-page" id="test_case_release" heading-number="6.2"><h1 id="test_case_release-userstory">Тест кейсы для UserStory первого релиза</h1>
<h2 id="test_case_release-us61">Тест кейсы для US6.1: Автоматическое сканирование и блокировка партий</h2>
<ul>
<li>TC-US6.1.1: Автоматическое сканирование партий по расписанию</li>
<li>TC-US6.1.2: Блокировка партий с истекшим сроком годности</li>
<li>TC-US6.1.3: Блокировка партий за X часов до истечения срока</li>
<li>TC-US6.1.4: Исключение человеческого фактора в контроле сроков</li>
<li>TC-US6.1.5: Предотвращение использования заблокированных партий</li>
</ul>
<h2 id="test_case_release-us62">Тест кейсы для US6.2: Автоматическое создание заданий на утилизацию</h2>
<ul>
<li>TC-US6.2.1: Создание задания при блокировке партии</li>
<li>TC-US6.2.2: Отправка задания на мобильное устройство оператора</li>
<li>TC-US6.2.3: Указание точных данных в задании (штрих-код, локация, причина)</li>
<li>TC-US6.2.4: Приоритеты заданий (просроченные &gt; истекающие сегодня)</li>
<li>TC-US6.2.5: Отслеживание выполнения заданий</li>
</ul>
<h2 id="test_case_release-us63-">Тест кейсы для US6.3: Четкие задания на утилизацию со штрих-кодом и локацией</h2>
<ul>
<li>TC-US6.3.1: Формат задания с полной информацией для оператора</li>
<li>TC-US6.3.2: Передача штрих-кода партии в задании</li>
<li>TC-US6.3.3: Указание точной локации партии на складе или линии</li>
<li>TC-US6.3.4: Включение причины утилизации и приоритета выполнения</li>
<li>TC-US6.3.5: Оптимизированный интерфейс для быстрого выполнения</li>
</ul>
<h2 id="test_case_release-us71">Тест кейсы для US7.1: Запрос разрешения на использование полуфабриката</h2>
<ul>
<li>TC-US7.1.1: Запрос разрешения от роботизированной линии</li>
<li>TC-US7.1.2: Формат запроса (ID линии, контейнера, полуфабриката, количество)</li>
<li>TC-US7.1.3: Проверка статуса и срока годности партии</li>
<li>TC-US7.1.4: Ответ в формате разрешено/запрещено с причиной</li>
<li>TC-US7.1.5: Интеграция через gRPC/WebSocket</li>
</ul>
<h2 id="test_case_release-us72">Тест кейсы для US7.2: Реальное время ответа на запрос робота</h2>
<ul>
<li>TC-US7.2.1: Время ответа менее 100 мс (95-й процентиль)</li>
<li>TC-US7.2.2: Использование кэша для быстрого доступа к данным</li>
<li>TC-US7.2.3: Изоляция от медленных сервисов при проверке</li>
<li>TC-US7.2.4: Мониторинг времени ответа в реальном времени</li>
<li>TC-US7.2.5: Масштабируемость под пиковые нагрузки</li>
</ul>
<h2 id="test_case_release-us73">Тест кейсы для US7.3: Автоматическое уведомление о блокировке партии</h2>
<ul>
<li>TC-US7.3.1: Мгновенные уведомления роботов о блокировках</li>
<li>TC-US7.3.2: Немедленное прекращение использования заблокированной партии</li>
<li>TC-US7.3.3: Уведомление оператора о остановке линии</li>
<li>TC-US7.3.4: Надежная доставка уведомлений при недоступности</li>
<li>TC-US7.3.5: Сценарии восстановления после блокировки</li>
</ul>
<h2 id="test_case_release-us81">Тест кейсы для US8.1: Отслеживание остатков в оперативном запасе в реальном времени</h2>
<ul>
<li>TC-US8.1.1: Мониторинг остатков каждой линии в реальном времени</li>
<li>TC-US8.1.2: Получение уведомлений о списаниях от роботов</li>
<li>TC-US8.1.3: Определение момента необходимости пополнения</li>
<li>TC-US8.1.4: Расчет точки пополнения с учетом скорости расхода</li>
<li>TC-US8.1.5: Актуальность данных об остатках в любой момент</li>
</ul>
<h2 id="test_case_release-us82">Тест кейсы для US8.2: Автоматическое формирование задания на пополнение</h2>
<ul>
<li>TC-US8.2.1: Создание задания при достижении точки пополнения</li>
<li>TC-US8.2.2: Выбор партии по FEFO для пополнения</li>
<li>TC-US8.2.3: Указание точного количества для перемещения</li>
<li>TC-US8.2.4: Высокий приоритет заданий на пополнение</li>
<li>TC-US8.2.5: Исключение ручного выбора партии</li>
</ul>
<h2 id="test_case_release-us83">Тест кейсы для US8.3: Упрощенный процесс пополнения через сканирование</h2>
<ul>
<li>TC-US8.3.1: Упрощенный интерфейс пополнения в мобильном приложении</li>
<li>TC-US8.3.2: Сканирование штрих-кодов партии и зоны линии</li>
<li>TC-US8.3.3: Автоматическая фиксация перемещения после сканирования</li>
<li>TC-US8.3.4: Максимальное упрощение для оператора</li>
<li>TC-US8.3.5: Процесс пополнения без ручного ввода данных</li>
</ul>
<h2 id="test_case_release-us91">Тест кейсы для US9.1: Интерфейс настройки параметров автозаказа</h2>
<ul>
<li>TC-US9.1.1: Настройка Min Stock, Max Stock, Reorder Point</li>
<li>TC-US9.1.2: Самостоятельная настройка технологом без разработчиков</li>
<li>TC-US9.1.3: Валидация вводимых параметров</li>
<li>TC-US9.1.4: Гибкое управление запасами</li>
<li>TC-US9.1.5: Визуализация параметров в интерфейсе</li>
</ul>
<h2 id="test_case_release-us92">Тест кейсы для US9.2: Настройка коэффициентов сезонности</h2>
<ul>
<li>TC-US9.2.1: Настройка коэффициентов сезонности для правил автозаказа</li>
<li>TC-US9.2.2: Помесячные коэффициенты с выбором шаблона</li>
<li>TC-US9.2.3: Учет коэффициентов при расчете автозаказа</li>
<li>TC-US9.2.4: Увеличение запасов в периоды высокого спроса</li>
<li>TC-US9.2.5: Шаблоны коэффициентов для разных категорий товаров</li>
</ul>
<h2 id="test_case_release-us93">Тест кейсы для US9.3: Групповая настройка правил</h2>
<ul>
<li>TC-US9.3.1: Применение настроек правил к группе товаров</li>
<li>TC-US9.3.2: Фильтрация товаров по категориям</li>
<li>TC-US9.3.3: Валидация групповых изменений</li>
<li>TC-US9.3.4: Экономия времени на конфигурации</li>
<li>TC-US9.3.5: Массовое обновление параметров автозаказа</li>
</ul>
<h2 id="test_case_release-us101">Тест кейсы для US10.1: Автоматическая отправка заказов в ЛЦ</h2>
<ul>
<li>TC-US10.1.1: Отправка утвержденных заказов в ЛЦ через API</li>
<li>TC-US10.1.2: Исключение ручного ввода данных</li>
<li>TC-US10.1.3: Формат данных соответствующий требованиям ЛЦ</li>
<li>TC-US10.1.4: Интеграция с системой логистического центра</li>
<li>TC-US10.1.5: Автоматизация процесса отправки заказов</li>
</ul>
<h2 id="test_case_release-us102">Тест кейсы для US10.2: Обработка ответов от ЛЦ</h2>
<ul>
<li>TC-US10.2.1: Обработка ответов (подтверждение, ошибка, изменение количества)</li>
<li>TC-US10.2.2: Автоматическое обновление статуса заказа в системе</li>
<li>TC-US10.2.3: Сквозная видимость процесса</li>
<li>TC-US10.2.4: Автоматическое применение изменений при статусе "Изменен"</li>
<li>TC-US10.2.5: Callback endpoints для получения статусов</li>
</ul>
<h2 id="test_case_release-us103">Тест кейсы для US10.3: Отслеживание статусов заказов</h2>
<ul>
<li>TC-US10.3.1: Отображение статусов заказов в системе</li>
<li>TC-US10.3.2: Статусы: "Передан в ЛЦ", "Подтвержден", "В пути"</li>
<li>TC-US10.3.3: Отслеживание без обращения в ЛЦ</li>
<li>TC-US10.3.4: Актуальная информация о статусе выполнения заказа</li>
<li>TC-US10.3.5: Обновление статусов в реальном времени</li>
</ul>
<h2 id="test_case_release-us111">Тест кейсы для US11.1: Фиксация списаний по разным причинам</h2>
<ul>
<li>TC-US11.1.1: Фиксация списаний не только по просрочке</li>
<li>TC-US11.1.2: Выбор причины из справочника (брак, бой, порча, хищение)</li>
<li>TC-US11.1.3: Унифицированный учет всех потерь</li>
<li>TC-US11.1.4: Расширенный справочник причин списания</li>
<li>TC-US11.1.5: Учет различных типов потерь в системе</li>
</ul>
<h2 id="test_case_release-us112">Тест кейсы для US11.2: Журнал аудита действий системы и пользователей</h2>
<ul>
<li>TC-US11.2.1: Полный и неизменяемый журнал аудита</li>
<li>TC-US11.2.2: Фиксация всех действий системы и пользователей</li>
<li>TC-US11.2.3: Доступность журнала для расследования инцидентов</li>
<li>TC-US11.2.4: Полная трассируемость операций</li>
<li>TC-US11.2.5: Логирование критических действий системы</li>
</ul>
<h2 id="test_case_release-us121">Тест кейсы для US12.1: Асинхронные очереди для интеграций</h2>
<ul>
<li>TC-US12.1.1: Использование асинхронных очередей для внешних систем</li>
<li>TC-US12.1.2: Надежность и устойчивость к сбоям</li>
<li>TC-US12.1.3: Механизмы повторных попыток</li>
<li>TC-US12.1.4: Использование Kafka для асинхронной коммуникации</li>
<li>TC-US12.1.5: Интеграция ЛЦ и роботов через очереди</li>
</ul>
<h2 id="test_case_release-us122">Тест кейсы для US12.2: Производительность критических запросов</h2>
<ul>
<li>TC-US12.2.1: Обработка запросов от робота менее чем за 100 мс</li>
<li>TC-US12.2.2: Стабильность производительности под нагрузкой</li>
<li>TC-US12.2.3: Отсутствие простоев производства</li>
<li>TC-US12.2.4: Гарантированное время ответа для роботизированных линий</li>
<li>TC-US12.2.5: Кэширование для быстрого доступа к данным</li>
</ul>
<h2 id="test_case_release-us123">Тест кейсы для US12.3: Ролевая модель и разграничение прав</h2>
<ul>
<li>TC-US12.3.1: Реализация ролевой модели доступа (RBAC)</li>
<li>TC-US12.3.2: Разграничение прав для разных ролей</li>
<li>TC-US12.3.3: Роли: кассир, оператор линии, администратор, техник</li>
<li>TC-US12.3.4: Защита от несанкционированных действий</li>
<li>TC-US12.3.5: Обеспечение безопасности данных</li>
</ul></section><section class="print-page" id="test_case_uc" heading-number="6.3"><h1 id="test_case_uc-uc-mvp">Тест кейсы для UC MVP</h1>
<h2 id="test_case_uc-uc1-">Тест кейсы для UC1 - Сформировать отчет по сроку годности</h2>
<h3 id="test_case_uc-tc-111">TC-1.1.1: Успешное формирование отчета с базовыми параметрами</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>В системе есть партии с разными сроками годности</li>
<li>API доступен и аутентифицирован</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Вызвать GET /api/reports/expiration с минимальными параметрами</li>
<li>Проверить ответ API</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>HTTP 200 OK</li>
<li>Тело ответа содержит массив партий с обязательными колонками</li>
<li>Время ответа &lt; 7 секунд</li>
</ul>
<h3 id="test_case_uc-tc-112">TC-1.1.2: Фильтрация отчета по зоне хранения</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Существуют партии в разных зонах хранения</li>
<li>Справочник зон заполнен через UC5</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Вызвать GET /api/reports/expiration?zone=ХОЛОДИЛЬНИК_1</li>
<li>Проверить ответ</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Возвращены только партии из указанной зоны</li>
<li>Все партии имеют location_id = ХОЛОДИЛЬНИК_1</li>
</ul>
<h3 id="test_case_uc-tc-113">TC-1.1.3: Проверка соответствия данных на момент формирования</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Есть активные операции с остатками</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Зафиксировать текущие остатки партии X</li>
<li>Сформировать отчет</li>
<li>Изменить остатки партии X через UC4</li>
<li>Снова сформировать отчет</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Первый отчет показывает старые остатки</li>
<li>Второй отчет показывает новые остатки</li>
<li>Данные в каждом отчете соответствуют моменту формирования</li>
</ul>
<h3 id="test_case_uc-tc-121">TC-1.2.1: Отображение цветовой индикации статусов</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>В системе есть партии с разными статусами сроков</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Открыть страницу отчета в веб-интерфейсе</li>
<li>Проверить цветовое кодирование строк</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Просроченные партии - красный фон</li>
<li>Истекающие сегодня - желтый фон</li>
<li>Истекающие завтра - оранжевый фон</li>
<li>Заблокированные - серый фон</li>
<li>Нормальные - белый/зеленый фон</li>
</ul>
<h3 id="test_case_uc-tc-122">TC-1.2.2: Сортировка по сроку годности по умолчанию</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>В системе есть партии с разными датами expiration_date</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Открыть страницу отчета</li>
<li>Проверить порядок сортировки</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Партии отсортированы по expiration_date ASC</li>
<li>Самые ранние сроки вверху таблицы</li>
</ul>
<h2 id="test_case_uc-uc2-mvp-">Тест кейсы для UC2-MVP - Утилизировать партию по отчету</h2>
<h3 id="test_case_uc-tc-211">TC-2.1.1: Сканирование партии из отчета для утилизации</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>В отчете UC1 есть партии к утилизации</li>
<li>Оператор авторизован в мобильном приложении</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Открыть отчет UC1 в мобильном приложении</li>
<li>Выбрать партию для утилизации</li>
<li>Сканировать штрих-код партии</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Система подтверждает, что партия находится в отчете "к утилизации"</li>
<li>Отображаются данные партии</li>
<li>Процесс занимает не более 10 секунд</li>
</ul>
<h3 id="test_case_uc-tc-221-api">TC-2.2.1: Подтверждение утилизации через API</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Партия отсканирована и подтверждена для утилизации</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Нажать "Подтвердить утилизацию" в мобильном приложении</li>
<li>Подтвердить действие в диалоговом окне</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Остаток партии установлен в 0</li>
<li>Статус партии изменен на "Утилизирована"</li>
<li>Зафиксирован акт списания с причиной "Утилизация по сроку годности"</li>
</ul>
<h3 id="test_case_uc-tc-231">TC-2.3.1: Попытка утилизации партии не из отчета</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Оператор пытается утилизировать партию, которой нет в отчете UC1</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Сканировать штрих-код партии, не входящей в отчет</li>
<li>Попытаться подтвердить утилизацию</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Система показывает предупреждение "Данная партия не значится в отчете к утилизации"</li>
<li>Процесс утилизации прерывается</li>
</ul>
<h2 id="test_case_uc-uc3-mvp-">Тест кейсы для UC3-MVP - Пополнить оперативный запас у робота по отчету</h2>
<h3 id="test_case_uc-tc-311">TC-3.1.1: Выбор партии из отчета для пополнения</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>В отчете UC1 есть партии полуфабриката, требующего пополнения</li>
<li>Оператор визуально видит низкий запас на линии</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Открыть отчет UC1 для нужного полуфабриката</li>
<li>Выбрать партию из верхней строки отчета (по FEFO)</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Отчет показывает партии отсортированные по FEFO</li>
<li>Оператор может выбрать партию для пополнения</li>
</ul>
<h3 id="test_case_uc-tc-321-api">TC-3.2.1: Фиксация перемещения через API</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Оператор выбрал партию и переместил полуфабрикаты на линию</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>В мобильном приложении выбрать "Зафиксировать перемещение"</li>
<li>Ввести количество (по умолчанию = 1)</li>
<li>Подтвердить операцию</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Количество списано со складской партии</li>
<li>Количество добавлено к оперативному запасу линии</li>
<li>Зафиксирован акт внутреннего перемещения</li>
<li>Процесс занимает не более 20 секунд</li>
</ul>
<h3 id="test_case_uc-tc-331">TC-3.3.1: Обнаружение просроченной партии при пополнении</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Оператор выбрал партию с истекшим сроком годности</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Сканировать штрих-код просроченной партии</li>
<li>Попытаться зафиксировать перемещение</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Система показывает предупреждение о просроченной партии</li>
<li>Оператор должен отказаться от использования и сообщить технологу</li>
</ul>
<h2 id="test_case_uc-uc4-">Тест кейсы для UC4 - Провести инвентаризацию</h2>
<h3 id="test_case_uc-tc-411-">TC-4.1.1: Оффлайн-работа мобильного приложения</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Мобильное устройство не имеет сетевого соединения</li>
<li>Данные партий предварительно закэшированы</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Открыть мобильное приложение без сети</li>
<li>Начать инвентаризацию</li>
<li>Сканировать несколько партий и ввести фактические количества</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Данные сохраняются в локальном кэше</li>
<li>Сканирование и ввод работают без сетевого соединения</li>
<li>Внесение данных по одной партии занимает 3-5 секунд</li>
</ul>
<h3 id="test_case_uc-tc-421">TC-4.2.1: Автоматическая коррекция остатков при малых расхождениях</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Проведена инвентаризация с расхождениями ≤ 4000 ед.</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Завершить инвентаризацию в мобильном приложении</li>
<li>Дождаться синхронизации с сервером</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Система автоматически корректирует остатки</li>
<li>Формируется электронный акт инвентаризации</li>
<li>Корректировка выполняется под учёткой оператора</li>
</ul>
<h3 id="test_case_uc-tc-422">TC-4.2.2: Уведомление технолога при больших расхождениях</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Проведена инвентаризация с расхождениями &gt; 4000 ед.</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Завершить инвентаризацию с большими расхождениями</li>
<li>Проверить уведомления технолога</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Система блокирует позицию для разбирательства</li>
<li>Технолог получает уведомление</li>
<li>Требуется подтверждение технолога для коррекции</li>
</ul>
<h3 id="test_case_uc-tc-431">TC-4.3.1: Последовательное сканирование партий</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Оператор проводит инвентаризацию в зоне с множеством партий</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Сканировать штрих-код первой партии</li>
<li>Ввести фактическое количество</li>
<li>Перейти к следующей партии</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>После внесения данных фокус автоматически переходит на поле для сканирования следующего штрих-кода</li>
<li>Автозаполнение данных при распознавании штрих-кода</li>
</ul>
<h3 id="test_case_uc-tc-441">TC-4.4.1: Разрешение конфликтов при синхронизации</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Во время оффлайн-работы произошли изменения в системе</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Восстановить сетевое соединение</li>
<li>Отправить оффлайн-данные на сервер</li>
<li>Получить уведомление о конфликтах</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Система обнаруживает конфликтующие изменения</li>
<li>Запрашивает решение оператора по приоритету данных</li>
<li>Применяет выбранный оператором приоритет</li>
</ul>
<h2 id="test_case_uc-uc5-">Тест кейсы для UC5 - Вести справочники</h2>
<h3 id="test_case_uc-tc-511">TC-5.1.1: Создание новой номенклатурной позиции</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Технолог авторизован в веб-интерфейсе</li>
<li>Имеет права на редактирование справочников</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Открыть раздел "Справочники" -&gt; "Номенклатура"</li>
<li>Нажать "Добавить"</li>
<li>Заполнить обязательные атрибуты: название, ед. измерения, категория, срок хранения</li>
<li>Сохранить</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Система проверяет уникальность наименования</li>
<li>Создается новая запись в справочнике номенклатуры</li>
<li>Новая позиция доступна для заказа, учета и инвентаризации</li>
</ul>
<h3 id="test_case_uc-tc-512">TC-5.1.2: Попытка удаления позиции с историей операций</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Существует номенклатурная позиция с историей приходов/движений</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Выбрать позицию с историей операций</li>
<li>Попытаться удалить позицию</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Система запрещает удаление позиции</li>
<li>Предлагает вариант деактивации/архивации</li>
<li>Позиция исключается из выпадающих списков для нового заказа</li>
</ul>
<h3 id="test_case_uc-tc-521">TC-5.2.1: Создание иерархии складских зон</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Технолог работает с подразделом "Складские зоны"</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Создать новую зону хранения</li>
<li>Назначить тип зоны из справочника типов</li>
<li>Указать родительскую зону</li>
<li>Назначить штрих-код зоны</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Система сохраняет иерархическую структуру зон</li>
<li>Зона доступна для использования в инвентаризациях и отчетах</li>
<li>Штрих-код зоны может сканироваться оператором</li>
</ul>
<h3 id="test_case_uc-tc-531">TC-5.3.1: Проверка ролевой модели доступа</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Существуют пользователи с разными ролями</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Войти под пользователем с ролью "Оператор"</li>
<li>Попытаться открыть раздел "Справочники"</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Доступ к редактированию справочников запрещен</li>
<li>Оператор может только просматривать данные</li>
<li>Система показывает сообщение о недостатке прав</li>
</ul>
<h2 id="test_case_uc-uc6-">Тест кейсы для UC6 - Скорректировать заказ</h2>
<h3 id="test_case_uc-tc-611">TC-6.1.1: Просмотр черновика заказа с обоснованием</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Система сформировала черновик заказа через UC8</li>
<li>Технолог авторизован в системе</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Открыть раздел "Заказы"</li>
<li>Выбрать заказ со статусом "Черновик"</li>
<li>Просмотреть обоснование по позициям</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Отображается детализация расчета для каждой позиции</li>
<li>Видны: остаток, точка заказа, рекомендуемое количество</li>
<li>Цветовая индикация измененных технологом позиций</li>
</ul>
<h3 id="test_case_uc-tc-612">TC-6.1.2: Ручное изменение количества в заказе</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Открыт черновик заказа для редактирования</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Изменить количество для одной из позиций</li>
<li>Добавить новую позицию в заказ</li>
<li>Удалить позицию из заказа</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Система сохраняет изменения в черновике</li>
<li>Измененные позиции помечаются специальным цветом</li>
<li>Валидация: количество &gt; 0 и числовое значение</li>
</ul>
<h3 id="test_case_uc-tc-621">TC-6.2.1: Утверждение заказа с отправкой в ЛЦ</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Черновик заказа откорректирован и готов к отправке</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Нажать кнопку "Утвердить и отправить"</li>
<li>Подтвердить действие в диалоговом окне</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Статус заказа изменен на "Отправлен в ЛЦ"</li>
<li>Все действия технолога залогированы</li>
<li>Заказ передается в ЛЦ через UC12</li>
</ul>
<h3 id="test_case_uc-tc-622">TC-6.2.2: Отклонение заказа с указанием причины</h3>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Черновик заказа не требуется формировать</li>
</ul>
<p><strong>Шаги:</strong></p>
<ol>
<li>Нажать кнопку "Отклонить"</li>
<li>Указать причину отклонения</li>
<li>Подтвердить действие</li>
</ol>
<p><strong>Ожидаемый результат:</strong></p>
<ul>
<li>Статус заказа изменен на "Отклонен"</li>
<li>Заказ архивируется с указанием причины</li>
<li>Уведомление не отправляется в ЛЦ</li>
</ul></section><section class="print-page" id="test_case_uc_release" heading-number="6.4"><h1 id="test_case_uc_release-uc">Тест кейсы для UC первого релиза</h1>
<h2 id="test_case_uc_release-uc2-">Тест кейсы для UC2 - Утилизировать партию</h2>
<ul>
<li>TC-2.1.1: Автоматическое создание задания при блокировке партии</li>
<li>TC-2.1.2: Приоритеты заданий на утилизацию</li>
<li>TC-2.1.3: Предотвращение дублирования заданий</li>
<li>TC-2.2.1: Доставка push-уведомлений оператору</li>
<li>TC-2.2.2: Отображение заданий в очереди оператора</li>
<li>TC-2.3.1: Автоматическое повышение приоритета просроченных заданий</li>
<li>TC-2.3.2: Уведомление о массовой блокировке партий</li>
<li>TC-2.3.3: Повторные уведомления для заданий старше 1 часа</li>
</ul>
<h2 id="test_case_uc_release-uc3-">Тест кейсы для UC3 - Пополнить оперативный запас</h2>
<ul>
<li>TC-3.1.1: Мониторинг остатков на линии в реальном времени</li>
<li>TC-3.1.2: Автоматическое определение необходимости пополнения</li>
<li>TC-3.1.3: Расчет точки пополнения на основе прогноза продаж</li>
<li>TC-3.2.1: Автоматический выбор партии по FEFO</li>
<li>TC-3.2.2: Указание точного количества для перемещения</li>
<li>TC-3.2.3: Исключение заблокированных партий из выбора</li>
<li>TC-3.3.1: Пересчет виртуального срока годности при пополнении</li>
<li>TC-3.3.2: Принятие более раннего срока при добавлении партии</li>
<li>TC-3.3.3: Подтверждение роботу об обновлении данных</li>
</ul>
<h2 id="test_case_uc_release-uc7-">Тест кейсы для UC7 - Заблокировать просроченную партию</h2>
<ul>
<li>TC-7.1.1: Фоновое сканирование партий по расписанию</li>
<li>TC-7.1.2: Выявление просроченных партий</li>
<li>TC-7.1.3: Выявление партий, истекающих сегодня</li>
<li>TC-7.2.1: Автоматическое изменение статуса на "Заблокирована"</li>
<li>TC-7.2.2: Исключение заблокированных партий из алгоритмов</li>
<li>TC-7.2.3: Транзакционность изменения статуса</li>
<li>TC-7.3.1: Уведомление оператора о блокировках</li>
<li>TC-7.3.2: Уведомление технолога о критических ситуациях</li>
<li>TC-7.3.3: Журналирование действий по блокировке</li>
</ul>
<h2 id="test_case_uc_release-uc8-">Тест кейсы для UC8 - Рассчитать автозаказ</h2>
<ul>
<li>TC-8.1.1: Расчет по формуле Max - Остаток - Незавершенные заказы + Прогноз</li>
<li>TC-8.1.2: Применение ограничений минимальной партии</li>
<li>TC-8.1.3: Приведение к кратности партии</li>
<li>TC-8.2.1: Получение прогноза продаж через REST API</li>
<li>TC-8.2.2: Использование исторических данных при недоступности API</li>
<li>TC-8.2.3: Валидация отклонений прогноза</li>
<li>TC-8.3.1: Формирование черновика заказа</li>
<li>TC-8.3.2: Проверка на дубликаты и валидность данных</li>
<li>TC-8.3.3: Уведомление технолога о готовности черновика</li>
</ul>
<h2 id="test_case_uc_release-uc9-">Тест кейсы для UC9 - Подтвердить списание</h2>
<ul>
<li>TC-9.1.1: Выбор причины списания из системного перечня</li>
<li>TC-9.1.2: Проверка соответствия причины и статуса партии</li>
<li>TC-9.1.3: Дополнительное подтверждение технолога</li>
<li>TC-9.2.1: Фиксация акта списания с обязательными реквизитами</li>
<li>TC-9.2.2: Неизменяемое хранение данных списаний</li>
<li>TC-9.2.3: Полный журнал аудита действий</li>
<li>TC-9.3.1: Требование подтверждения технолога при превышении лимитов</li>
<li>TC-9.3.2: Уведомление технолога через Push/email/SMS</li>
<li>TC-9.3.3: Запрет списания в оффлайн-режиме для заблокированных партий</li>
</ul>
<h2 id="test_case_uc_release-uc10-">Тест кейсы для UC10 - Настроить правила автозаказа</h2>
<ul>
<li>TC-10.1.1: Настройка Min Stock, Max Stock, Reorder Point</li>
<li>TC-10.1.2: Визуализация в виде графика уровня запасов</li>
<li>TC-10.1.3: Валидация правил Min &lt; Reorder Point &lt; Max</li>
<li>TC-10.2.1: Настройка минимальной партии заказа</li>
<li>TC-10.2.2: Указание кратности партии</li>
<li>TC-10.2.3: Указание срока поставки в днях</li>
<li>TC-10.3.1: Применение настроек к группе товаров</li>
<li>TC-10.3.2: Настройка коэффициентов сезонности</li>
<li>TC-10.3.3: Включение/выключение учета прогноза продаж</li>
</ul>
<h2 id="test_case_uc_release-uc11-">Тест кейсы для UC11 - Проверить срок годности</h2>
<ul>
<li>TC-11.1.1: Время ответа на запрос робота &lt; 100 мс</li>
<li>TC-11.1.2: Доступность сервиса 99.99%</li>
<li>TC-11.1.3: Обработка сотен запросов в минуту</li>
<li>TC-11.2.1: Проверка статуса партии</li>
<li>TC-11.2.2: Сравнение текущего времени с сроком годности</li>
<li>TC-11.2.3: Проверка с запасом на период готовки</li>
<li>TC-11.3.1: Использование кэшированных данных при недоступности</li>
<li>TC-11.3.2: Автоматическое обновление кэша каждые 1 час</li>
<li>TC-11.3.3: Уведомление оператора при проблемах связи</li>
</ul>
<h2 id="test_case_uc_release-uc12-">Тест кейсы для UC12 - Передать заказ в ЛЦ</h2>
<ul>
<li>TC-12.1.1: Формирование сообщения в формате ЛЦ</li>
<li>TC-12.1.2: Передача данных заказа через REST API</li>
<li>TC-12.1.3: Обработка ответов от ЛЦ</li>
<li>TC-12.2.1: Автоматические повторные попытки при ошибках</li>
<li>TC-12.2.2: Перевод в статус "Ошибка отправки" после исчерпания попыток</li>
<li>TC-12.2.3: Идемпотентность процесса отправки</li>
<li>TC-12.3.1: Обработка callback статусов от ЛЦ</li>
<li>TC-12.3.2: Автоматическое применение изменений от ЛЦ</li>
<li>TC-12.3.3: Уведомление технолога об изменениях</li>
</ul>
<h2 id="test_case_uc_release-uc13-">Тест кейсы для UC13 - Сформировать задание на утилизацию</h2>
<ul>
<li>TC-13.1.1: Сканирование партий по расписанию</li>
<li>TC-13.1.2: Выявление партий по трем критериям утилизации</li>
<li>TC-13.1.3: Создание заданий с приоритетами на основе срочности</li>
<li>TC-13.2.1: Автоматическое назначение заданий операторам</li>
<li>TC-13.2.2: Учет загрузки операторов при распределении</li>
<li>TC-13.2.3: Балансировка нагрузки между операторами</li>
<li>TC-13.3.1: Автоматическое повышение приоритета просроченных заданий</li>
<li>TC-13.3.2: Уведомление о массовой блокировке</li>
<li>TC-13.3.3: Создание новых заданий при просрочке выполнения</li>
</ul></section></section></div><style>.print-site-enumerate-headings #section-1 > h1:before { content: '1 ' }
.print-site-enumerate-headings #section-2 > h1:before { content: '2 ' }
.print-site-enumerate-headings #page_2 > h1:before { content: '2.1 ' }

.print-site-enumerate-headings #general_info > h1:before { content: '2.2 ' }

.print-site-enumerate-headings #project_goals > h1:before { content: '2.3 ' }

.print-site-enumerate-headings #goals > h1:before { content: '2.4 ' }

.print-site-enumerate-headings #system_requirements > h1:before { content: '2.5 ' }

.print-site-enumerate-headings #section-3 > h1:before { content: '3 ' }
.print-site-enumerate-headings #object_characteristics > h1:before { content: '3.1 ' }

.print-site-enumerate-headings #business_processes > h1:before { content: '3.2 ' }

.print-site-enumerate-headings #subsystem_func_requirements > h1:before { content: '3.3 ' }

.print-site-enumerate-headings #subsystem_requirements > h1:before { content: '3.4 ' }

.print-site-enumerate-headings #user_story > h1:before { content: '3.5 ' }

.print-site-enumerate-headings #information_model > h1:before { content: '3.6 ' }

.print-site-enumerate-headings #c4_model > h1:before { content: '3.7 ' }

.print-site-enumerate-headings #seq_diagram > h1:before { content: '3.8 ' }

.print-site-enumerate-headings #ui > h1:before { content: '3.9 ' }

.print-site-enumerate-headings #section-4 > h1:before { content: '4 ' }
.print-site-enumerate-headings #api_robots > h1:before { content: '4.1 ' }

.print-site-enumerate-headings #api_logict > h1:before { content: '4.2 ' }

.print-site-enumerate-headings #api_mobile_task > h1:before { content: '4.3 ' }

.print-site-enumerate-headings #api_shelf_life_control > h1:before { content: '4.4 ' }

.print-site-enumerate-headings #api_stock_management > h1:before { content: '4.5 ' }

.print-site-enumerate-headings #api > h1:before { content: '4.6 ' }

.print-site-enumerate-headings #api_auto_order > h1:before { content: '4.7 ' }

.print-site-enumerate-headings #api_operational_stock > h1:before { content: '4.8 ' }

.print-site-enumerate-headings #section-5 > h1:before { content: '5 ' }
.print-site-enumerate-headings #task > h1:before { content: '5.1 ' }

.print-site-enumerate-headings #task_uc > h1:before { content: '5.2 ' }

.print-site-enumerate-headings #section-6 > h1:before { content: '6 ' }
.print-site-enumerate-headings #test_case > h1:before { content: '6.1 ' }

.print-site-enumerate-headings #test_case_release > h1:before { content: '6.2 ' }

.print-site-enumerate-headings #test_case_uc > h1:before { content: '6.3 ' }

.print-site-enumerate-headings #test_case_uc_release > h1:before { content: '6.4 ' }
</style>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  К началу
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2025 <a href="https://github.com/TimIrkutsk/Otus-Project"  target="_blank" rel="noopener">Тимохин Антон</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "/", "features": ["navigation.tabs", "navigation.instant", "navigation.tracking", "navigation.path", "navigation.sections", "toc.integrate", "navigation.expand", "navigation.top", "navigation.footer", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 \u0431\u0443\u0444\u0435\u0440", "clipboard.copy": "\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0431\u0443\u0444\u0435\u0440", "search.result.more.one": "\u0415\u0449\u0451 1 \u043d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435", "search.result.more.other": "\u0415\u0449\u0451 # \u043d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435", "search.result.none": "\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e", "search.result.one": "\u041d\u0430\u0439\u0434\u0435\u043d\u043e 1 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0435", "search.result.other": "\u041d\u0430\u0439\u0434\u0435\u043d\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439: #", "search.result.placeholder": "\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430", "search.result.term.missing": "\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442", "select.version": "\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0435\u0440\u0441\u0438\u044e"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../js/print-site.js"></script>
      
    
  </body>
</html>